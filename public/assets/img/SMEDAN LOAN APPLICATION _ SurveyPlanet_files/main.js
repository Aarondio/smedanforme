!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=it.type(t);return"function"!==n&&!it.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(dt.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return J.call(e,t)>-1!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return it.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function s(){K.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),it.ready()}function a(){this.expando=it.expando+a.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(St,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ct.test(n)?it.parseJSON(n):n)}catch(t){}kt.set(t,e,n)}else n=void 0;return n}function l(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return it.css(t,e,"")},u=a(),l=n&&n[3]||(it.cssNumber[e]?"":"px"),c=(it.cssNumber[e]||"px"!==l&&+u)&&At.exec(it.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,it.style(t,e,c+l)}while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function c(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&it.nodeName(t,e)?it.merge([t],n):n}function p(t,e){for(var n=0,r=t.length;n<r;n++)Et.set(t[n],"globalEval",!e||Et.get(e[n],"globalEval"))}function f(t,e,n,r,i){for(var o,s,a,u,l,f,h=e.createDocumentFragment(),d=[],g=0,m=t.length;g<m;g++)if((o=t[g])||0===o)if("object"===it.type(o))it.merge(d,o.nodeType?[o]:o);else if(Rt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Lt.exec(o)||["",""])[1].toLowerCase(),u=Pt[a]||Pt._default,s.innerHTML=u[1]+it.htmlPrefilter(o)+u[2],f=u[0];f--;)s=s.lastChild;it.merge(d,s.childNodes),s=h.firstChild,s.textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",g=0;o=d[g++];)if(r&&it.inArray(o,r)>-1)i&&i.push(o);else if(l=it.contains(o.ownerDocument,o),s=c(h.appendChild(o),"script"),l&&p(s),n)for(f=0;o=s[f++];)jt.test(o.type||"")&&n.push(o);return h}function h(){return!0}function d(){return!1}function g(){try{return K.activeElement}catch(t){}}function m(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)m(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=d;else if(!i)return t;return 1===o&&(s=i,i=function(t){return it().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=it.guid++)),t.each(function(){it.event.add(this,e,i,r,n)})}function v(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){var n,r,i,o,s,a,u,l;if(1===e.nodeType){if(Et.hasData(t)&&(o=Et.access(t),s=Et.set(e,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)it.event.add(e,i,l[i][n])}kt.hasData(t)&&(a=kt.access(t),u=it.extend({},a),kt.set(e,u))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ot.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(t,e,n,r){e=Z.apply([],e);var i,o,s,a,u,l,p=0,h=t.length,d=h-1,g=e[0],m=it.isFunction(g);if(m||h>1&&"string"==typeof g&&!rt.checkClone&&Ft.test(g))return t.each(function(i){var o=t.eq(i);m&&(e[0]=g.call(this,i,o.html())),x(o,e,n,r)});if(h&&(i=f(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=it.map(c(i,"script"),y),a=s.length;p<h;p++)u=i,p!==d&&(u=it.clone(u,!0,!0),a&&it.merge(s,c(u,"script"))),n.call(t[p],u,p);if(a)for(l=s[s.length-1].ownerDocument,it.map(s,b),p=0;p<a;p++)u=s[p],jt.test(u.type||"")&&!Et.access(u,"globalEval")&&it.contains(l,u)&&(u.src?it._evalUrl&&it._evalUrl(u.src):it.globalEval(u.textContent.replace(zt,"")))}return t}function E(t,e,n){for(var r,i=e?it.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||it.cleanData(c(r)),r.parentNode&&(n&&it.contains(r.ownerDocument,r)&&p(c(r,"script")),r.parentNode.removeChild(r));return t}function k(t,e){var n=it(e.createElement(t)).appendTo(e.body),r=it.css(n[0],"display");return n.detach(),r}function C(t){var e=K,n=Vt[t];return n||(n=k(t,e),"none"!==n&&n||(Ut=(Ut||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ut[0].contentDocument,e.write(),e.close(),n=k(t,e),Ut.detach()),Vt[t]=n),n}function S(t,e,n){var r,i,o,s,a=t.style;return n=n||Yt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||it.contains(t.ownerDocument,t)||(s=it.style(t,e)),n&&!rt.pixelMarginRight()&&Xt.test(s)&&Wt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in ee)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=te.length;n--;)if((t=te[n]+e)in ee)return t}function D(t,e,n){var r=At.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function q(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=it.css(t,n+Dt[o],!0,i)),r?("content"===n&&(s-=it.css(t,"padding"+Dt[o],!0,i)),"margin"!==n&&(s-=it.css(t,"border"+Dt[o]+"Width",!0,i))):(s+=it.css(t,"padding"+Dt[o],!0,i),"padding"!==n&&(s+=it.css(t,"border"+Dt[o]+"Width",!0,i)));return s}function O(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Yt(t),s="border-box"===it.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(i=S(t,e,o),(i<0||null==i)&&(i=t.style[e]),Xt.test(i))return i;r=s&&(rt.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+q(t,e,n||(s?"border":"content"),r,o)+"px"}function L(t,e){for(var n,r,i,o=[],s=0,a=t.length;s<a;s++)r=t[s],r.style&&(o[s]=Et.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&qt(r)&&(o[s]=Et.access(r,"olddisplay",C(r.nodeName)))):(i=qt(r),"none"===n&&i||Et.set(r,"olddisplay",i?n:it.css(r,"display"))));for(s=0;s<a;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function j(t,e,n,r,i){return new j.prototype.init(t,e,n,r,i)}function P(){return t.setTimeout(function(){ne=void 0}),ne=it.now()}function R(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Dt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function N(t,e,n){for(var r,i=(B.tweeners[e]||[]).concat(B.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function $(t,e,n){var r,i,o,s,a,u,l,c=this,p={},f=t.style,h=t.nodeType&&qt(t),d=Et.get(t,"fxshow");n.queue||(a=it._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,it.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=it.css(t,"display"),"inline"===("none"===l?Et.get(t,"olddisplay")||C(t.nodeName):l)&&"none"===it.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],ie.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;h=!0}p[r]=d&&d[r]||it.style(t,r)}else l=void 0;if(it.isEmptyObject(p))"inline"===("none"===l?C(t.nodeName):l)&&(f.display=l);else{d?"hidden"in d&&(h=d.hidden):d=Et.access(t,"fxshow",{}),o&&(d.hidden=!h),h?it(t).show():c.done(function(){it(t).hide()}),c.done(function(){var e;Et.remove(t,"fxshow");for(e in p)it.style(t,e,p[e])});for(r in p)s=N(h?d[r]:0,r,c),r in d||(d[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function I(t,e){var n,r,i,o,s;for(n in t)if(r=it.camelCase(n),i=e[r],o=t[n],it.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=it.cssHooks[r])&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function B(t,e,n){var r,i,o=0,s=B.prefilters.length,a=it.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ne||P(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),o<1&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{},easing:it.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||P(),duration:n.duration,tweens:[],createTween:function(e,n){var r=it.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(I(c,l.opts.specialEasing);o<s;o++)if(r=B.prefilters[o].call(l,t,c,l.opts))return it.isFunction(r.stop)&&(it._queueHooks(l.elem,l.opts.queue).stop=it.proxy(r.stop,r)),r;return it.map(c,N,l),it.isFunction(l.opts.start)&&l.opts.start.call(t,l),it.fx.timer(it.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function H(t){return t.getAttribute&&t.getAttribute("class")||""}function F(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function M(t,e,n,r){function i(a){var u;return o[a]=!0,it.each(t[a]||[],function(t,a){var l=a(e,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=t===ke;return i(e.dataTypes[0])||!o["*"]&&i("*")}function z(t,e){var n,r,i=it.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&it.extend(!0,t,r),t}function U(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function V(t,e,n,r){var i,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function W(t,e,n,r){var i;if(it.isArray(e))it.each(e,function(e,i){n||Ae.test(t)?r(t,i):W(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==it.type(e))r(t,e);else for(i in e)W(t+"["+i+"]",e[i],n,r)}function X(t){return it.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Y=[],K=t.document,G=Y.slice,Z=Y.concat,Q=Y.push,J=Y.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,rt={},it=function(t,e){return new it.fn.init(t,e)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:"2.2.4",constructor:it,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return it.each(this,t)},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:Y.sort,splice:Y.splice},it.extend=it.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||it.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(l&&r&&(it.isPlainObject(r)||(i=it.isArray(r)))?(i?(i=!1,o=n&&it.isArray(n)?n:[]):o=n&&it.isPlainObject(n)?n:{},s[e]=it.extend(l,o,r)):void 0!==r&&(s[e]=r));return s},it.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!it.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=it.trim(t))&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(at,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var r,i=0;if(n(t))for(r=t.length;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?it.merge(r,"string"==typeof t?[t]:t):Q.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:J.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,r){var i,o,s=0,a=[];if(n(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,r))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,r))&&a.push(o);return Z.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),it.isFunction(t))return r=G.call(arguments,2),i=function(){return t.apply(e||this,r.concat(G.call(arguments)))},i.guid=t.guid=t.guid||it.guid++,i},now:Date.now,support:rt}),"function"==typeof Symbol&&(it.fn[Symbol.iterator]=Y[Symbol.iterator]),it.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var lt=function(t){function e(t,e,n,r){var i,o,s,a,l,p,f,h,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!r&&((e?e.ownerDocument||e:I)!==q&&D(e),e=e||q,L)){if(11!==g&&(p=gt.exec(t)))if(i=p[1]){if(9===g){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(d&&(s=d.getElementById(i))&&N(e,s)&&s.id===i)return n.push(s),n}else{if(p[2])return G.apply(n,e.getElementsByTagName(t)),n;if((i=p[3])&&b.getElementsByClassName&&e.getElementsByClassName)return G.apply(n,e.getElementsByClassName(i)),n}if(b.qsa&&!z[t+" "]&&(!j||!j.test(t))){if(1!==g)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(vt,"\\$&"):e.setAttribute("id",a=$),f=E(t),o=f.length,l=ct.test(a)?"#"+a:"[id='"+a+"']";o--;)f[o]=l+" "+c(f[o]);h=f.join(","),d=mt.test(t)&&u(e.parentNode)||e}if(h)try{return G.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{a===$&&e.removeAttribute("id")}}}return C(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[$]=!0,t}function i(t){var e=q.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function l(){}function c(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[B,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[$]||(e[$]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[r])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function h(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function d(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),l&&e.push(a)));return s}function g(t,e,n,i,o,s){return i&&!i[$]&&(i=g(i)),o&&!o[$]&&(o=g(o,s)),r(function(r,s,a,u){var l,c,p,f=[],g=[],m=s.length,v=r||h(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?v:d(v,f,t,a,u),b=n?o||(r?t:m||i)?[]:s:y;if(n&&n(y,b,a,u),i)for(l=d(b,g),i(l,[],a,u),c=l.length;c--;)(p=l[c])&&(b[g[c]]=!(y[g[c]]=p));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(p=b[c])&&l.push(y[c]=p);o(null,b=[],l,u)}for(c=b.length;c--;)(p=b[c])&&(l=o?Q(r,p):f[c])>-1&&(r[l]=!(s[l]=p))}}else b=d(b===s?b.splice(m,b.length):b),o?o(null,s,b,u):G.apply(s,b)})}function m(t){for(var e,n,r,i=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),l=p(function(t){return Q(e,t)>-1},s,!0),h=[function(t,n,r){var i=!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];a<i;a++)if(n=_.relative[t[a].type])h=[p(f(h),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[$]){for(r=++a;r<i&&!_.relative[t[r].type];r++);return g(a>1&&f(h),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ot,"$1"),n,a<r&&m(t.slice(a,r)),r<i&&m(t=t.slice(r)),r<i&&c(t))}h.push(n)}return f(h)}function v(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,l){var c,p,f,h=0,g="0",m=r&&[],v=[],y=S,b=r||o&&_.find.TAG("*",l),w=B+=null==y?1:Math.random()||.1,x=b.length;for(l&&(S=s===q||s||l);g!==x&&null!=(c=b[g]);g++){if(o&&c){for(p=0,s||c.ownerDocument===q||(D(c),a=!L);f=t[p++];)if(f(c,s||q,a)){u.push(c);break}l&&(B=w)}i&&((c=!f&&c)&&h--,r&&m.push(c))}if(h+=g,i&&g!==h){for(p=0;f=n[p++];)f(m,v,s,a);if(r){if(h>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(u));v=d(v)}G.apply(u,v),l&&!r&&v.length>0&&h+n.length>1&&e.uniqueSort(u)}return l&&(B=w,S=y),m};return i?r(s):s}var y,b,_,w,x,E,k,C,S,T,A,D,q,O,L,j,P,R,N,$="sizzle"+1*new Date,I=t.document,B=0,H=0,F=n(),M=n(),z=n(),U=function(t,e){return t===e&&(A=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,K=X.push,G=X.push,Z=X.slice,Q=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(rt),ct=new RegExp("^"+et+"$"),pt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,ht=/^h\d$/i,dt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_t=function(){D()};try{G.apply(X=Z.call(I.childNodes),I.childNodes),X[I.childNodes.length].nodeType}catch(t){G={apply:X.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}b=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:I;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,O=q.documentElement,L=!x(q),(n=q.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),b.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=i(function(t){return t.appendChild(q.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=dt.test(q.getElementsByClassName),b.getById=i(function(t){return O.appendChild(t).id=$,!q.getElementsByName||!q.getElementsByName($).length}),b.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&L)return e.getElementsByClassName(t)},P=[],j=[],(b.qsa=dt.test(q.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+$+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||j.push(".#.+[+~]")}),i(function(t){var e=q.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(b.matchesSelector=dt.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){b.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),P.push("!=",rt)}),j=j.length&&new RegExp(j.join("|")),P=P.length&&new RegExp(P.join("|")),e=dt.test(O.compareDocumentPosition),N=e||dt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===q||t.ownerDocument===I&&N(I,t)?-1:e===q||e.ownerDocument===I&&N(I,e)?1:T?Q(T,t)-Q(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===q?-1:e===q?1:i?-1:o?1:T?Q(T,t)-Q(T,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===I?-1:u[r]===I?1:0},q):q},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==q&&D(t),n=n.replace(ut,"='$1']"),b.matchesSelector&&L&&!z[n+" "]&&(!P||!P.test(n))&&(!j||!j.test(n)))try{var r=R.call(t,n);if(r||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,q,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==q&&D(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==q&&D(t);var n=_.attrHandle[e.toLowerCase()],r=n&&W.call(_.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==r?r:b.attributes||!L?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!b.detectDuplicates,T=!b.sortStable&&t.slice(0),t.sort(U),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return T=null,t},w=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=w(e);return n},_=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&lt.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,p,f,h,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(f=m,p=f[$]||(f[$]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[t]||[],h=l[0]===B&&l[1],b=h&&l[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(b=h=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[B,h,b];break}}else if(y&&(f=e,p=f[$]||(f[$]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),l=c[t]||[],h=l[0]===B&&l[1],b=h),!1===b)for(;(f=++h&&f&&f[g]||(b=h=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(p=f[$]||(f[$]={}),c=p[f.uniqueID]||(p[f.uniqueID]={}),c[t]=[B,b]),f!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[$]?o(n):o.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=Q(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(ot,"$1"));return i[$]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(yt,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:r(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,bt).toLowerCase(),function(e){var n;do{if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ht.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:a(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},_.pseudos.nth=_.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[y]=function(t){return function(e){
return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})_.pseudos[y]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(y);return l.prototype=_.filters=_.pseudos,_.setFilters=new l,E=e.tokenize=function(t,n){var r,i,o,s,a,u,l,c=M[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=_.preFilter;a;){r&&!(i=st.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=at.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),a=a.slice(r.length));for(s in _.filter)!(i=pt[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):M(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=z[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=m(e[n]),o[$]?r.push(o):i.push(o);o=z(t,v(i,r)),o.selector=t}return o},C=e.select=function(t,e,n,r){var i,o,s,a,l,p="function"==typeof t&&t,f=!r&&E(t=p.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&L&&_.relative[o[1].type]){if(!(e=(_.find.ID(s.matches[0].replace(yt,bt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(s=o[i],!_.relative[a=s.type]);)if((l=_.find[a])&&(r=l(s.matches[0].replace(yt,bt),mt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&c(o)))return G.apply(n,r),n;break}}return(p||k(t,f))(r,e,!L,n,!e||mt.test(t)&&u(e.parentNode)||e),n},b.sortStable=$.split("").sort(U).join("")===$,b.detectDuplicates=!!A,D(),b.sortDetached=i(function(t){return 1&t.compareDocumentPosition(q.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(J,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.uniqueSort=it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&it(t).is(n))break;r.push(t)}return r},pt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=it.expr.match.needsContext,ht=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;it.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?it.find.matchesSelector(r,t)?[r]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;e<n;e++)if(it.contains(i[e],this))return!0}));for(e=0;e<n;e++)it.find(t,i[e],r);return r=this.pushStack(n>1?it.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ft.test(t)?it(t):t||[],!1).length}});var gt,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(it.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||gt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:mt.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),ht.test(r[1])&&it.isPlainObject(e))for(r in e)it.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=K.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?void 0!==n.ready?n.ready(t):t(it):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))}).prototype=it.fn,gt=it(K);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.fn.extend({has:function(t){var e=it(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(it.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=ft.test(t)||"string"!=typeof t?it(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?it.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?J.call(it(t),this[0]):J.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.uniqueSort(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ct(t,"parentNode")},parentsUntil:function(t,e,n){return ct(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return ct(t,"nextSibling")},prevAll:function(t){return ct(t,"previousSibling")},nextUntil:function(t,e,n){return ct(t,"nextSibling",n)},prevUntil:function(t,e,n){return ct(t,"previousSibling",n)},siblings:function(t){return pt((t.parentNode||{}).firstChild,t)},children:function(t){return pt(t.firstChild)},contents:function(t){return t.contentDocument||it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,r){var i=it.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[t]||it.uniqueSort(i),vt.test(t)&&i.reverse()),this.pushStack(i)}});var bt=/\S+/g;it.Callbacks=function(t){t="string"==typeof t?o(t):it.extend({},t);var e,n,r,i,s=[],a=[],u=-1,l=function(){for(i=t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)!1===s[u].apply(n[0],n[1])&&t.stopOnFalse&&(u=s.length,n=!1);t.memory||(n=!1),e=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(u=s.length-1,a.push(n)),function e(n){it.each(n,function(n,r){it.isFunction(r)?t.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==it.type(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return it.each(arguments,function(t,e){for(var n;(n=it.inArray(e,s,n))>-1;)s.splice(n,1),n<=u&&u--}),this},has:function(t){return t?it.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,o){var s=it.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,r):r}},i={};return r.pipe=r.then,it.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=G.call(arguments),s=o.length,a=1!==s||t&&it.isFunction(t.promise)?s:0,u=1===a?t:it.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?G.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,e)).done(l(i,r,o)).fail(u.reject):--a;return a||u.resolveWith(r,o),u.promise()}});var _t;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){(!0===t?--it.readyWait:it.isReady)||(it.isReady=!0,!0!==t&&--it.readyWait>0||(_t.resolveWith(K,[it]),it.fn.triggerHandler&&(it(K).triggerHandler("ready"),it(K).off("ready"))))}}),it.ready.promise=function(e){return _t||(_t=it.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?t.setTimeout(it.ready):(K.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),_t.promise(e)},it.ready.promise();var wt=function(t,e,n,r,i,o,s){var a=0,u=t.length,l=null==n;if("object"===it.type(n)){i=!0;for(a in n)wt(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(s=!0),l&&(s?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(it(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:l?e.call(t):u?e(t[0],n):o},xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!xt(t))return{};var e=t[this.expando];return e||(e={},xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,it.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{it.isArray(e)?r=e.concat(e.map(it.camelCase)):(i=it.camelCase(e),e in o?r=[e,i]:(r=i,r=r in o?[r]:r.match(bt)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===e||it.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!it.isEmptyObject(e)}};var Et=new a,kt=new a,Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/[A-Z]/g;it.extend({hasData:function(t){return kt.hasData(t)||Et.hasData(t)},data:function(t,e,n){return kt.access(t,e,n)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,n){return Et.access(t,e,n)},_removeData:function(t,e){Et.remove(t,e)}}),it.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=kt.get(o),1===o.nodeType&&!Et.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),u(o,r,i[r])));Et.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){kt.set(this,t)}):wt(this,function(e){var n,r;if(o&&void 0===e){if(void 0!==(n=kt.get(o,t)||kt.get(o,t.replace(St,"-$&").toLowerCase())))return n;if(r=it.camelCase(t),void 0!==(n=kt.get(o,r)))return n;if(void 0!==(n=u(o,r,void 0)))return n}else r=it.camelCase(t),this.each(function(){var n=kt.get(this,r);kt.set(this,r,e),t.indexOf("-")>-1&&void 0!==n&&kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),it.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Et.get(t,e),n&&(!r||it.isArray(n)?r=Et.access(t,e,it.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),r=n.length,i=n.shift(),o=it._queueHooks(t,e),s=function(){it.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Et.get(t,n)||Et.access(t,n,{empty:it.Callbacks("once memory").add(function(){Et.remove(t,[e+"queue",n])})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):void 0===e?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=it.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Et.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),Dt=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},Ot=/^(?:checkbox|radio)$/i,Lt=/<([\w:-]+)/,jt=/^$|\/(?:java|ecma)script/i,Pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td;var Rt=/<|&#?\w+;/;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),rt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Nt=/^key/,$t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;it.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=Et.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=it.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==it&&it.event.triggered!==e.type?it.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(bt)||[""],l=e.length;l--;)a=It.exec(e[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h&&(p=it.event.special[h]||{},h=(i?p.delegateType:p.bindType)||h,p=it.event.special[h]||{},c=it.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[h])||(f=u[h]=[],f.delegateCount=0,p.setup&&!1!==p.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(h,s)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),it.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=Et.hasData(t)&&Et.get(t);if(m&&(u=m.events)){for(e=(e||"").match(bt)||[""],l=e.length;l--;)if(a=It.exec(e[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){for(p=it.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(t,c));s&&!f.length&&(p.teardown&&!1!==p.teardown.call(t,d,m.handle)||it.removeEvent(t,h,m.handle),delete u[h])}else for(h in u)it.event.remove(t,h+e[l],n,r,!0);it.isEmptyObject(u)&&Et.remove(t,"handle events")}},dispatch:function(t){t=it.event.fix(t);var e,n,r,i,o,s=[],a=G.call(arguments),u=(Et.get(this,"events")||{})[t.type]||[],l=it.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(s=it.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(r=((it.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(r=[],n=0;n<a;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?it(i,this).index(u)>-1:it.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[it.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=$t.test(i)?this.mouseHooks:Nt.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new it.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&it.nodeName(this,"input"))return this.click(),!1},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},it.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},it.Event=function(t,e){if(!(this instanceof it.Event))return new it.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?h:d):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),this[it.expando]=!0},it.Event.prototype={constructor:it.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||it.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),it.fn.extend({on:function(t,e,n,r){return m(this,t,e,n,r)},one:function(t,e,n,r){return m(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,it(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=d),this.each(function(){it.event.remove(this,t,n,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^true\/(.*)/,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;it.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=it.contains(t.ownerDocument,t);if(!(rt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(s=c(a),o=c(t),r=0,i=o.length;r<i;r++)w(o[r],s[r]);if(e)if(n)for(o=o||c(t),s=s||c(a),r=0,i=o.length;r<i;r++)_(o[r],s[r]);else _(t,a);return s=c(a,"script"),s.length>0&&p(s,!u&&c(t,"script")),a},cleanData:function(t){for(var e,n,r,i=it.event.special,o=0;void 0!==(n=t[o]);o++)if(xt(n)){if(e=n[Et.expando]){if(e.events)for(r in e.events)i[r]?it.event.remove(n,r):it.removeEvent(n,r,e.handle);n[Et.expando]=void 0}n[kt.expando]&&(n[kt.expando]=void 0)}}}),it.fn.extend({domManip:x,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return wt(this,function(t){return void 0===t?it.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,t).appendChild(t)}})},prepend:function(){return x(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return x(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(it.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return wt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Pt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=it.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(it.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return x(this,arguments,function(e){var n=this.parentNode;it.inArray(this,t)<0&&(it.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,r=[],i=it(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),it(i[s])[e](n),Q.apply(r,n.get());return this.pushStack(r)}});var Ut,Vt={HTML:"block",BODY:"block"},Wt=/^margin/,Xt=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),Yt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Kt=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},Gt=K.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Gt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,a.style.marginRight="50%",i="4px"===e.marginRight,Gt.removeChild(s)}var n,r,i,o,s=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),it.extend(rt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},pixelMarginRight:function(){return null==r&&e(),i},reliableMarginLeft:function(){return null==r&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Gt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Gt.removeChild(s),a.removeChild(n),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,Qt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},te=["Webkit","O","Moz","ms"],ee=K.createElement("div").style;it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=it.camelCase(e),u=t.style;if(e=it.cssProps[a]||(it.cssProps[a]=A(a)||a),s=it.cssHooks[e]||it.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e];o=typeof n,"string"===o&&(i=At.exec(n))&&i[1]&&(n=l(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(it.cssNumber[a]?"":"px")),rt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n))}},css:function(t,e,n,r){var i,o,s,a=it.camelCase(e);return e=it.cssProps[a]||(it.cssProps[a]=A(a)||a),s=it.cssHooks[e]||it.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=S(t,e,r)),"normal"===i&&e in Jt&&(i=Jt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,r){if(n)return Zt.test(it.css(t,"display"))&&0===t.offsetWidth?Kt(t,Qt,function(){return O(t,e,r)}):O(t,e,r)},set:function(t,n,r){var i,o=r&&Yt(t),s=r&&q(t,e,r,"border-box"===it.css(t,"boxSizing",!1,o),o);return s&&(i=At.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=it.css(t,e)),D(t,n,s)}}}),it.cssHooks.marginLeft=T(rt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(S(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),it.cssHooks.marginRight=T(rt.reliableMarginRight,function(t,e){if(e)return Kt(t,{display:"inline-block"},S,[t,"marginRight"])}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Dt[r]+e]=o[r]||o[r-2]||o[0];return i}},Wt.test(t)||(it.cssHooks[t+e].set=D)}),it.fn.extend({css:function(t,e){return wt(this,function(t,e,n){var r,i,o={},s=0;if(it.isArray(e)){for(r=Yt(t),i=e.length;s<i;s++)o[e[s]]=it.css(t,e[s],!1,r);return o}return void 0!==n?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?it(this).show():it(this).hide()})}}),it.Tween=j,j.prototype={constructor:j,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||it.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,n=j.propHooks[this.prop];return this.options.duration?this.pos=e=it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=it.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[it.cssProps[t.prop]]&&!it.cssHooks[t.prop]?t.elem[t.prop]=t.now:it.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},it.fx=j.prototype.init,it.fx.step={};var ne,re,ie=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;it.Animation=it.extend(B,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return l(n.elem,t,At.exec(e),n),n}]},tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),it.speed=function(t,e,n){var r=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(t,e,n,r){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=it.isEmptyObject(t),o=it.speed(e,n,r),s=function(){var e=B(this,it.extend({},t),o);(i||Et.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=it.timers,s=Et.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&oe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Et.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=it.timers,s=r?r.length:0;for(n.finish=!0,it.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,r,i)}}),it.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),it.timers=[],it.fx.tick=function(){var t,e=0,n=it.timers;for(ne=it.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||it.fx.stop(),ne=void 0},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){
re||(re=t.setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){t.clearInterval(re),re=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,n){return e=it.fx?it.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",rt.checkOn=""!==t.value,rt.optSelected=n.selected,e.disabled=!0,rt.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",rt.radioValue="t"===t.value}();var se,ae=it.expr.attrHandle;it.fn.extend({attr:function(t,e){return wt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?it.prop(t,e,n):(1===o&&it.isXMLDoc(t)||(e=e.toLowerCase(),i=it.attrHooks[e]||(it.expr.match.bool.test(e)?se:void 0)),void 0!==n?null===n?void it.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=it.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!rt.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(bt);if(o&&1===t.nodeType)for(;n=o[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),se={set:function(t,e,n){return!1===e?it.removeAttr(t,n):t.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ae[e]||it.find.attr;ae[e]=function(t,e,r){var i,o;return r||(o=ae[e],ae[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ae[e]=o),i}});var ue=/^(?:input|select|textarea|button)$/i,le=/^(?:a|area)$/i;it.fn.extend({prop:function(t,e){return wt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[it.propFix[t]||t]})}}),it.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&it.isXMLDoc(t)||(e=it.propFix[e]||e,i=it.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=it.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||le.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),rt.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this});var ce=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,H(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(ce," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=it.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[u++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(ce," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=it.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):it.isFunction(t)?this.each(function(n){it(this).toggleClass(t.call(this,n,H(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=it(this),o=t.match(bt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=H(this),e&&Et.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Et.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(ce," ").indexOf(e)>-1)return!0;return!1}});var pe=/\r/g,fe=/[\x20\t\r\n\f]+/g;it.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=it.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,it(this).val()):t,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(t){return null==t?"":t+""})),(e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(pe,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t)).replace(fe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(rt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=it.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=it.inArray(it.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){if(it.isArray(e))return t.checked=it.inArray(it(t).val(),e)>-1}},rt.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var he=/^(?:focusinfocus|focusoutblur)$/;it.extend(it.event,{trigger:function(e,n,r,i){var o,s,a,u,l,c,p,f=[r||K],h=nt.call(e,"type")?e.type:e,d=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!he.test(h+it.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),l=h.indexOf(":")<0&&"on"+h,e=e[it.expando]?e:new it.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:it.makeArray(n,[e]),p=it.event.special[h]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!it.isWindow(r)){for(u=p.delegateType||h,he.test(u+h)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||K)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:p.bindType||h,c=(Et.get(s,"events")||{})[e.type]&&Et.get(s,"handle"),c&&c.apply(s,n),(c=l&&s[l])&&c.apply&&xt(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),n)||!xt(r)||l&&it.isFunction(r[h])&&!it.isWindow(r)&&(a=r[l],a&&(r[l]=null),it.event.triggered=h,r[h](),it.event.triggered=void 0,a&&(r[l]=a)),e.result}},simulate:function(t,e,n){var r=it.extend(new it.Event,n,{type:t,isSimulated:!0});it.event.trigger(r,null,e)}}),it.fn.extend({trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return it.event.trigger(t,e,n,!0)}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),rt.focusin="onfocusin"in t,rt.focusin||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t))};it.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Et.access(r,e);i||r.addEventListener(t,n,!0),Et.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Et.access(r,e)-1;i?Et.access(r,e,i):(r.removeEventListener(t,n,!0),Et.remove(r,e))}}});var de=t.location,ge=it.now(),me=/\?/;it.parseJSON=function(t){return JSON.parse(t+"")},it.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+e),n};var ve=/#.*$/,ye=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,_e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,we=/^(?:GET|HEAD)$/,xe=/^\/\//,Ee={},ke={},Ce="*/".concat("*"),Se=K.createElement("a");Se.href=de.href,it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:de.href,type:"GET",isLocal:_e.test(de.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,it.ajaxSettings),e):z(it.ajaxSettings,t)},ajaxPrefilter:F(Ee),ajaxTransport:F(ke),ajax:function(e,n){function r(e,n,r,a){var l,p,y,b,w,E=n;2!==_&&(_=2,u&&t.clearTimeout(u),i=void 0,s=a||"",x.readyState=e>0?4:0,l=e>=200&&e<300||304===e,r&&(b=U(f,x,r)),b=V(f,b,x,l),l?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(it.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(it.etag[o]=w)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=b.state,p=b.data,y=b.error,l=!y)):(y=E,!e&&E||(E="error",e<0&&(e=0))),x.status=e,x.statusText=(n||E)+"",l?g.resolveWith(h,[p,E,x]):g.rejectWith(h,[x,E,y]),x.statusCode(v),v=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[x,f,l?p:y]),m.fireWith(h,[x,E]),c&&(d.trigger("ajaxComplete",[x,f]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,a,u,l,c,p,f=it.ajaxSetup({},n),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?it(h):it.event,g=it.Deferred(),m=it.Callbacks("once memory"),v=f.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!a)for(a={};e=be.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return _||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||de.href)+"").replace(ve,"").replace(xe,de.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=it.trim(f.dataType||"*").toLowerCase().match(bt)||[""],null==f.crossDomain){l=K.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Se.protocol+"//"+Se.host!=l.protocol+"//"+l.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=it.param(f.data,f.traditional)),M(Ee,f,n,x),2===_)return x;c=it.event&&f.global,c&&0==it.active++&&it.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!we.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(me.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ye.test(o)?o.replace(ye,"$1_="+ge++):o+(me.test(o)?"&":"?")+"_="+ge++)),f.ifModified&&(it.lastModified[o]&&x.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&x.setRequestHeader("If-None-Match",it.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ce+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)x.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(h,x,f)||2===_))return x.abort();w="abort";for(p in{success:1,error:1,complete:1})x[p](f[p]);if(i=M(ke,f,n,x)){if(x.readyState=1,c&&d.trigger("ajaxSend",[x,f]),2===_)return x;f.async&&f.timeout>0&&(u=t.setTimeout(function(){x.abort("timeout")},f.timeout));try{_=1,i.send(y,r)}catch(t){if(!(_<2))throw t;r(-1,t)}}else r(-1,"No Transport");return x},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,void 0,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax(it.extend({url:t,type:e,dataType:i,data:n,success:r},it.isPlainObject(t)&&t))}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},it.fn.extend({wrapAll:function(t){var e;return it.isFunction(t)?this.each(function(e){it(this).wrapAll(t.call(this,e))}):(this[0]&&(e=it(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return it.isFunction(t)?this.each(function(e){it(this).wrapInner(t.call(this,e))}):this.each(function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return!it.expr.filters.visible(t)},it.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Te=/%20/g,Ae=/\[\]$/,De=/\r?\n/g,qe=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,r=[],i=function(t,e){e=it.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){i(this.name,this.value)});else for(n in t)W(n,t[n],e,i);return r.join("&").replace(Te,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&Oe.test(this.nodeName)&&!qe.test(t)&&(this.checked||!Ot.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:n.replace(De,"\r\n")}}).get()}}),it.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Le={0:200,1223:204},je=it.ajaxSettings.xhr();rt.cors=!!je&&"withCredentials"in je,rt.ajax=je=!!je,it.ajaxTransport(function(e){var n,r;if(rt.cors||je&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(t){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Le[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=it("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Pe=[],Re=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||it.expando+"_"+ge++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=!1!==e.jsonp&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Re,"$1"+i):!1!==e.jsonp&&(e.url+=(me.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||it.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){void 0===o?it(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(i)),s&&it.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=ht.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=f([t],e,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var Ne=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&Ne)return Ne.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=it.trim(t.slice(a)),t=t.slice(0,a)),it.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&it.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?it("<div>").append(it.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length},it.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,l,c=it.css(t,"position"),p=it(t),f={};"static"===c&&(t.style.position="relative"),a=p.offset(),o=it.css(t,"top"),u=it.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),it.isFunction(e)&&(e=e.call(t,n,it.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):p.css(f)}},it.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,it.contains(e,r)?(i=r.getBoundingClientRect(),n=X(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===it.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(r=t.offset()),r.top+=it.css(t[0],"borderTopWidth",!0),r.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-it.css(n,"marginTop",!0),left:e.left-r.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===it.css(t,"position");)t=t.offsetParent;return t||Gt})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;it.fn[t]=function(r){return wt(this,function(t,r,i){var o=X(t);if(void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=T(rt.pixelPosition,function(t,n){if(n)return n=S(t,e),Xt.test(n)?it(t).position()[e]+"px":n})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){it.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return wt(this,function(e,n,r){var i;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?it.css(e,n,s):it.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),it.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var $e=t.jQuery,Ie=t.$;return it.noConflict=function(e){return t.$===it&&(t.$=Ie),e&&t.jQuery===it&&(t.jQuery=$e),it},e||(t.jQuery=t.$=it),it}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("raven",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Raven=t()}}(function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t){this.name="RavenConfigError",this.message=t}r.prototype=new Error,r.prototype.constructor=r,e.exports=r},{}],2:[function(t,e,n){var r=t(5),i=function(t,e,n){var i=t[e],o=t;if(e in t){var s="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),a=r.safeJoin(t," "),u={level:s,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(a="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),n&&n(a,u)):n&&n(a,u),i&&Function.prototype.apply.call(i,o,t)}}};e.exports={wrapMethod:i}},{5:5}],3:[function(t,e,n){(function(n){function r(){return+new Date}function i(t,e){return y(e)?function(n){return e(n,t)}:e}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!v(U),this._hasNavigator=!v(V),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:N()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}var s=t(6),a=t(7),u=t(8),l=t(1),c=t(5),p=c.isErrorEvent,f=c.isDOMError,h=c.isDOMException,d=c.isError,g=c.isObject,m=c.isPlainObject,v=c.isUndefined,y=c.isFunction,b=c.isString,_=c.isArray,w=c.isEmptyObject,x=c.each,E=c.objectMerge,k=c.truncate,C=c.objectFrozen,S=c.hasKey,T=c.joinRegExp,A=c.urlencode,D=c.uuid4,q=c.htmlTreeAsString,O=c.isSameException,L=c.isSameStacktrace,j=c.parseUrl,P=c.fill,R=c.supportsFetch,N=c.supportsReferrerPolicy,$=c.serializeKeysForMessage,I=c.serializeException,B=c.sanitize,H=t(2).wrapMethod,F="source protocol user pass host port path".split(" "),M=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,z="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},U=z.document,V=z.navigator;o.prototype={VERSION:"3.27.0",debug:!1,TraceKit:s,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var r=n._globalOptions;e&&x(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:r[t]=e}),n.setDSN(t),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=T(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&T(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&T(r.whitelistUrls),r.includePaths=T(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=E(i,o):!1!==o&&(o=i),r.autoBreadcrumbs=o;var a={tryCatch:!0},u=r.instrument;return"[object Object]"==={}.toString.call(u)?u=E(a,u):!1!==u&&(u=a),r.instrument=u,s.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(s.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(r+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+i+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return y(t)&&(n=e||[],e=t,t={}),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],o=arguments.length,s=!t||t&&!1!==t.deep;for(n&&y(n)&&n.apply(this,arguments);o--;)r[o]=s?i.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,r)}catch(e){throw i._ignoreNextOnError(),i.captureException(e,t),e}}var i=this;if(v(e)&&!y(t))return t;if(y(t)&&(e=t,t=void 0),!y(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var o in e)S(e,o)&&(r[o]=e[o]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=e,r},uninstall:function(){return s.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=E({trimHeadFrames:0},e||{}),p(t)&&t.error)t=t.error;else{if(f(t)||h(t)){var n=t.name||(f(t)?"DOMError":"DOMException"),r=t.message?n+": "+t.message:n;return this.captureMessage(r,E(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(d(t))t=t;else{if(!m(t))return this.captureMessage(t,E(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=s.computeStackTrace(t);this._handleStackInfo(i,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=E(t,{message:"Non-Error exception captured with keys: "+$(n),fingerprint:[u(n)],extra:t.extra||{}});return r.extra.__serialized__=I(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{},t+="";var n,r=E({message:t},e);try{throw new Error(t)}catch(t){n=t}n.name=null;var i=s.computeStackTrace(n),o=_(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var a=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(a))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(a))){if(this._globalOptions.stacktrace||e.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?t:r.fingerprint,e=E({trimHeadFrames:0},e),e.trimHeadFrames+=1;var u=this._prepareFrames(i,e);r.stacktrace={frames:u.reverse()}}return r.fingerprint&&(r.fingerprint=_(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(t){var e=E({timestamp:r()/1e3},t);if(y(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(g(n)&&!w(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(a(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=i(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=i(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=i(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=z.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(U){if(t=E({
eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},t),!t.eventId)throw new l("Missing eventId");if(!t.dsn)throw new l("Missing DSN");var e=encodeURIComponent,n=[];for(var r in t)if("user"===r){var i=t.user;i.name&&n.push("name="+e(i.name)),i.email&&n.push("email="+e(i.email))}else n.push(e(r)+"="+e(t[r]));var o=this._getGlobalServer(this._parseDSN(t.dsn)),s=U.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(U.head||U.body).appendChild(s)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),U.createEvent?(n=U.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=U.createEventObject(),n.eventType=t);for(r in e)S(e,r)&&(n[r]=e[r]);if(U.createEvent)U.dispatchEvent(n);else try{U.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var r;try{r=q(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(e),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=j(this._location.href),r=j(e),i=j(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function t(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var s=i[0];return y(s)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},s)),t.apply?t.apply(this,i):t(i[0],i[1])}}var e=this,n=e._wrappedBuiltIns,r=this._globalOptions.autoBreadcrumbs;P(z,"setTimeout",t,n),P(z,"setInterval",t,n),z.requestAnimationFrame&&P(z,"requestAnimationFrame",function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}},n);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<i.length;o++)!function(t){var i=z[t]&&z[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(P(i,"addEventListener",function(n){return function(i,o,s,a){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:t,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(t){}var u,l,c;return r&&r.dom&&("EventTarget"===t||"Node"===t)&&(l=e._breadcrumbEventHandler("click"),c=e._keypressEventHandler(),u=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?l(t):"keypress"===e?c(t):void 0}}),n.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:t,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,u),s,a)}},n),P(i,"removeEventListener",function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,i)}},n))}(i[o])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&y(n[t])&&P(n,t,function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)})}var e=this,n=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in z){var i=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;P(i,"open",function(t){return function(n,r){return b(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},r),P(i,"send",function(n){return function(){function r(){if(i.__raven_xhr&&4===i.readyState){try{i.__raven_xhr.status_code=i.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:i.__raven_xhr})}}for(var i=this,o=["onload","onerror","onprogress"],s=0;s<o.length;s++)t(o[s],i);return"onreadystatechange"in i&&y(i.onreadystatechange)?P(i,"onreadystatechange",function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,r)}):i.onreadystatechange=r,n.apply(this,arguments)}},r)}n.xhr&&R()&&P(z,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],s="GET";if("string"==typeof o?i=o:"Request"in z&&o instanceof z.Request?(i=o.url,o.method&&(s=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(s=n[1].method);var a={method:s,url:i,status_code:null};return t.apply(this,n).then(function(t){return a.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:a}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),t})}},r),n.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",e._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",e._keypressEventHandler(),!1)):U.attachEvent&&(U.attachEvent("onclick",e._breadcrumbEventHandler("click")),U.attachEvent("onkeypress",e._keypressEventHandler())));var o=z.chrome,s=o&&o.app&&o.app.runtime,a=!s&&z.history&&z.history.pushState&&z.history.replaceState;if(n.location&&a){var u=z.onpopstate;z.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),u)return u.apply(this,arguments)};var l=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};P(z.history,"pushState",l,r),P(z.history,"replaceState",l,r)}if(n.console&&"console"in z&&console.log){var c=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};x(["debug","info","warn","error","log"],function(t,e){H(console,e,c)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;x(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var e=M.exec(t),n={},r=7;try{for(;r--;)n[F[r]]=e[r]||""}catch(e){throw new l("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new l("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(t,e){e=e||{},e.mechanism=e.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(t,e)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(x(t.stack,function(e,i){var o=n._normalizeFrame(i,t.url);o&&r.push(o)}),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,i,o){var s=(t?t+": ":"")+(e||"");if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s)){var a;if(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n))){var u=E({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},o),l=u.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!u.exception.mechanism&&u.mechanism&&(u.exception.mechanism=u.mechanism,delete u.mechanism),u.exception.mechanism=E({type:"generic",handled:!0},u.exception.mechanism||{}),this._send(u)}}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=k(t.message,e)),t.exception){var n=t.exception.values[0];n.value=k(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=k(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=k(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,i=["to","from","url"],o=0;o<t.values.length;++o)if(n=t.values[o],n.hasOwnProperty("data")&&g(n.data)&&!C(n.data)){r=E({},n.data);for(var s=0;s<i.length;++s)e=i[s],r.hasOwnProperty(e)&&r[e]&&(r[e]=k(r[e],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&V.userAgent&&(t.headers={"User-Agent":V.userAgent}),z.location&&z.location.href&&(t.url=z.location.href),this._hasDocument&&U.referrer&&(t.headers||(t.headers={}),t.headers.Referer=U.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?L(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||O(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=R()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=r()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},i=this._getHttpData();if(i&&(n.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,t=E(n,t),t.tags=E(E({},this._globalContext.tags),t.tags),t.extra=E(E({},this._globalContext.extra),t.extra),t.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||w(t[e]))&&delete t[e]}),y(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!w(t)&&(!y(e.shouldSendCallback)||e.shouldSendCallback(t)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_sanitizeData:function(t){return B(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return D()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup()){if(t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var s=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:s,auth:i,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:s}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:s}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}},_makeRequest:function(t){var e=t.url+"?"+A(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),R()){r.body=a(t.data);var i=E({},this._fetchDefaults),o=E(i,r);return n&&(o.headers=n),z.fetch(e,o).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var s=z.XMLHttpRequest&&new z.XMLHttpRequest;if(s){("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&x(n,function(t,e){s.setRequestHeader(t,e)}),s.send(a(t.data)))}},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){v(e)?delete this._globalContext[t]:this._globalContext[t]=E(this._globalContext[t]||{},e)}},o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(t,e,n){(function(n){var r=t(3),i="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},o=i.Raven,s=new r;s.noConflict=function(){return i.Raven=o,s},s.afterLoad(),e.exports=s,e.exports.Client=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(t,e,n){(function(n){function r(t){return"object"==typeof t&&null!==t}function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function o(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function u(t){return void 0===t}function l(t){return"function"==typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function p(t){return"[object String]"===Object.prototype.toString.call(t)}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){if(!c(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d(){try{return new ErrorEvent(""),!0}catch(t){return!1}}function g(){try{return new DOMError(""),!0}catch(t){return!1}}function m(){try{return new DOMException(""),!0}catch(t){return!1}}function v(){if(!("fetch"in W))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function y(){if(!v())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function b(){return"function"==typeof PromiseRejectionEvent}function _(t){function e(e,n){var r=t(e)||e;return n?n(r)||r:r}return e}function w(t,e){var n,r;if(u(t.length))for(n in t)C(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function x(t,e){return e?(w(e,function(e,n){t[e]=n}),t):t}function E(t){return!!Object.isFrozen&&Object.isFrozen(t)}function k(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+""}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t){for(var e,n=[],r=0,i=t.length;r<i;r++)e=t[r],p(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function T(t){var e=[];return w(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function A(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}}function D(){var t=W.crypto||W.msCrypto;if(!u(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function q(t){for(var e,n=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(e=O(t))||r>1&&i+n.length*o+e.length>=80);)n.push(e),i+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function O(t){var e,n,r,i,o,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&p(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var a=["type","name","title","alt"];for(o=0;o<a.length;o++)r=a[o],(i=t.getAttribute(r))&&s.push("["+r+'="'+i+'"]');return s.join("")}function L(t,e){return!!(!!t^!!e)}function j(t,e){return u(t)&&u(e)}function P(t,e){return!L(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(!j(t.stacktrace,e.stacktrace)&&R(t.stacktrace,e.stacktrace)))}function R(t,e){if(L(t,e))return!1;var n=t.frames,r=e.frames;if(void 0===n||void 0===r)return!1;if(n.length!==r.length)return!1;for(var i,o,s=0;s<n.length;s++)if(i=n[s],o=r[s],i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function N(t,e,n,r){if(null!=t){var i=t[e];t[e]=n(i),t[e].__raven__=!0,t[e].__orig__=i,r&&r.push([t,e,i])}}function $(t,e){if(!f(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)}function I(t){return~-encodeURI(t).split(/%..|./).length}function B(t){return I(JSON.stringify(t))}function H(t){if("string"==typeof t){return k(t,40)}if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}function F(t,e){return 0===e?H(t):c(t)?Object.keys(t).reduce(function(n,r){return n[r]=F(t[r],e-1),n},{}):Array.isArray(t)?t.map(function(t){return F(t,e-1)}):H(t)}function M(t,e,n){if(!c(t))return t;e="number"!=typeof e?X:e,n="number"!=typeof e?Y:n;var r=F(t,e);return B(V(r))>n?M(t,e-1):r}function z(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(t=t.filter(function(t){return"string"==typeof t}),0===t.length)return"[object has no keys]";if(e="number"!=typeof e?K:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+""}return""}function U(t,e){function n(t){return f(t)?t.map(function(t){return n(t)}):c(t)?Object.keys(t).reduce(function(e,r){return i.test(r)?e[r]=o:e[r]=n(t[r]),e},{}):t}if(!f(e)||f(e)&&0===e.length)return t;var r,i=S(e),o="********";try{r=JSON.parse(V(t))}catch(e){return t}return n(r)}var V=t(7),W="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},X=3,Y=51200,K=40;e.exports={isObject:r,isError:i,isErrorEvent:o,isDOMError:s,isDOMException:a,isUndefined:u,isFunction:l,isPlainObject:c,isString:p,isArray:f,isEmptyObject:h,supportsErrorEvent:d,supportsDOMError:g,supportsDOMException:m,supportsFetch:v,supportsReferrerPolicy:y,supportsPromiseRejectionEvent:b,wrappedCallback:_,each:w,objectMerge:x,truncate:k,objectFrozen:E,hasKey:C,joinRegExp:S,urlencode:T,uuid4:D,htmlTreeAsString:q,htmlElementAsString:O,isSameException:P,isSameStacktrace:R,parseUrl:A,fill:N,safeJoin:$,serializeException:M,serializeKeysForMessage:z,sanitize:U}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(t,e,n){(function(n){function r(){return"undefined"==typeof document||null==document.location?"":document.location.href}function i(){return"undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")}var o=t(5),s={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},u=[].slice,l="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;s.report=function(){function t(t){f(),y.push(t)}function e(t){for(var e=y.length-1;e>=0;--e)y[e]===t&&y.splice(e,1)}function n(){h(),y=[]}function i(t,e){var n=null;if(!e||s.collectWindowErrors){for(var r in y)if(y.hasOwnProperty(r))try{y[r].apply(null,[t].concat(u.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function p(t,e,n,a,u){var p=null,f=o.isErrorEvent(u)?u.error:u,h=o.isErrorEvent(t)?t.message:t;if(w)s.computeStackTrace.augmentStackTraceWithInitialElement(w,e,n,h),d();else if(f&&o.isError(f))p=s.computeStackTrace(f),i(p,!0);else{var g,v={url:e,line:n,column:a},y=void 0;if("[object String]"==={}.toString.call(h)){var g=h.match(c);g&&(y=g[1],h=g[2])}v.func=l,p={name:y,message:h,url:r(),stack:[v]},i(p,!0)}return!!m&&m.apply(this,arguments)}function f(){v||(m=a.onerror,a.onerror=p,v=!0)}function h(){v&&(a.onerror=m,v=!1,m=void 0)}function d(){var t=w,e=b;b=null,w=null,_=null,i.apply(null,[t,!1].concat(e))}function g(t,e){var n=u.call(arguments,1);if(w){if(_===t)return;d()}var r=s.computeStackTrace(t);if(w=r,_=t,b=n,setTimeout(function(){_===t&&d()},r.incomplete?2e3:0),!1!==e)throw t}var m,v,y=[],b=null,_=null,w=null;return g.subscribe=t,g.unsubscribe=e,g.uninstall=n,g}(),s.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,o,s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.stack.split("\n"),h=[],d=(/^(.*) is undefined$/.exec(t.message),0),g=f.length;d<g;++d){if(n=s.exec(f[d])){var m=n[2]&&0===n[2].indexOf("native"),v=n[2]&&0===n[2].indexOf("eval");v&&(e=p.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),o={url:m?null:n[2],func:n[1]||l,args:m?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(f[d]))o={url:n[2],func:n[1]||l,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=u.exec(f[d])))continue;var v=n[3]&&n[3].indexOf(" > eval")>-1;v&&(e=c.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==d||n[5]||void 0===t.columnNumber||(h[0].column=t.columnNumber+1),o={url:n[3],func:n[1]||l,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!o.func&&o.line&&(o.func=l),o.url&&"blob:"===o.url.substr(0,5)){var y=new XMLHttpRequest;if(y.open("GET",o.url,!1),y.send(null),200===y.status){var b=y.responseText||"";b=b.slice(-300);var _=b.match(/\/\/# sourceMappingURL=(.*)$/);if(_){var w=_[1];"~"===w.charAt(0)&&(w=i()+w.slice(1)),o.url=w.slice(0,-4)}}}h.push(o)}return h.length?{name:t.name,message:t.message,url:r(),stack:h}:null}}function e(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=l),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,i){for(var a,u,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],f={},h=!1,d=n.caller;d&&!h;d=d.caller)if(d!==o&&d!==s.report){if(u={url:null,func:l,line:null,column:null},d.name?u.func=d.name:(a=c.exec(d.toString()))&&(u.func=a[1]),void 0===u.func)try{u.func=a.input.substring(0,a.input.indexOf("{"))}catch(t){}f[""+d]?h=!0:f[""+d]=!0,p.push(u)}i&&p.splice(0,i);var g={name:t.name,message:t.message,url:r(),stack:p};return e(g,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),g}function o(e,i){var o=null;i=null==i?0:+i;try{if(o=t(e))return o}catch(t){if(s.debug)throw t}try{if(o=n(e,i+1))return o}catch(t){if(s.debug)throw t}return{name:e.name,message:e.message,url:r()}}return o.augmentStackTraceWithInitialElement=e,o.computeStackTraceFromStackProp=t,o}(),e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(t,e,n){function r(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function i(t,e,n,r){return JSON.stringify(t,s(e,r),n)}function o(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function s(t,e){var n=[],i=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,r(n,e)).join(".")+"]"}),function(s,a){if(n.length>0){var u=r(n,this);~u?n.splice(u+1):n.push(this),~u?i.splice(u,1/0,s):i.push(s),~r(n,a)&&(a=e.call(this,s,a))}else n.push(a);return null==t?a instanceof Error?o(a):a:t.call(this,s,a)}}n=e.exports=i,n.getSerialize=s},{}],8:[function(t,e,n){function r(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,o,s,a){return r(i(r(r(e,t),r(o,a)),s),n)}function s(t,e,n,r,i,s,a){return o(e&n|~e&r,t,e,i,s,a)}function a(t,e,n,r,i,s,a){return o(e&r|n&~r,t,e,i,s,a)}function u(t,e,n,r,i,s,a){return o(e^n^r,t,e,i,s,a)}function l(t,e,n,r,i,s,a){return o(n^(e|~r),t,e,i,s,a)}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var n,i,o,c,p,f=1732584193,h=-271733879,d=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)i=f,o=h,c=d,p=g,f=s(f,h,d,g,t[n],7,-680876936),g=s(g,f,h,d,t[n+1],12,-389564586),d=s(d,g,f,h,t[n+2],17,606105819),h=s(h,d,g,f,t[n+3],22,-1044525330),f=s(f,h,d,g,t[n+4],7,-176418897),g=s(g,f,h,d,t[n+5],12,1200080426),d=s(d,g,f,h,t[n+6],17,-1473231341),h=s(h,d,g,f,t[n+7],22,-45705983),f=s(f,h,d,g,t[n+8],7,1770035416),g=s(g,f,h,d,t[n+9],12,-1958414417),d=s(d,g,f,h,t[n+10],17,-42063),h=s(h,d,g,f,t[n+11],22,-1990404162),f=s(f,h,d,g,t[n+12],7,1804603682),g=s(g,f,h,d,t[n+13],12,-40341101),d=s(d,g,f,h,t[n+14],17,-1502002290),h=s(h,d,g,f,t[n+15],22,1236535329),f=a(f,h,d,g,t[n+1],5,-165796510),g=a(g,f,h,d,t[n+6],9,-1069501632),d=a(d,g,f,h,t[n+11],14,643717713),h=a(h,d,g,f,t[n],20,-373897302),f=a(f,h,d,g,t[n+5],5,-701558691),g=a(g,f,h,d,t[n+10],9,38016083),d=a(d,g,f,h,t[n+15],14,-660478335),h=a(h,d,g,f,t[n+4],20,-405537848),f=a(f,h,d,g,t[n+9],5,568446438),g=a(g,f,h,d,t[n+14],9,-1019803690),d=a(d,g,f,h,t[n+3],14,-187363961),h=a(h,d,g,f,t[n+8],20,1163531501),f=a(f,h,d,g,t[n+13],5,-1444681467),g=a(g,f,h,d,t[n+2],9,-51403784),d=a(d,g,f,h,t[n+7],14,1735328473),h=a(h,d,g,f,t[n+12],20,-1926607734),f=u(f,h,d,g,t[n+5],4,-378558),g=u(g,f,h,d,t[n+8],11,-2022574463),d=u(d,g,f,h,t[n+11],16,1839030562),h=u(h,d,g,f,t[n+14],23,-35309556),f=u(f,h,d,g,t[n+1],4,-1530992060),g=u(g,f,h,d,t[n+4],11,1272893353),d=u(d,g,f,h,t[n+7],16,-155497632),h=u(h,d,g,f,t[n+10],23,-1094730640),f=u(f,h,d,g,t[n+13],4,681279174),g=u(g,f,h,d,t[n],11,-358537222),d=u(d,g,f,h,t[n+3],16,-722521979),h=u(h,d,g,f,t[n+6],23,76029189),f=u(f,h,d,g,t[n+9],4,-640364487),g=u(g,f,h,d,t[n+12],11,-421815835),d=u(d,g,f,h,t[n+15],16,530742520),h=u(h,d,g,f,t[n+2],23,-995338651),f=l(f,h,d,g,t[n],6,-198630844),g=l(g,f,h,d,t[n+7],10,1126891415),d=l(d,g,f,h,t[n+14],15,-1416354905),h=l(h,d,g,f,t[n+5],21,-57434055),f=l(f,h,d,g,t[n+12],6,1700485571),g=l(g,f,h,d,t[n+3],10,-1894986606),d=l(d,g,f,h,t[n+10],15,-1051523),h=l(h,d,g,f,t[n+1],21,-2054922799),f=l(f,h,d,g,t[n+8],6,1873313359),g=l(g,f,h,d,t[n+15],10,-30611744),d=l(d,g,f,h,t[n+6],15,-1560198380),h=l(h,d,g,f,t[n+13],21,1309151649),f=l(f,h,d,g,t[n+4],6,-145523070),g=l(g,f,h,d,t[n+11],10,-1120210379),d=l(d,g,f,h,t[n+2],15,718787259),h=l(h,d,g,f,t[n+9],21,-343485551),f=r(f,i),h=r(h,o),d=r(d,c),g=r(g,p);return[f,h,d,g]}function p(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function f(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){return p(c(f(t),8*t.length))}function d(t,e){var n,r,i=f(t),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=c(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=c(o.concat(f(e)),512+8*e.length),p(c(s.concat(r),640))}function g(t){var e,n,r="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=r.charAt(e>>>4&15)+r.charAt(15&e);return i}function m(t){return unescape(encodeURIComponent(t))}function v(t){return h(m(t))}function y(t){return g(v(t))}function b(t,e){return d(m(t),m(e))}function _(t,e){return g(b(t,e))}function w(t,e,n){return e?n?b(e,t):_(e,t):n?v(t):y(t)}e.exports=w},{}]},{},[4])(4)}),function(){"use strict";function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function e(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function r(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function i(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function o(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function s(t,e){return!!(null==t?0:t.length)&&v(t,e,0)>-1}function a(t,e,n){
for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function u(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function l(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function c(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function p(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function f(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function h(t){return t.split("")}function d(t){return t.match(je)||[]}function g(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function m(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function v(t,e,n){return e===e?V(t,e,n):m(t,b,n)}function y(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function b(t){return t!==t}function _(t,e){var n=null==t?0:t.length;return n?C(t,e)/n:Dt}function w(t){return function(e){return null==e?Q:e[t]}}function x(t){return function(e){return null==t?Q:t[e]}}function E(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function k(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==Q&&(n=n===Q?o:n+o)}return n}function S(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function T(t,e){return u(e,function(e){return[e,t[e]]})}function A(t){return function(e){return t(e)}}function D(t,e){return u(e,function(e){return t[e]})}function q(t,e){return t.has(e)}function O(t,e){for(var n=-1,r=t.length;++n<r&&v(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&v(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function P(t){return"\\"+wn[t]}function R(t,e){return null==t?Q:t[e]}function N(t){return fn.test(t)}function $(t){return hn.test(t)}function I(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t,e){return function(n){return t(e(n))}}function F(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==it||(t[n]=it,o[i++]=n)}return o}function M(t,e){return"__proto__"==e?Q:t[e]}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function V(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function W(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function X(t){return N(t)?K(t):In(t)}function Y(t){return N(t)?G(t):h(t)}function K(t){for(var e=cn.lastIndex=0;cn.test(t);)++e;return e}function G(t){return t.match(cn)||[]}function Z(t){return t.match(pn)||[]}var Q,J=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",et="Expected a function",nt="__lodash_hash_undefined__",rt=500,it="__lodash_placeholder__",ot=1,st=2,at=4,ut=1,lt=2,ct=1,pt=2,ft=4,ht=8,dt=16,gt=32,mt=64,vt=128,yt=256,bt=512,_t=30,wt="...",xt=800,Et=16,kt=1,Ct=2,St=1/0,Tt=9007199254740991,At=1.7976931348623157e308,Dt=NaN,qt=4294967295,Ot=qt-1,Lt=qt>>>1,jt=[["ary",vt],["bind",ct],["bindKey",pt],["curry",ht],["curryRight",dt],["flip",bt],["partial",gt],["partialRight",mt],["rearg",yt]],Pt="[object Arguments]",Rt="[object Array]",Nt="[object AsyncFunction]",$t="[object Boolean]",It="[object Date]",Bt="[object DOMException]",Ht="[object Error]",Ft="[object Function]",Mt="[object GeneratorFunction]",zt="[object Map]",Ut="[object Number]",Vt="[object Null]",Wt="[object Object]",Xt="[object Proxy]",Yt="[object RegExp]",Kt="[object Set]",Gt="[object String]",Zt="[object Symbol]",Qt="[object Undefined]",Jt="[object WeakMap]",te="[object WeakSet]",ee="[object ArrayBuffer]",ne="[object DataView]",re="[object Float32Array]",ie="[object Float64Array]",oe="[object Int8Array]",se="[object Int16Array]",ae="[object Int32Array]",ue="[object Uint8Array]",le="[object Uint8ClampedArray]",ce="[object Uint16Array]",pe="[object Uint32Array]",fe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,me=/[&<>"']/g,ve=RegExp(ge.source),ye=RegExp(me.source),be=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(Ce.source),Te=/^\s+|\s+$/g,Ae=/^\s+/,De=/\s+$/,qe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oe=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pe=/\\(\\)?/g,Re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ne=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,Be=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,Fe=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ze=/($^)/,Ue=/['\n\r\u2028\u2029\\]/g,Ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",We="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xe="["+We+"]",Ye="["+Ve+"]",Ke="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ge="[^\\ud800-\\udfff"+We+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ze="\\ud83c[\\udffb-\\udfff]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Je="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",en="(?:"+Ke+"|"+Ge+")",nn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Qe,Je].join("|")+")[\\ufe0e\\ufe0f]?"+nn+")*",on="[\\ufe0e\\ufe0f]?"+nn+rn,sn="(?:"+["[\\u2700-\\u27bf]",Qe,Je].join("|")+")"+on,an="(?:"+["[^\\ud800-\\udfff]"+Ye+"?",Ye,Qe,Je,"[\\ud800-\\udfff]"].join("|")+")",un=RegExp("[']","g"),ln=RegExp(Ye,"g"),cn=RegExp(Ze+"(?="+Ze+")|"+an+on,"g"),pn=RegExp([tn+"?"+Ke+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Xe,tn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Xe,tn+en,"$"].join("|")+")",tn+"?"+en+"+(?:['](?:d|ll|m|re|s|t|ve))?",tn+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",sn].join("|"),"g"),fn=RegExp("[\\u200d\\ud800-\\udfff"+Ve+"\\ufe0e\\ufe0f]"),hn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gn=-1,mn={};mn[re]=mn[ie]=mn[oe]=mn[se]=mn[ae]=mn[ue]=mn[le]=mn[ce]=mn[pe]=!0,mn[Pt]=mn[Rt]=mn[ee]=mn[$t]=mn[ne]=mn[It]=mn[Ht]=mn[Ft]=mn[zt]=mn[Ut]=mn[Wt]=mn[Yt]=mn[Kt]=mn[Gt]=mn[Jt]=!1;var vn={};vn[Pt]=vn[Rt]=vn[ee]=vn[ne]=vn[$t]=vn[It]=vn[re]=vn[ie]=vn[oe]=vn[se]=vn[ae]=vn[zt]=vn[Ut]=vn[Wt]=vn[Yt]=vn[Kt]=vn[Gt]=vn[Zt]=vn[ue]=vn[le]=vn[ce]=vn[pe]=!0,vn[Ht]=vn[Ft]=vn[Jt]=!1;var yn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xn=parseFloat,En=parseInt,kn="object"==typeof global&&global&&global.Object===Object&&global,Cn="object"==typeof self&&self&&self.Object===Object&&self,Sn=kn||Cn||Function("return this")(),Tn="object"==typeof exports&&exports&&!exports.nodeType&&exports,An=Tn&&"object"==typeof module&&module&&!module.nodeType&&module,Dn=An&&An.exports===Tn,qn=Dn&&kn.process,On=function(){try{return qn&&qn.binding&&qn.binding("util")}catch(t){}}(),Ln=On&&On.isArrayBuffer,jn=On&&On.isDate,Pn=On&&On.isMap,Rn=On&&On.isRegExp,Nn=On&&On.isSet,$n=On&&On.isTypedArray,In=w("length"),Bn=x(yn),Hn=x(bn),Fn=x(_n),Mn=function h(x){function V(t){if(eu(t)&&!hf(t)&&!(t instanceof je)){if(t instanceof G)return t;if(fc.call(t,"__wrapped__"))return Qo(t)}return new G(t)}function K(){}function G(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Q}function je(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qt,this.__views__=[]}function Ve(){var t=new je(this.__wrapped__);return t.__actions__=ji(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ji(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ji(this.__views__),t}function We(){if(this.__filtered__){var t=new je(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Xe(){var t=this.__wrapped__.value(),e=this.__dir__,n=hf(t),r=e<0,i=n?t.length:0,o=Eo(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,p=c.length,f=0,h=Mc(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return mi(t,this.__actions__);var d=[];t:for(;u--&&f<h;){l+=e;for(var g=-1,m=t[l];++g<p;){var v=c[g],y=v.iteratee,b=v.type,_=y(m);if(b==Ct)m=_;else if(!_){if(b==kt)continue t;break t}}d[f++]=m}return d}function Ye(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ke(){this.__data__=Qc?Qc(null):{},this.size=0}function Ge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ze(t){var e=this.__data__;if(Qc){var n=e[t];return n===nt?Q:n}return fc.call(e,t)?e[t]:Q}function Qe(t){var e=this.__data__;return Qc?e[t]!==Q:fc.call(e,t)}function Je(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qc&&e===Q?nt:e,this}function tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function en(){this.__data__=[],this.size=0}function nn(t){var e=this.__data__,n=Yn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Sc.call(e,n,1),--this.size,!0)}function rn(t){var e=this.__data__,n=Yn(e,t);return n<0?Q:e[n][1]}function on(t){return Yn(this.__data__,t)>-1}function sn(t,e){var n=this.__data__,r=Yn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new Ye,map:new(Yc||tn),string:new Ye}}function pn(t){var e=bo(this,t).delete(t);return this.size-=e?1:0,e}function fn(t){return bo(this,t).get(t)}function hn(t){return bo(this,t).has(t)}function yn(t,e){var n=bo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function bn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}function _n(t){return this.__data__.set(t,nt),this}function wn(t){return this.__data__.has(t)}function kn(t){var e=this.__data__=new tn(t);this.size=e.size}function Cn(){this.__data__=new tn,this.size=0}function Tn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function An(t){return this.__data__.get(t)}function qn(t){return this.__data__.has(t)}function On(t,e){var n=this.__data__;if(n instanceof tn){var r=n.__data__;if(!Yc||r.length<J-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this}function In(t,e){var n=hf(t),r=!n&&ff(t),i=!n&&!r&&gf(t),o=!n&&!r&&!i&&_f(t),s=n||r||i||o,a=s?S(t.length,oc):[],u=a.length;for(var l in t)!e&&!fc.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Oo(l,u))||a.push(l);return a}function zn(t){var e=t.length;return e?t[Zr(0,e-1)]:Q}function Un(t,e){return Yo(ji(t),tr(e,0,t.length))}function Vn(t){return Yo(ji(t))}function Wn(t,e,n){(n===Q||Fa(t[e],n))&&(n!==Q||e in t)||Qn(t,e,n)}function Xn(t,e,n){var r=t[e];fc.call(t,e)&&Fa(r,n)&&(n!==Q||e in t)||Qn(t,e,n)}function Yn(t,e){for(var n=t.length;n--;)if(Fa(t[n][0],e))return n;return-1}function Kn(t,e,n,r){return cp(t,function(t,i,o){e(r,t,n(t),o)}),r}function Gn(t,e){return t&&Pi(e,Nu(e),t)}function Zn(t,e){return t&&Pi(e,$u(e),t)}function Qn(t,e,n){"__proto__"==e&&qc?qc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Jn(t,e){for(var n=-1,r=e.length,i=Ql(r),o=null==t;++n<r;)i[n]=o?Q:ju(t,e[n]);return i}function tr(t,e,n){return t===t&&(n!==Q&&(t=t<=n?t:n),e!==Q&&(t=t>=e?t:e)),t}function er(t,e,r,i,o,s){var a,u=e&ot,l=e&st,c=e&at;if(r&&(a=o?r(t,i,o,s):r(t)),a!==Q)return a;if(!tu(t))return t;var p=hf(t);if(p){if(a=So(t),!u)return ji(t,a)}else{var f=xp(t),h=f==Ft||f==Mt;if(gf(t))return Ei(t,u);if(f==Wt||f==Pt||h&&!o){if(a=l||h?{}:To(t),!u)return l?Ni(t,Zn(a,t)):Ri(t,Gn(a,t))}else{if(!vn[f])return o?t:{};a=Ao(t,f,u)}}s||(s=new kn);var d=s.get(t);if(d)return d;if(s.set(t,a),bf(t))return t.forEach(function(n){a.add(er(n,e,r,n,t,s))}),a;if(vf(t))return t.forEach(function(n,i){a.set(i,er(n,e,r,i,t,s))}),a;var g=c?l?go:ho:l?$u:Nu,m=p?Q:g(t);return n(m||t,function(n,i){m&&(i=n,n=t[i]),Xn(a,i,er(n,e,r,i,t,s))}),a}function nr(t){var e=Nu(t);return function(n){return rr(n,t,e)}}function rr(t,e,n){var r=n.length;if(null==t)return!r;for(t=rc(t);r--;){var i=n[r],o=e[i],s=t[i];if(s===Q&&!(i in t)||!o(s))return!1}return!0}function ir(t,e,n){if("function"!=typeof t)throw new sc(et);return Cp(function(){t.apply(Q,n)},e)}function or(t,e,n,r){var i=-1,o=s,l=!0,c=t.length,p=[],f=e.length;if(!c)return p;n&&(e=u(e,A(n))),r?(o=a,l=!1):e.length>=J&&(o=q,l=!1,e=new bn(e));t:for(;++i<c;){var h=t[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,l&&d===d){for(var g=f;g--;)if(e[g]===d)continue t;p.push(h)}else o(e,d,r)||p.push(h)}return p}function sr(t,e){var n=!0;return cp(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ar(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(a===Q?s===s&&!fu(s):n(s,a)))var a=s,u=o}return u}function ur(t,e,n,r){var i=t.length;for(n=yu(n),n<0&&(n=-n>i?0:i+n),r=r===Q||r>i?i:yu(r),r<0&&(r+=i),r=n>r?0:bu(r);n<r;)t[n++]=e;return t}function lr(t,e){var n=[];return cp(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function cr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=qo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?cr(a,e-1,n,r,i):l(i,a):r||(i[i.length]=a)}return i}function pr(t,e){return t&&fp(t,e,Nu)}function fr(t,e){return t&&hp(t,e,Nu)}function hr(t,e){return o(e,function(e){return Za(t[e])})}function dr(t,e){e=wi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Ko(e[n++])];return n&&n==r?t:Q}function gr(t,e,n){var r=e(t);return hf(t)?r:l(r,n(t))}function mr(t){return null==t?t===Q?Qt:Vt:Dc&&Dc in rc(t)?xo(t):Mo(t)}function vr(t,e){return t>e}function yr(t,e){return null!=t&&fc.call(t,e)}function br(t,e){return null!=t&&e in rc(t)}function _r(t,e,n){return t>=Mc(e,n)&&t<Fc(e,n)}function wr(t,e,n){for(var r=n?a:s,i=t[0].length,o=t.length,l=o,c=Ql(o),p=1/0,f=[];l--;){var h=t[l];l&&e&&(h=u(h,A(e))),p=Mc(h.length,p),c[l]=!n&&(e||i>=120&&h.length>=120)?new bn(l&&h):Q}h=t[0];var d=-1,g=c[0];t:for(;++d<i&&f.length<p;){var m=h[d],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?q(g,v):r(f,v,n))){for(l=o;--l;){var y=c[l];if(!(y?q(y,v):r(t[l],v,n)))continue t}g&&g.push(v),f.push(m)}}return f}function xr(t,e,n,r){return pr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Er(e,n,r){n=wi(n,e),e=Uo(e,n);var i=null==e?e:e[Ko(vs(n))];return null==i?Q:t(i,e,r)}function kr(t){return eu(t)&&mr(t)==Pt}function Cr(t){return eu(t)&&mr(t)==ee}function Sr(t){return eu(t)&&mr(t)==It}function Tr(t,e,n,r,i){return t===e||(null==t||null==e||!eu(t)&&!eu(e)?t!==t&&e!==e:Ar(t,e,n,r,Tr,i))}function Ar(t,e,n,r,i,o){var s=hf(t),a=hf(e),u=s?Rt:xp(t),l=a?Rt:xp(e);u=u==Pt?Wt:u,l=l==Pt?Wt:l;var c=u==Wt,p=l==Wt,f=u==l;if(f&&gf(t)){if(!gf(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new kn),s||_f(t)?lo(t,e,n,r,i,o):co(t,e,u,n,r,i,o);if(!(n&ut)){var h=c&&fc.call(t,"__wrapped__"),d=p&&fc.call(e,"__wrapped__");if(h||d){var g=h?t.value():t,m=d?e.value():e;return o||(o=new kn),i(g,m,n,r,o)}}return!!f&&(o||(o=new kn),po(t,e,n,r,i,o))}function Dr(t){return eu(t)&&xp(t)==zt}function qr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=rc(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var u=a[0],l=t[u],c=a[1];if(s&&a[2]){if(l===Q&&!(u in t))return!1}else{var p=new kn;if(r)var f=r(l,c,u,t,e,p);if(!(f===Q?Tr(c,l,ut|lt,r,p):f))return!1}}return!0}function Or(t){return!(!tu(t)||No(t))&&(Za(t)?yc:Be).test(Go(t))}function Lr(t){return eu(t)&&mr(t)==Yt}function jr(t){return eu(t)&&xp(t)==Kt}function Pr(t){return eu(t)&&Ja(t.length)&&!!mn[mr(t)]}function Rr(t){return"function"==typeof t?t:null==t?Sl:"object"==typeof t?hf(t)?Fr(t[0],t[1]):Hr(t):Pl(t)}function Nr(t){if(!$o(t))return Hc(t);var e=[];for(var n in rc(t))fc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function $r(t){if(!tu(t))return Fo(t);var e=$o(t),n=[];for(var r in t)("constructor"!=r||!e&&fc.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Br(t,e){var n=-1,r=Ma(t)?Ql(t.length):[];return cp(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Hr(t){var e=_o(t);return 1==e.length&&e[0][2]?Bo(e[0][0],e[0][1]):function(n){return n===t||qr(n,t,e)}}function Fr(t,e){return jo(t)&&Io(e)?Bo(Ko(t),e):function(n){var r=ju(n,t);return r===Q&&r===e?Ru(n,t):Tr(e,r,ut|lt)}}function Mr(t,e,n,r,i){t!==e&&fp(e,function(o,s){if(tu(o))i||(i=new kn),zr(t,e,s,n,Mr,r,i);else{var a=r?r(M(t,s),o,s+"",t,e,i):Q;a===Q&&(a=o),Wn(t,s,a)}},$u)}function zr(t,e,n,r,i,o,s){var a=M(t,n),u=M(e,n),l=s.get(u);if(l)return void Wn(t,n,l);var c=o?o(a,u,n+"",t,e,s):Q,p=c===Q;if(p){var f=hf(u),h=!f&&gf(u),d=!f&&!h&&_f(u);c=u,f||h||d?hf(a)?c=a:za(a)?c=ji(a):h?(p=!1,c=Ei(u,!0)):d?(p=!1,c=Ai(u,!0)):c=[]:lu(u)||ff(u)?(c=a,ff(a)?c=wu(a):(!tu(a)||r&&Za(a))&&(c=To(u))):p=!1}p&&(s.set(u,c),i(c,u,r,o,s),s.delete(u)),Wn(t,n,c)}function Ur(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oo(e,n)?t[e]:Q}function Vr(t,e,n){var r=-1;return e=u(e.length?e:[Sl],A(yo())),k(Br(t,function(t,n,i){return{criteria:u(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return qi(t,e,n)})}function Wr(t,e){return Xr(t,e,function(e,n){return Ru(t,n)})}function Xr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=dr(t,s);n(a,s)&&ri(o,wi(s,t),a)}return o}function Yr(t){return function(e){return dr(e,t)}}function Kr(t,e,n,r){var i=r?y:v,o=-1,s=e.length,a=t;for(t===e&&(e=ji(e)),n&&(a=u(t,A(n)));++o<s;)for(var l=0,c=e[o],p=n?n(c):c;(l=i(a,p,l,r))>-1;)a!==t&&Sc.call(a,l,1),Sc.call(t,l,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Oo(i)?Sc.call(t,i,1):hi(t,i)}}return t}function Zr(t,e){return t+Rc(Vc()*(e-t+1))}function Qr(t,e,n,r){for(var i=-1,o=Fc(Pc((e-t)/(n||1)),0),s=Ql(o);o--;)s[r?o:++i]=t,t+=n;return s}function Jr(t,e){var n="";if(!t||e<1||e>Tt)return n;do{e%2&&(n+=t),(e=Rc(e/2))&&(t+=t)}while(e);return n}function ti(t,e){return Sp(zo(t,e,Sl),t+"")}function ei(t){return zn(Ku(t))}function ni(t,e){var n=Ku(t);return Yo(n,tr(e,0,n.length))}function ri(t,e,n,r){if(!tu(t))return t;e=wi(e,t);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var u=Ko(e[i]),l=n;if(i!=s){var c=a[u];l=r?r(c,u,a):Q,l===Q&&(l=tu(c)?c:Oo(e[i+1])?[]:{})}Xn(a,u,l),a=a[u]}return t}function ii(t){return Yo(Ku(t))}function oi(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Ql(i);++r<i;)o[r]=t[r+e];return o}function si(t,e){var n;return cp(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Lt){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!fu(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ui(t,e,Sl,n)}function ui(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,s=e!==e,a=null===e,u=fu(e),l=e===Q;i<o;){var c=Rc((i+o)/2),p=n(t[c]),f=p!==Q,h=null===p,d=p===p,g=fu(p);if(s)var m=r||d;else m=l?d&&(r||f):a?d&&f&&(r||!h):u?d&&f&&!h&&(r||!g):!h&&!g&&(r?p<=e:p<e);m?i=c+1:o=c}return Mc(o,Ot)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Fa(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ci(t){return"number"==typeof t?t:fu(t)?Dt:+t}function pi(t){if("string"==typeof t)return t;if(hf(t))return u(t,pi)+"";if(fu(t))return up?up.call(t):"";var e=t+"";return"0"==e&&1/t==-St?"-0":e}function fi(t,e,n){var r=-1,i=s,o=t.length,u=!0,l=[],c=l;if(n)u=!1,i=a;else if(o>=J){var p=e?null:yp(t);if(p)return z(p);u=!1,i=q,c=new bn}else c=e?[]:l;t:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,u&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),l.push(f)}else i(c,h,n)||(c!==l&&c.push(h),l.push(f))}return l}function hi(t,e){return e=wi(e,t),null==(t=Uo(t,e))||delete t[Ko(vs(e))]}function di(t,e,n,r){return ri(t,e,n(dr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?oi(t,r?0:o,r?o+1:i):oi(t,r?o+1:0,r?i:o)}function mi(t,e){var n=t;return n instanceof je&&(n=n.value()),c(e,function(t,e){return e.func.apply(e.thisArg,l([t],e.args))},n)}function vi(t,e,n){var r=t.length;if(r<2)return r?fi(t[0]):[];for(var i=-1,o=Ql(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=or(o[i]||s,t[a],e,n));return fi(cr(o,1),e,n)}function yi(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:Q;n(s,t[r],a)}return s}function bi(t){return za(t)?t:[]}function _i(t){return"function"==typeof t?t:Sl}function wi(t,e){return hf(t)?t:jo(t,e)?[t]:Tp(Eu(t))}function xi(t,e,n){var r=t.length;return n=n===Q?r:n,!e&&n>=r?t:oi(t,e,n)}function Ei(t,e){if(e)return t.slice();var n=t.length,r=xc?xc(n):new t.constructor(n);return t.copy(r),r}function ki(t){var e=new t.constructor(t.byteLength);return new wc(e).set(new wc(t)),e}function Ci(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Si(t){var e=new t.constructor(t.source,Ne.exec(t));return e.lastIndex=t.lastIndex,e}function Ti(t){return ap?rc(ap.call(t)):{}}function Ai(t,e){var n=e?ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==Q,r=null===t,i=t===t,o=fu(t),s=e!==Q,a=null===e,u=e===e,l=fu(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function qi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Di(i[r],o[r]);if(u){if(r>=a)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}function Oi(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,u=e.length,l=Fc(o-s,0),c=Ql(u+l),p=!r;++a<u;)c[a]=e[a];for(;++i<s;)(p||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[a++]=t[i++];return c}function Li(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,c=Fc(o-a,0),p=Ql(c+l),f=!r;++i<c;)p[i]=t[i];for(var h=i;++u<l;)p[h+u]=e[u];for(;++s<a;)(f||i<o)&&(p[h+n[s]]=t[i++]);return p}function ji(t,e){var n=-1,r=t.length;for(e||(e=Ql(r));++n<r;)e[n]=t[n];return e}function Pi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):Q;u===Q&&(u=t[a]),i?Qn(n,a,u):Xn(n,a,u)}return n}function Ri(t,e){return Pi(t,_p(t),e)}function Ni(t,e){return Pi(t,wp(t),e)}function $i(t,n){return function(r,i){var o=hf(r)?e:Kn,s=n?n():{};return o(r,t,yo(i,2),s)}}function Ii(t){return ti(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:Q,s=i>2?n[2]:Q;for(o=t.length>3&&"function"==typeof o?(i--,o):Q,s&&Lo(n[0],n[1],s)&&(o=i<3?Q:o,i=1),e=rc(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function Bi(t,e){return function(n,r){if(null==n)return n;if(!Ma(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=rc(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Hi(t){return function(e,n,r){for(var i=-1,o=rc(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Fi(t,e,n){function r(){return(this&&this!==Sn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&ct,o=Ui(t);return r}function Mi(t){return function(e){e=Eu(e);var n=N(e)?Y(e):Q,r=n?n[0]:e.charAt(0),i=n?xi(n,1).join(""):e.slice(1);return r[t]()+i}}function zi(t){return function(e){return c(wl(el(e).replace(un,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=lp(t.prototype),r=t.apply(n,e);return tu(r)?r:n}}function Vi(e,n,r){function i(){for(var s=arguments.length,a=Ql(s),u=s,l=vo(i);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:F(a,l);return(s-=c.length)<r?no(e,n,Yi,i.placeholder,Q,a,c,Q,Q,r-s):t(this&&this!==Sn&&this instanceof i?o:e,this,a)}var o=Ui(e);return i}function Wi(t){return function(e,n,r){var i=rc(e);if(!Ma(e)){var o=yo(n,3);e=Nu(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:Q}}function Xi(t){return fo(function(e){var n=e.length,r=n,i=G.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new sc(et);if(i&&!s&&"wrapper"==mo(o))var s=new G([],!0)}for(r=s?r:n;++r<n;){o=e[r];var a=mo(o),u="wrapper"==a?bp(o):Q;s=u&&Ro(u[0])&&u[1]==(vt|ht|gt|yt)&&!u[4].length&&1==u[9]?s[mo(u[0])].apply(s,u[3]):1==o.length&&Ro(o)?s[a]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&hf(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Yi(t,e,n,r,i,o,s,a,u,l){function c(){for(var v=arguments.length,y=Ql(v),b=v;b--;)y[b]=arguments[b];if(d)var _=vo(c),w=j(y,_);if(r&&(y=Oi(y,r,i,d)),o&&(y=Li(y,o,s,d)),v-=w,d&&v<l){var x=F(y,_);return no(t,e,Yi,c.placeholder,n,y,x,a,u,l-v)}var E=f?n:this,k=h?E[t]:t;return v=y.length,a?y=Vo(y,a):g&&v>1&&y.reverse(),p&&u<v&&(y.length=u),this&&this!==Sn&&this instanceof c&&(k=m||Ui(k)),k.apply(E,y)}var p=e&vt,f=e&ct,h=e&pt,d=e&(ht|dt),g=e&bt,m=h?Q:Ui(t);return c}function Ki(t,e){return function(n,r){return xr(n,t,e(r),{})}}function Gi(t,e){return function(n,r){var i;if(n===Q&&r===Q)return e;if(n!==Q&&(i=n),r!==Q){if(i===Q)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=ci(n),r=ci(r)),i=t(n,r)}return i}}function Zi(e){return fo(function(n){return n=u(n,A(yo())),ti(function(r){var i=this;return e(n,function(e){return t(e,i,r)})})})}function Qi(t,e){e=e===Q?" ":pi(e);var n=e.length;if(n<2)return n?Jr(e,t):e;var r=Jr(e,Pc(t/X(e)));return N(e)?xi(Y(r),0,t).join(""):r.slice(0,t)}function Ji(e,n,r,i){function o(){for(var n=-1,u=arguments.length,l=-1,c=i.length,p=Ql(c+u),f=this&&this!==Sn&&this instanceof o?a:e;++l<c;)p[l]=i[l];for(;u--;)p[l++]=arguments[++n];return t(f,s?r:this,p)}var s=n&ct,a=Ui(e);return o}function to(t){return function(e,n,r){return r&&"number"!=typeof r&&Lo(e,n,r)&&(n=r=Q),e=vu(e),n===Q?(n=e,e=0):n=vu(n),r=r===Q?e<n?1:-1:vu(r),Qr(e,n,r,t)}}function eo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_u(e),n=_u(n)),t(e,n)}}function no(t,e,n,r,i,o,s,a,u,l){var c=e&ht,p=c?s:Q,f=c?Q:s,h=c?o:Q,d=c?Q:o;e|=c?gt:mt,(e&=~(c?mt:gt))&ft||(e&=~(ct|pt));var g=[t,e,i,h,p,d,f,a,u,l],m=n.apply(Q,g);return Ro(t)&&kp(m,g),m.placeholder=r,Wo(m,t,e)}function ro(t){var e=nc[t];return function(t,n){if(t=_u(t),n=null==n?0:Mc(yu(n),292)){var r=(Eu(t)+"e").split("e");return r=(Eu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function io(t){return function(e){var n=xp(e);return n==zt?B(e):n==Kt?U(e):T(e,t(e))}}function oo(t,e,n,r,i,o,s,a){var u=e&pt;if(!u&&"function"!=typeof t)throw new sc(et);var l=r?r.length:0;if(l||(e&=~(gt|mt),r=i=Q),s=s===Q?s:Fc(yu(s),0),a=a===Q?a:yu(a),l-=i?i.length:0,e&mt){var c=r,p=i;r=i=Q}var f=u?Q:bp(t),h=[t,e,n,r,i,c,p,o,s,a];if(f&&Ho(h,f),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],a=h[9]=h[9]===Q?u?0:t.length:Fc(h[9]-l,0),!a&&e&(ht|dt)&&(e&=~(ht|dt)),e&&e!=ct)d=e==ht||e==dt?Vi(t,e,a):e!=gt&&e!=(ct|gt)||i.length?Yi.apply(Q,h):Ji(t,e,n,r);else var d=Fi(t,e,n);return Wo((f?dp:kp)(d,h),t,e)}function so(t,e,n,r){return t===Q||Fa(t,lc[n])&&!fc.call(r,n)?e:t}function ao(t,e,n,r,i,o){return tu(t)&&tu(e)&&(o.set(e,t),Mr(t,e,Q,ao,o),o.delete(e)),t}function uo(t){return lu(t)?Q:t}function lo(t,e,n,r,i,o){var s=n&ut,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,p=!0,h=n&lt?new bn:Q;for(o.set(t,e),o.set(e,t);++c<a;){var d=t[c],g=e[c];if(r)var m=s?r(g,d,c,e,t,o):r(d,g,c,t,e,o);if(m!==Q){if(m)continue;p=!1;break}if(h){if(!f(e,function(t,e){if(!q(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){p=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function co(t,e,n,r,i,o,s){switch(n){case ne:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ee:return!(t.byteLength!=e.byteLength||!o(new wc(t),new wc(e)));case $t:case It:case Ut:return Fa(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Yt:case Gt:return t==e+"";case zt:var a=B;case Kt:var u=r&ut;if(a||(a=z),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=lt,s.set(t,e);var c=lo(a(t),a(e),r,i,o,s);return s.delete(t),c;case Zt:if(ap)return ap.call(t)==ap.call(e)}return!1}function po(t,e,n,r,i,o){var s=n&ut,a=ho(t),u=a.length;if(u!=ho(e).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in e:fc.call(e,c)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var h=s;++l<u;){c=a[l];var d=t[c],g=e[c];if(r)var m=s?r(g,d,c,e,t,o):r(d,g,c,t,e,o);if(!(m===Q?d===g||i(d,g,n,r,o):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f}function fo(t){return Sp(zo(t,Q,ls),t+"")}function ho(t){return gr(t,Nu,_p)}function go(t){return gr(t,$u,wp)}function mo(t){for(var e=t.name+"",n=tp[e],r=fc.call(tp,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function vo(t){return(fc.call(V,"placeholder")?V:t).placeholder}function yo(){var t=V.iteratee||Tl;return t=t===Tl?Rr:t,
arguments.length?t(arguments[0],arguments[1]):t}function bo(t,e){var n=t.__data__;return Po(e)?n["string"==typeof e?"string":"hash"]:n.map}function _o(t){for(var e=Nu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Io(i)]}return e}function wo(t,e){var n=R(t,e);return Or(n)?n:Q}function xo(t){var e=fc.call(t,Dc),n=t[Dc];try{t[Dc]=Q;var r=!0}catch(t){}var i=gc.call(t);return r&&(e?t[Dc]=n:delete t[Dc]),i}function Eo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Mc(e,t+s);break;case"takeRight":t=Fc(t,e-s)}}return{start:t,end:e}}function ko(t){var e=t.match(Oe);return e?e[1].split(Le):[]}function Co(t,e,n){e=wi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Ko(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ja(i)&&Oo(s,i)&&(hf(t)||ff(t))}function So(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function To(t){return"function"!=typeof t.constructor||$o(t)?{}:lp(Ec(t))}function Ao(t,e,n){var r=t.constructor;switch(e){case ee:return ki(t);case $t:case It:return new r(+t);case ne:return Ci(t,n);case re:case ie:case oe:case se:case ae:case ue:case le:case ce:case pe:return Ai(t,n);case zt:return new r;case Ut:case Gt:return new r(t);case Yt:return Si(t);case Kt:return new r;case Zt:return Ti(t)}}function Do(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(qe,"{\n/* [wrapped with "+e+"] */\n")}function qo(t){return hf(t)||ff(t)||!!(Tc&&t&&t[Tc])}function Oo(t,e){var n=typeof t;return!!(e=null==e?Tt:e)&&("number"==n||"symbol"!=n&&Fe.test(t))&&t>-1&&t%1==0&&t<e}function Lo(t,e,n){if(!tu(n))return!1;var r=typeof e;return!!("number"==r?Ma(n)&&Oo(e,n.length):"string"==r&&e in n)&&Fa(n[e],t)}function jo(t,e){if(hf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fu(t))||(Ee.test(t)||!xe.test(t)||null!=e&&t in rc(e))}function Po(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ro(t){var e=mo(t),n=V[e];if("function"!=typeof n||!(e in je.prototype))return!1;if(t===n)return!0;var r=bp(n);return!!r&&t===r[0]}function No(t){return!!dc&&dc in t}function $o(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||lc)}function Io(t){return t===t&&!tu(t)}function Bo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==Q||t in rc(n)))}}function Ho(t,e){var n=t[1],r=e[1],i=n|r,o=i<(ct|pt|vt),s=r==vt&&n==ht||r==vt&&n==yt&&t[7].length<=e[8]||r==(vt|yt)&&e[7].length<=e[8]&&n==ht;if(!o&&!s)return t;r&ct&&(t[2]=e[2],i|=n&ct?0:ft);var a=e[3];if(a){var u=t[3];t[3]=u?Oi(u,a,e[4]):a,t[4]=u?F(t[3],it):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Li(u,a,e[6]):a,t[6]=u?F(t[5],it):e[6]),a=e[7],a&&(t[7]=a),r&vt&&(t[8]=null==t[8]?e[8]:Mc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Fo(t){var e=[];if(null!=t)for(var n in rc(t))e.push(n);return e}function Mo(t){return gc.call(t)}function zo(e,n,r){return n=Fc(n===Q?e.length-1:n,0),function(){for(var i=arguments,o=-1,s=Fc(i.length-n,0),a=Ql(s);++o<s;)a[o]=i[n+o];o=-1;for(var u=Ql(n+1);++o<n;)u[o]=i[o];return u[n]=r(a),t(e,this,u)}}function Uo(t,e){return e.length<2?t:dr(t,oi(e,0,-1))}function Vo(t,e){for(var n=t.length,r=Mc(e.length,n),i=ji(t);r--;){var o=e[r];t[r]=Oo(o,n)?i[o]:Q}return t}function Wo(t,e,n){var r=e+"";return Sp(t,Do(r,Zo(ko(r),n)))}function Xo(t){var e=0,n=0;return function(){var r=zc(),i=Et-(r-n);if(n=r,i>0){if(++e>=xt)return arguments[0]}else e=0;return t.apply(Q,arguments)}}function Yo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===Q?r:e;++n<e;){var o=Zr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Ko(t){if("string"==typeof t||fu(t))return t;var e=t+"";return"0"==e&&1/t==-St?"-0":e}function Go(t){if(null!=t){try{return pc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Zo(t,e){return n(jt,function(n){var r="_."+n[0];e&n[1]&&!s(t,r)&&t.push(r)}),t.sort()}function Qo(t){if(t instanceof je)return t.clone();var e=new G(t.__wrapped__,t.__chain__);return e.__actions__=ji(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Jo(t,e,n){e=(n?Lo(t,e,n):e===Q)?1:Fc(yu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,s=Ql(Pc(r/e));i<r;)s[o++]=oi(t,i,i+=e);return s}function ts(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function es(){var t=arguments.length;if(!t)return[];for(var e=Ql(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return l(hf(n)?ji(n):[n],cr(e,1))}function ns(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Q?1:yu(e),oi(t,e<0?0:e,r)):[]}function rs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Q?1:yu(e),e=r-e,oi(t,0,e<0?0:e)):[]}function is(t,e){return t&&t.length?gi(t,yo(e,3),!0,!0):[]}function os(t,e){return t&&t.length?gi(t,yo(e,3),!0):[]}function ss(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Lo(t,e,n)&&(n=0,r=i),ur(t,e,n,r)):[]}function as(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=Fc(r+i,0)),m(t,yo(e,3),i)}function us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==Q&&(i=yu(n),i=n<0?Fc(r+i,0):Mc(i,r-1)),m(t,yo(e,3),i,!0)}function ls(t){return(null==t?0:t.length)?cr(t,1):[]}function cs(t){return(null==t?0:t.length)?cr(t,St):[]}function ps(t,e){return(null==t?0:t.length)?(e=e===Q?1:yu(e),cr(t,e)):[]}function fs(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function hs(t){return t&&t.length?t[0]:Q}function ds(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=Fc(r+i,0)),v(t,e,i)}function gs(t){return(null==t?0:t.length)?oi(t,0,-1):[]}function ms(t,e){return null==t?"":Bc.call(t,e)}function vs(t){var e=null==t?0:t.length;return e?t[e-1]:Q}function ys(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==Q&&(i=yu(n),i=i<0?Fc(r+i,0):Mc(i,r-1)),e===e?W(t,e,i):m(t,b,i,!0)}function bs(t,e){return t&&t.length?Ur(t,yu(e)):Q}function _s(t,e){return t&&t.length&&e&&e.length?Kr(t,e):t}function ws(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,yo(n,2)):t}function xs(t,e,n){return t&&t.length&&e&&e.length?Kr(t,e,Q,n):t}function Es(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=yo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Gr(t,i),n}function ks(t){return null==t?t:Wc.call(t)}function Cs(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Lo(t,e,n)?(e=0,n=r):(e=null==e?0:yu(e),n=n===Q?r:yu(n)),oi(t,e,n)):[]}function Ss(t,e){return ai(t,e)}function Ts(t,e,n){return ui(t,e,yo(n,2))}function As(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&Fa(t[r],e))return r}return-1}function Ds(t,e){return ai(t,e,!0)}function qs(t,e,n){return ui(t,e,yo(n,2),!0)}function Os(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(Fa(t[n],e))return n}return-1}function Ls(t){return t&&t.length?li(t):[]}function js(t,e){return t&&t.length?li(t,yo(e,2)):[]}function Ps(t){var e=null==t?0:t.length;return e?oi(t,1,e):[]}function Rs(t,e,n){return t&&t.length?(e=n||e===Q?1:yu(e),oi(t,0,e<0?0:e)):[]}function Ns(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===Q?1:yu(e),e=r-e,oi(t,e<0?0:e,r)):[]}function $s(t,e){return t&&t.length?gi(t,yo(e,3),!1,!0):[]}function Is(t,e){return t&&t.length?gi(t,yo(e,3)):[]}function Bs(t){return t&&t.length?fi(t):[]}function Hs(t,e){return t&&t.length?fi(t,yo(e,2)):[]}function Fs(t,e){return e="function"==typeof e?e:Q,t&&t.length?fi(t,Q,e):[]}function Ms(t){if(!t||!t.length)return[];var e=0;return t=o(t,function(t){if(za(t))return e=Fc(t.length,e),!0}),S(e,function(e){return u(t,w(e))})}function zs(e,n){if(!e||!e.length)return[];var r=Ms(e);return null==n?r:u(r,function(e){return t(n,Q,e)})}function Us(t,e){return yi(t||[],e||[],Xn)}function Vs(t,e){return yi(t||[],e||[],ri)}function Ws(t){var e=V(t);return e.__chain__=!0,e}function Xs(t,e){return e(t),t}function Ys(t,e){return e(t)}function Ks(){return Ws(this)}function Gs(){return new G(this.value(),this.__chain__)}function Zs(){this.__values__===Q&&(this.__values__=mu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Q:this.__values__[this.__index__++]}}function Qs(){return this}function Js(t){for(var e,n=this;n instanceof K;){var r=Qo(n);r.__index__=0,r.__values__=Q,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function ta(){var t=this.__wrapped__;if(t instanceof je){var e=t;return this.__actions__.length&&(e=new je(this)),e=e.reverse(),e.__actions__.push({func:Ys,args:[ks],thisArg:Q}),new G(e,this.__chain__)}return this.thru(ks)}function ea(){return mi(this.__wrapped__,this.__actions__)}function na(t,e,n){var r=hf(t)?i:sr;return n&&Lo(t,e,n)&&(e=Q),r(t,yo(e,3))}function ra(t,e){return(hf(t)?o:lr)(t,yo(e,3))}function ia(t,e){return cr(ca(t,e),1)}function oa(t,e){return cr(ca(t,e),St)}function sa(t,e,n){return n=n===Q?1:yu(n),cr(ca(t,e),n)}function aa(t,e){return(hf(t)?n:cp)(t,yo(e,3))}function ua(t,e){return(hf(t)?r:pp)(t,yo(e,3))}function la(t,e,n,r){t=Ma(t)?t:Ku(t),n=n&&!r?yu(n):0;var i=t.length;return n<0&&(n=Fc(i+n,0)),pu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&v(t,e,n)>-1}function ca(t,e){return(hf(t)?u:Br)(t,yo(e,3))}function pa(t,e,n,r){return null==t?[]:(hf(e)||(e=null==e?[]:[e]),n=r?Q:n,hf(n)||(n=null==n?[]:[n]),Vr(t,e,n))}function fa(t,e,n){var r=hf(t)?c:E,i=arguments.length<3;return r(t,yo(e,4),n,i,cp)}function ha(t,e,n){var r=hf(t)?p:E,i=arguments.length<3;return r(t,yo(e,4),n,i,pp)}function da(t,e){return(hf(t)?o:lr)(t,Aa(yo(e,3)))}function ga(t){return(hf(t)?zn:ei)(t)}function ma(t,e,n){return e=(n?Lo(t,e,n):e===Q)?1:yu(e),(hf(t)?Un:ni)(t,e)}function va(t){return(hf(t)?Vn:ii)(t)}function ya(t){if(null==t)return 0;if(Ma(t))return pu(t)?X(t):t.length;var e=xp(t);return e==zt||e==Kt?t.size:Nr(t).length}function ba(t,e,n){var r=hf(t)?f:si;return n&&Lo(t,e,n)&&(e=Q),r(t,yo(e,3))}function _a(t,e){if("function"!=typeof e)throw new sc(et);return t=yu(t),function(){if(--t<1)return e.apply(this,arguments)}}function wa(t,e,n){return e=n?Q:e,e=t&&null==e?t.length:e,oo(t,vt,Q,Q,Q,Q,e)}function xa(t,e){var n;if("function"!=typeof e)throw new sc(et);return t=yu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=Q),n}}function Ea(t,e,n){e=n?Q:e;var r=oo(t,ht,Q,Q,Q,Q,Q,e);return r.placeholder=Ea.placeholder,r}function ka(t,e,n){e=n?Q:e;var r=oo(t,dt,Q,Q,Q,Q,Q,e);return r.placeholder=ka.placeholder,r}function Ca(t,e,n){function r(e){var n=f,r=h;return f=h=Q,y=e,g=t.apply(r,n)}function i(t){return y=t,m=Cp(a,e),b?r(t):g}function o(t){var n=t-v,r=t-y,i=e-n;return _?Mc(i,d-r):i}function s(t){var n=t-v,r=t-y;return v===Q||n>=e||n<0||_&&r>=d}function a(){var t=tf();if(s(t))return u(t);m=Cp(a,o(t))}function u(t){return m=Q,w&&f?r(t):(f=h=Q,g)}function l(){m!==Q&&vp(m),y=0,f=v=h=m=Q}function c(){return m===Q?g:u(tf())}function p(){var t=tf(),n=s(t);if(f=arguments,h=this,v=t,n){if(m===Q)return i(v);if(_)return m=Cp(a,e),r(v)}return m===Q&&(m=Cp(a,e)),g}var f,h,d,g,m,v,y=0,b=!1,_=!1,w=!0;if("function"!=typeof t)throw new sc(et);return e=_u(e)||0,tu(n)&&(b=!!n.leading,_="maxWait"in n,d=_?Fc(_u(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),p.cancel=l,p.flush=c,p}function Sa(t){return oo(t,bt)}function Ta(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new sc(et);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ta.Cache||an),n}function Aa(t){if("function"!=typeof t)throw new sc(et);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Da(t){return xa(2,t)}function qa(t,e){if("function"!=typeof t)throw new sc(et);return e=e===Q?e:yu(e),ti(t,e)}function Oa(e,n){if("function"!=typeof e)throw new sc(et);return n=null==n?0:Fc(yu(n),0),ti(function(r){var i=r[n],o=xi(r,0,n);return i&&l(o,i),t(e,this,o)})}function La(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new sc(et);return tu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ca(t,e,{leading:r,maxWait:e,trailing:i})}function ja(t){return wa(t,1)}function Pa(t,e){return af(_i(e),t)}function Ra(){if(!arguments.length)return[];var t=arguments[0];return hf(t)?t:[t]}function Na(t){return er(t,at)}function $a(t,e){return e="function"==typeof e?e:Q,er(t,at,e)}function Ia(t){return er(t,ot|at)}function Ba(t,e){return e="function"==typeof e?e:Q,er(t,ot|at,e)}function Ha(t,e){return null==e||rr(t,e,Nu(e))}function Fa(t,e){return t===e||t!==t&&e!==e}function Ma(t){return null!=t&&Ja(t.length)&&!Za(t)}function za(t){return eu(t)&&Ma(t)}function Ua(t){return!0===t||!1===t||eu(t)&&mr(t)==$t}function Va(t){return eu(t)&&1===t.nodeType&&!lu(t)}function Wa(t){if(null==t)return!0;if(Ma(t)&&(hf(t)||"string"==typeof t||"function"==typeof t.splice||gf(t)||_f(t)||ff(t)))return!t.length;var e=xp(t);if(e==zt||e==Kt)return!t.size;if($o(t))return!Nr(t).length;for(var n in t)if(fc.call(t,n))return!1;return!0}function Xa(t,e){return Tr(t,e)}function Ya(t,e,n){n="function"==typeof n?n:Q;var r=n?n(t,e):Q;return r===Q?Tr(t,e,Q,n):!!r}function Ka(t){if(!eu(t))return!1;var e=mr(t);return e==Ht||e==Bt||"string"==typeof t.message&&"string"==typeof t.name&&!lu(t)}function Ga(t){return"number"==typeof t&&Ic(t)}function Za(t){if(!tu(t))return!1;var e=mr(t);return e==Ft||e==Mt||e==Nt||e==Xt}function Qa(t){return"number"==typeof t&&t==yu(t)}function Ja(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Tt}function tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eu(t){return null!=t&&"object"==typeof t}function nu(t,e){return t===e||qr(t,e,_o(e))}function ru(t,e,n){return n="function"==typeof n?n:Q,qr(t,e,_o(e),n)}function iu(t){return uu(t)&&t!=+t}function ou(t){if(Ep(t))throw new tc(tt);return Or(t)}function su(t){return null===t}function au(t){return null==t}function uu(t){return"number"==typeof t||eu(t)&&mr(t)==Ut}function lu(t){if(!eu(t)||mr(t)!=Wt)return!1;var e=Ec(t);if(null===e)return!0;var n=fc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pc.call(n)==mc}function cu(t){return Qa(t)&&t>=-Tt&&t<=Tt}function pu(t){return"string"==typeof t||!hf(t)&&eu(t)&&mr(t)==Gt}function fu(t){return"symbol"==typeof t||eu(t)&&mr(t)==Zt}function hu(t){return t===Q}function du(t){return eu(t)&&xp(t)==Jt}function gu(t){return eu(t)&&mr(t)==te}function mu(t){if(!t)return[];if(Ma(t))return pu(t)?Y(t):ji(t);if(Ac&&t[Ac])return I(t[Ac]());var e=xp(t);return(e==zt?B:e==Kt?z:Ku)(t)}function vu(t){if(!t)return 0===t?t:0;if((t=_u(t))===St||t===-St){return(t<0?-1:1)*At}return t===t?t:0}function yu(t){var e=vu(t),n=e%1;return e===e?n?e-n:e:0}function bu(t){return t?tr(yu(t),0,qt):0}function _u(t){if("number"==typeof t)return t;if(fu(t))return Dt;if(tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Te,"");var n=Ie.test(t);return n||He.test(t)?En(t.slice(2),n?2:8):$e.test(t)?Dt:+t}function wu(t){return Pi(t,$u(t))}function xu(t){return t?tr(yu(t),-Tt,Tt):0===t?t:0}function Eu(t){return null==t?"":pi(t)}function ku(t,e){var n=lp(t);return null==e?n:Gn(n,e)}function Cu(t,e){return g(t,yo(e,3),pr)}function Su(t,e){return g(t,yo(e,3),fr)}function Tu(t,e){return null==t?t:fp(t,yo(e,3),$u)}function Au(t,e){return null==t?t:hp(t,yo(e,3),$u)}function Du(t,e){return t&&pr(t,yo(e,3))}function qu(t,e){return t&&fr(t,yo(e,3))}function Ou(t){return null==t?[]:hr(t,Nu(t))}function Lu(t){return null==t?[]:hr(t,$u(t))}function ju(t,e,n){var r=null==t?Q:dr(t,e);return r===Q?n:r}function Pu(t,e){return null!=t&&Co(t,e,yr)}function Ru(t,e){return null!=t&&Co(t,e,br)}function Nu(t){return Ma(t)?In(t):Nr(t)}function $u(t){return Ma(t)?In(t,!0):$r(t)}function Iu(t,e){var n={};return e=yo(e,3),pr(t,function(t,r,i){Qn(n,e(t,r,i),t)}),n}function Bu(t,e){var n={};return e=yo(e,3),pr(t,function(t,r,i){Qn(n,r,e(t,r,i))}),n}function Hu(t,e){return Fu(t,Aa(yo(e)))}function Fu(t,e){if(null==t)return{};var n=u(go(t),function(t){return[t]});return e=yo(e),Xr(t,n,function(t,n){return e(t,n[0])})}function Mu(t,e,n){e=wi(e,t);var r=-1,i=e.length;for(i||(i=1,t=Q);++r<i;){var o=null==t?Q:t[Ko(e[r])];o===Q&&(r=i,o=n),t=Za(o)?o.call(t):o}return t}function zu(t,e,n){return null==t?t:ri(t,e,n)}function Uu(t,e,n,r){return r="function"==typeof r?r:Q,null==t?t:ri(t,e,n,r)}function Vu(t,e,r){var i=hf(t),o=i||gf(t)||_f(t);if(e=yo(e,4),null==r){var s=t&&t.constructor;r=o?i?new s:[]:tu(t)&&Za(s)?lp(Ec(t)):{}}return(o?n:pr)(t,function(t,n,i){return e(r,t,n,i)}),r}function Wu(t,e){return null==t||hi(t,e)}function Xu(t,e,n){return null==t?t:di(t,e,_i(n))}function Yu(t,e,n,r){return r="function"==typeof r?r:Q,null==t?t:di(t,e,_i(n),r)}function Ku(t){return null==t?[]:D(t,Nu(t))}function Gu(t){return null==t?[]:D(t,$u(t))}function Zu(t,e,n){return n===Q&&(n=e,e=Q),n!==Q&&(n=_u(n),n=n===n?n:0),e!==Q&&(e=_u(e),e=e===e?e:0),tr(_u(t),e,n)}function Qu(t,e,n){return e=vu(e),n===Q?(n=e,e=0):n=vu(n),t=_u(t),_r(t,e,n)}function Ju(t,e,n){if(n&&"boolean"!=typeof n&&Lo(t,e,n)&&(e=n=Q),n===Q&&("boolean"==typeof e?(n=e,e=Q):"boolean"==typeof t&&(n=t,t=Q)),t===Q&&e===Q?(t=0,e=1):(t=vu(t),e===Q?(e=t,t=0):e=vu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Vc();return Mc(t+i*(e-t+xn("1e-"+((i+"").length-1))),e)}return Zr(t,e)}function tl(t){return Wf(Eu(t).toLowerCase())}function el(t){return(t=Eu(t))&&t.replace(Me,Bn).replace(ln,"")}function nl(t,e,n){t=Eu(t),e=pi(e);var r=t.length;n=n===Q?r:tr(yu(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function rl(t){return t=Eu(t),t&&ye.test(t)?t.replace(me,Hn):t}function il(t){return t=Eu(t),t&&Se.test(t)?t.replace(Ce,"\\$&"):t}function ol(t,e,n){t=Eu(t),e=yu(e);var r=e?X(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Qi(Rc(i),n)+t+Qi(Pc(i),n)}function sl(t,e,n){t=Eu(t),e=yu(e);var r=e?X(t):0;return e&&r<e?t+Qi(e-r,n):t}function al(t,e,n){t=Eu(t),e=yu(e);var r=e?X(t):0;return e&&r<e?Qi(e-r,n)+t:t}function ul(t,e,n){return n||null==e?e=0:e&&(e=+e),Uc(Eu(t).replace(Ae,""),e||0)}function ll(t,e,n){return e=(n?Lo(t,e,n):e===Q)?1:yu(e),Jr(Eu(t),e)}function cl(){var t=arguments,e=Eu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function pl(t,e,n){return n&&"number"!=typeof n&&Lo(t,e,n)&&(e=n=Q),(n=n===Q?qt:n>>>0)?(t=Eu(t),t&&("string"==typeof e||null!=e&&!yf(e))&&!(e=pi(e))&&N(t)?xi(Y(t),0,n):t.split(e,n)):[]}function fl(t,e,n){return t=Eu(t),n=null==n?0:tr(yu(n),0,t.length),e=pi(e),t.slice(n,n+e.length)==e}function hl(t,e,n){var r=V.templateSettings;n&&Lo(t,e,n)&&(e=Q),t=Eu(t),e=Cf({},e,r,so);var i,o,s=Cf({},e.imports,r.imports,so),a=Nu(s),u=D(s,a),l=0,c=e.interpolate||ze,p="__p += '",f=ic((e.escape||ze).source+"|"+c.source+"|"+(c===we?Re:ze).source+"|"+(e.evaluate||ze).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++gn+"]")+"\n";t.replace(f,function(e,n,r,s,a,u){return r||(r=s),p+=t.slice(l,u).replace(Ue,P),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),p+="';\n";var d=e.variable;d||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(fe,""):p).replace(he,"$1").replace(de,"$1;"),p="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Xf(function(){return ec(a,h+"return "+p).apply(Q,u)});if(g.source=p,Ka(g))throw g;return g}function dl(t){return Eu(t).toLowerCase()}function gl(t){return Eu(t).toUpperCase()}function ml(t,e,n){if((t=Eu(t))&&(n||e===Q))return t.replace(Te,"");if(!t||!(e=pi(e)))return t;var r=Y(t),i=Y(e);return xi(r,O(r,i),L(r,i)+1).join("")}function vl(t,e,n){if((t=Eu(t))&&(n||e===Q))return t.replace(De,"");if(!t||!(e=pi(e)))return t;var r=Y(t);return xi(r,0,L(r,Y(e))+1).join("")}function yl(t,e,n){if((t=Eu(t))&&(n||e===Q))return t.replace(Ae,"");if(!t||!(e=pi(e)))return t;var r=Y(t);return xi(r,O(r,Y(e))).join("")}function bl(t,e){var n=_t,r=wt;if(tu(e)){var i="separator"in e?e.separator:i;n="length"in e?yu(e.length):n,r="omission"in e?pi(e.omission):r}t=Eu(t);var o=t.length;if(N(t)){var s=Y(t);o=s.length}if(n>=o)return t;var a=n-X(r);if(a<1)return r;var u=s?xi(s,0,a).join(""):t.slice(0,a);if(i===Q)return u+r;if(s&&(a+=u.length-a),yf(i)){if(t.slice(a).search(i)){var l,c=u;for(i.global||(i=ic(i.source,Eu(Ne.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var p=l.index;u=u.slice(0,p===Q?a:p)}}else if(t.indexOf(pi(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function _l(t){return t=Eu(t),t&&ve.test(t)?t.replace(ge,Fn):t}function wl(t,e,n){return t=Eu(t),e=n?Q:e,e===Q?$(t)?Z(t):d(t):t.match(e)||[]}function xl(e){var n=null==e?0:e.length,r=yo();return e=n?u(e,function(t){if("function"!=typeof t[1])throw new sc(et);return[r(t[0]),t[1]]}):[],ti(function(r){for(var i=-1;++i<n;){var o=e[i];if(t(o[0],this,r))return t(o[1],this,r)}})}function El(t){return nr(er(t,ot))}function kl(t){return function(){return t}}function Cl(t,e){return null==t||t!==t?e:t}function Sl(t){return t}function Tl(t){return Rr("function"==typeof t?t:er(t,ot))}function Al(t){return Hr(er(t,ot))}function Dl(t,e){return Fr(t,er(e,ot))}function ql(t,e,r){var i=Nu(e),o=hr(e,i);null!=r||tu(e)&&(o.length||!i.length)||(r=e,e=t,t=this,o=hr(e,Nu(e)));var s=!(tu(r)&&"chain"in r&&!r.chain),a=Za(t);return n(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=ji(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,l([this.value()],arguments))})}),t}function Ol(){return Sn._===this&&(Sn._=vc),this}function Ll(){}function jl(t){return t=yu(t),ti(function(e){return Ur(e,t)})}function Pl(t){return jo(t)?w(Ko(t)):Yr(t)}function Rl(t){return function(e){return null==t?Q:dr(t,e)}}function Nl(){return[]}function $l(){return!1}function Il(){return{}}function Bl(){return""}function Hl(){return!0}function Fl(t,e){if((t=yu(t))<1||t>Tt)return[];var n=qt,r=Mc(t,qt);e=yo(e),t-=qt;for(var i=S(r,e);++n<t;)e(n);return i}function Ml(t){return hf(t)?u(t,Ko):fu(t)?[t]:ji(Tp(Eu(t)))}function zl(t){var e=++hc;return Eu(t)+e}function Ul(t){return t&&t.length?ar(t,Sl,vr):Q}function Vl(t,e){return t&&t.length?ar(t,yo(e,2),vr):Q}function Wl(t){return _(t,Sl)}function Xl(t,e){return _(t,yo(e,2))}function Yl(t){return t&&t.length?ar(t,Sl,Ir):Q}function Kl(t,e){return t&&t.length?ar(t,yo(e,2),Ir):Q}function Gl(t){return t&&t.length?C(t,Sl):0}function Zl(t,e){return t&&t.length?C(t,yo(e,2)):0}x=null==x?Sn:Mn.defaults(Sn.Object(),x,Mn.pick(Sn,dn));var Ql=x.Array,Jl=x.Date,tc=x.Error,ec=x.Function,nc=x.Math,rc=x.Object,ic=x.RegExp,oc=x.String,sc=x.TypeError,ac=Ql.prototype,uc=ec.prototype,lc=rc.prototype,cc=x["__core-js_shared__"],pc=uc.toString,fc=lc.hasOwnProperty,hc=0,dc=function(){var t=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gc=lc.toString,mc=pc.call(rc),vc=Sn._,yc=ic("^"+pc.call(fc).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bc=Dn?x.Buffer:Q,_c=x.Symbol,wc=x.Uint8Array,xc=bc?bc.allocUnsafe:Q,Ec=H(rc.getPrototypeOf,rc),kc=rc.create,Cc=lc.propertyIsEnumerable,Sc=ac.splice,Tc=_c?_c.isConcatSpreadable:Q,Ac=_c?_c.iterator:Q,Dc=_c?_c.toStringTag:Q,qc=function(){try{var t=wo(rc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Oc=x.clearTimeout!==Sn.clearTimeout&&x.clearTimeout,Lc=Jl&&Jl.now!==Sn.Date.now&&Jl.now,jc=x.setTimeout!==Sn.setTimeout&&x.setTimeout,Pc=nc.ceil,Rc=nc.floor,Nc=rc.getOwnPropertySymbols,$c=bc?bc.isBuffer:Q,Ic=x.isFinite,Bc=ac.join,Hc=H(rc.keys,rc),Fc=nc.max,Mc=nc.min,zc=Jl.now,Uc=x.parseInt,Vc=nc.random,Wc=ac.reverse,Xc=wo(x,"DataView"),Yc=wo(x,"Map"),Kc=wo(x,"Promise"),Gc=wo(x,"Set"),Zc=wo(x,"WeakMap"),Qc=wo(rc,"create"),Jc=Zc&&new Zc,tp={},ep=Go(Xc),np=Go(Yc),rp=Go(Kc),ip=Go(Gc),op=Go(Zc),sp=_c?_c.prototype:Q,ap=sp?sp.valueOf:Q,up=sp?sp.toString:Q,lp=function(){function t(){}return function(e){if(!tu(e))return{};if(kc)return kc(e);t.prototype=e;var n=new t;return t.prototype=Q,n}}();V.templateSettings={escape:be,evaluate:_e,interpolate:we,variable:"",imports:{_:V}},V.prototype=K.prototype,V.prototype.constructor=V,G.prototype=lp(K.prototype),G.prototype.constructor=G,je.prototype=lp(K.prototype),je.prototype.constructor=je,Ye.prototype.clear=Ke,Ye.prototype.delete=Ge,Ye.prototype.get=Ze,Ye.prototype.has=Qe,Ye.prototype.set=Je,tn.prototype.clear=en,tn.prototype.delete=nn,tn.prototype.get=rn,tn.prototype.has=on,tn.prototype.set=sn,an.prototype.clear=cn,an.prototype.delete=pn,an.prototype.get=fn,an.prototype.has=hn,an.prototype.set=yn,bn.prototype.add=bn.prototype.push=_n,bn.prototype.has=wn,kn.prototype.clear=Cn,kn.prototype.delete=Tn,kn.prototype.get=An,kn.prototype.has=qn,kn.prototype.set=On;var cp=Bi(pr),pp=Bi(fr,!0),fp=Hi(),hp=Hi(!0),dp=Jc?function(t,e){return Jc.set(t,e),t}:Sl,gp=qc?function(t,e){return qc(t,"toString",{configurable:!0,enumerable:!1,value:kl(e),writable:!0})}:Sl,mp=ti,vp=Oc||function(t){return Sn.clearTimeout(t)},yp=Gc&&1/z(new Gc([,-0]))[1]==St?function(t){return new Gc(t)}:Ll,bp=Jc?function(t){return Jc.get(t)}:Ll,_p=Nc?function(t){return null==t?[]:(t=rc(t),o(Nc(t),function(e){return Cc.call(t,e)}))}:Nl,wp=Nc?function(t){for(var e=[];t;)l(e,_p(t)),t=Ec(t);return e}:Nl,xp=mr;(Xc&&xp(new Xc(new ArrayBuffer(1)))!=ne||Yc&&xp(new Yc)!=zt||Kc&&"[object Promise]"!=xp(Kc.resolve())||Gc&&xp(new Gc)!=Kt||Zc&&xp(new Zc)!=Jt)&&(xp=function(t){var e=mr(t),n=e==Wt?t.constructor:Q,r=n?Go(n):"";if(r)switch(r){case ep:return ne;case np:return zt;case rp:return"[object Promise]";case ip:return Kt;case op:return Jt}return e});var Ep=cc?Za:$l,kp=Xo(dp),Cp=jc||function(t,e){return Sn.setTimeout(t,e)},Sp=Xo(gp),Tp=function(t){var e=Ta(t,function(t){return n.size===rt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ke,function(t,n,r,i){e.push(r?i.replace(Pe,"$1"):n||t)}),e}),Ap=ti(function(t,e){return za(t)?or(t,cr(e,1,za,!0)):[]}),Dp=ti(function(t,e){var n=vs(e);return za(n)&&(n=Q),za(t)?or(t,cr(e,1,za,!0),yo(n,2)):[]}),qp=ti(function(t,e){var n=vs(e);return za(n)&&(n=Q),za(t)?or(t,cr(e,1,za,!0),Q,n):[]}),Op=ti(function(t){var e=u(t,bi);return e.length&&e[0]===t[0]?wr(e):[]}),Lp=ti(function(t){var e=vs(t),n=u(t,bi);return e===vs(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?wr(n,yo(e,2)):[]}),jp=ti(function(t){var e=vs(t),n=u(t,bi);return e="function"==typeof e?e:Q,e&&n.pop(),n.length&&n[0]===t[0]?wr(n,Q,e):[]}),Pp=ti(_s),Rp=fo(function(t,e){var n=null==t?0:t.length,r=Jn(t,e);return Gr(t,u(e,function(t){return Oo(t,n)?+t:t}).sort(Di)),r}),Np=ti(function(t){return fi(cr(t,1,za,!0))}),$p=ti(function(t){var e=vs(t);return za(e)&&(e=Q),fi(cr(t,1,za,!0),yo(e,2))}),Ip=ti(function(t){var e=vs(t);return e="function"==typeof e?e:Q,fi(cr(t,1,za,!0),Q,e)}),Bp=ti(function(t,e){return za(t)?or(t,e):[]}),Hp=ti(function(t){return vi(o(t,za))}),Fp=ti(function(t){var e=vs(t);return za(e)&&(e=Q),vi(o(t,za),yo(e,2))}),Mp=ti(function(t){var e=vs(t);return e="function"==typeof e?e:Q,vi(o(t,za),Q,e)}),zp=ti(Ms),Up=ti(function(t){var e=t.length,n=e>1?t[e-1]:Q;return n="function"==typeof n?(t.pop(),n):Q,zs(t,n)}),Vp=fo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Jn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof je&&Oo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Ys,args:[i],thisArg:Q}),new G(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Q),t})):this.thru(i)}),Wp=$i(function(t,e,n){fc.call(t,n)?++t[n]:Qn(t,n,1)}),Xp=Wi(as),Yp=Wi(us),Kp=$i(function(t,e,n){fc.call(t,n)?t[n].push(e):Qn(t,n,[e])}),Gp=ti(function(e,n,r){var i=-1,o="function"==typeof n,s=Ma(e)?Ql(e.length):[];return cp(e,function(e){s[++i]=o?t(n,e,r):Er(e,n,r)}),s}),Zp=$i(function(t,e,n){Qn(t,n,e)}),Qp=$i(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Jp=ti(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Lo(t,e[0],e[1])?e=[]:n>2&&Lo(e[0],e[1],e[2])&&(e=[e[0]]),Vr(t,cr(e,1),[])}),tf=Lc||function(){return Sn.Date.now()},ef=ti(function(t,e,n){var r=ct;if(n.length){var i=F(n,vo(ef));r|=gt}return oo(t,r,e,n,i)}),nf=ti(function(t,e,n){var r=ct|pt;if(n.length){var i=F(n,vo(nf));r|=gt}return oo(e,r,t,n,i)}),rf=ti(function(t,e){return ir(t,1,e)}),of=ti(function(t,e,n){return ir(t,_u(e)||0,n)});Ta.Cache=an;var sf=mp(function(e,n){n=1==n.length&&hf(n[0])?u(n[0],A(yo())):u(cr(n,1),A(yo()));var r=n.length;return ti(function(i){for(var o=-1,s=Mc(i.length,r);++o<s;)i[o]=n[o].call(this,i[o]);return t(e,this,i)})}),af=ti(function(t,e){var n=F(e,vo(af));return oo(t,gt,Q,e,n)}),uf=ti(function(t,e){var n=F(e,vo(uf));return oo(t,mt,Q,e,n)}),lf=fo(function(t,e){return oo(t,yt,Q,Q,Q,e)}),cf=eo(vr),pf=eo(function(t,e){return t>=e}),ff=kr(function(){return arguments}())?kr:function(t){return eu(t)&&fc.call(t,"callee")&&!Cc.call(t,"callee")},hf=Ql.isArray,df=Ln?A(Ln):Cr,gf=$c||$l,mf=jn?A(jn):Sr,vf=Pn?A(Pn):Dr,yf=Rn?A(Rn):Lr,bf=Nn?A(Nn):jr,_f=$n?A($n):Pr,wf=eo(Ir),xf=eo(function(t,e){return t<=e}),Ef=Ii(function(t,e){if($o(e)||Ma(e))return void Pi(e,Nu(e),t);for(var n in e)fc.call(e,n)&&Xn(t,n,e[n])}),kf=Ii(function(t,e){Pi(e,$u(e),t)}),Cf=Ii(function(t,e,n,r){Pi(e,$u(e),t,r)}),Sf=Ii(function(t,e,n,r){Pi(e,Nu(e),t,r)}),Tf=fo(Jn),Af=ti(function(t,e){t=rc(t);var n=-1,r=e.length,i=r>2?e[2]:Q;for(i&&Lo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=$u(o),a=-1,u=s.length;++a<u;){var l=s[a],c=t[l];(c===Q||Fa(c,lc[l])&&!fc.call(t,l))&&(t[l]=o[l])}return t}),Df=ti(function(e){return e.push(Q,ao),t(Pf,Q,e)}),qf=Ki(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=gc.call(e)),t[e]=n},kl(Sl)),Of=Ki(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=gc.call(e)),fc.call(t,e)?t[e].push(n):t[e]=[n]},yo),Lf=ti(Er),jf=Ii(function(t,e,n){Mr(t,e,n)}),Pf=Ii(function(t,e,n,r){Mr(t,e,n,r)}),Rf=fo(function(t,e){var n={};if(null==t)return n;var r=!1;e=u(e,function(e){return e=wi(e,t),r||(r=e.length>1),e}),Pi(t,go(t),n),r&&(n=er(n,ot|st|at,uo));for(var i=e.length;i--;)hi(n,e[i]);return n}),Nf=fo(function(t,e){return null==t?{}:Wr(t,e)}),$f=io(Nu),If=io($u),Bf=zi(function(t,e,n){return e=e.toLowerCase(),t+(n?tl(e):e)}),Hf=zi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ff=zi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Mf=Mi("toLowerCase"),zf=zi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Uf=zi(function(t,e,n){return t+(n?" ":"")+Wf(e)}),Vf=zi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Wf=Mi("toUpperCase"),Xf=ti(function(e,n){try{return t(e,Q,n)}catch(t){return Ka(t)?t:new tc(t)}}),Yf=fo(function(t,e){return n(e,function(e){e=Ko(e),Qn(t,e,ef(t[e],t))}),t}),Kf=Xi(),Gf=Xi(!0),Zf=ti(function(t,e){return function(n){return Er(n,t,e)}}),Qf=ti(function(t,e){return function(n){return Er(t,n,e)}}),Jf=Zi(u),th=Zi(i),eh=Zi(f),nh=to(),rh=to(!0),ih=Gi(function(t,e){return t+e},0),oh=ro("ceil"),sh=Gi(function(t,e){return t/e},1),ah=ro("floor"),uh=Gi(function(t,e){return t*e},1),lh=ro("round"),ch=Gi(function(t,e){return t-e},0);return V.after=_a,V.ary=wa,V.assign=Ef,V.assignIn=kf,V.assignInWith=Cf,V.assignWith=Sf,V.at=Tf,V.before=xa,V.bind=ef,V.bindAll=Yf,V.bindKey=nf,V.castArray=Ra,V.chain=Ws,V.chunk=Jo,V.compact=ts,V.concat=es,V.cond=xl,V.conforms=El,V.constant=kl,V.countBy=Wp,V.create=ku,V.curry=Ea,V.curryRight=ka,V.debounce=Ca,V.defaults=Af,V.defaultsDeep=Df,V.defer=rf,V.delay=of,V.difference=Ap,V.differenceBy=Dp,V.differenceWith=qp,V.drop=ns,V.dropRight=rs,V.dropRightWhile=is,V.dropWhile=os,V.fill=ss,V.filter=ra,V.flatMap=ia,V.flatMapDeep=oa,V.flatMapDepth=sa,V.flatten=ls,V.flattenDeep=cs,V.flattenDepth=ps,V.flip=Sa,V.flow=Kf,
V.flowRight=Gf,V.fromPairs=fs,V.functions=Ou,V.functionsIn=Lu,V.groupBy=Kp,V.initial=gs,V.intersection=Op,V.intersectionBy=Lp,V.intersectionWith=jp,V.invert=qf,V.invertBy=Of,V.invokeMap=Gp,V.iteratee=Tl,V.keyBy=Zp,V.keys=Nu,V.keysIn=$u,V.map=ca,V.mapKeys=Iu,V.mapValues=Bu,V.matches=Al,V.matchesProperty=Dl,V.memoize=Ta,V.merge=jf,V.mergeWith=Pf,V.method=Zf,V.methodOf=Qf,V.mixin=ql,V.negate=Aa,V.nthArg=jl,V.omit=Rf,V.omitBy=Hu,V.once=Da,V.orderBy=pa,V.over=Jf,V.overArgs=sf,V.overEvery=th,V.overSome=eh,V.partial=af,V.partialRight=uf,V.partition=Qp,V.pick=Nf,V.pickBy=Fu,V.property=Pl,V.propertyOf=Rl,V.pull=Pp,V.pullAll=_s,V.pullAllBy=ws,V.pullAllWith=xs,V.pullAt=Rp,V.range=nh,V.rangeRight=rh,V.rearg=lf,V.reject=da,V.remove=Es,V.rest=qa,V.reverse=ks,V.sampleSize=ma,V.set=zu,V.setWith=Uu,V.shuffle=va,V.slice=Cs,V.sortBy=Jp,V.sortedUniq=Ls,V.sortedUniqBy=js,V.split=pl,V.spread=Oa,V.tail=Ps,V.take=Rs,V.takeRight=Ns,V.takeRightWhile=$s,V.takeWhile=Is,V.tap=Xs,V.throttle=La,V.thru=Ys,V.toArray=mu,V.toPairs=$f,V.toPairsIn=If,V.toPath=Ml,V.toPlainObject=wu,V.transform=Vu,V.unary=ja,V.union=Np,V.unionBy=$p,V.unionWith=Ip,V.uniq=Bs,V.uniqBy=Hs,V.uniqWith=Fs,V.unset=Wu,V.unzip=Ms,V.unzipWith=zs,V.update=Xu,V.updateWith=Yu,V.values=Ku,V.valuesIn=Gu,V.without=Bp,V.words=wl,V.wrap=Pa,V.xor=Hp,V.xorBy=Fp,V.xorWith=Mp,V.zip=zp,V.zipObject=Us,V.zipObjectDeep=Vs,V.zipWith=Up,V.entries=$f,V.entriesIn=If,V.extend=kf,V.extendWith=Cf,ql(V,V),V.add=ih,V.attempt=Xf,V.camelCase=Bf,V.capitalize=tl,V.ceil=oh,V.clamp=Zu,V.clone=Na,V.cloneDeep=Ia,V.cloneDeepWith=Ba,V.cloneWith=$a,V.conformsTo=Ha,V.deburr=el,V.defaultTo=Cl,V.divide=sh,V.endsWith=nl,V.eq=Fa,V.escape=rl,V.escapeRegExp=il,V.every=na,V.find=Xp,V.findIndex=as,V.findKey=Cu,V.findLast=Yp,V.findLastIndex=us,V.findLastKey=Su,V.floor=ah,V.forEach=aa,V.forEachRight=ua,V.forIn=Tu,V.forInRight=Au,V.forOwn=Du,V.forOwnRight=qu,V.get=ju,V.gt=cf,V.gte=pf,V.has=Pu,V.hasIn=Ru,V.head=hs,V.identity=Sl,V.includes=la,V.indexOf=ds,V.inRange=Qu,V.invoke=Lf,V.isArguments=ff,V.isArray=hf,V.isArrayBuffer=df,V.isArrayLike=Ma,V.isArrayLikeObject=za,V.isBoolean=Ua,V.isBuffer=gf,V.isDate=mf,V.isElement=Va,V.isEmpty=Wa,V.isEqual=Xa,V.isEqualWith=Ya,V.isError=Ka,V.isFinite=Ga,V.isFunction=Za,V.isInteger=Qa,V.isLength=Ja,V.isMap=vf,V.isMatch=nu,V.isMatchWith=ru,V.isNaN=iu,V.isNative=ou,V.isNil=au,V.isNull=su,V.isNumber=uu,V.isObject=tu,V.isObjectLike=eu,V.isPlainObject=lu,V.isRegExp=yf,V.isSafeInteger=cu,V.isSet=bf,V.isString=pu,V.isSymbol=fu,V.isTypedArray=_f,V.isUndefined=hu,V.isWeakMap=du,V.isWeakSet=gu,V.join=ms,V.kebabCase=Hf,V.last=vs,V.lastIndexOf=ys,V.lowerCase=Ff,V.lowerFirst=Mf,V.lt=wf,V.lte=xf,V.max=Ul,V.maxBy=Vl,V.mean=Wl,V.meanBy=Xl,V.min=Yl,V.minBy=Kl,V.stubArray=Nl,V.stubFalse=$l,V.stubObject=Il,V.stubString=Bl,V.stubTrue=Hl,V.multiply=uh,V.nth=bs,V.noConflict=Ol,V.noop=Ll,V.now=tf,V.pad=ol,V.padEnd=sl,V.padStart=al,V.parseInt=ul,V.random=Ju,V.reduce=fa,V.reduceRight=ha,V.repeat=ll,V.replace=cl,V.result=Mu,V.round=lh,V.runInContext=h,V.sample=ga,V.size=ya,V.snakeCase=zf,V.some=ba,V.sortedIndex=Ss,V.sortedIndexBy=Ts,V.sortedIndexOf=As,V.sortedLastIndex=Ds,V.sortedLastIndexBy=qs,V.sortedLastIndexOf=Os,V.startCase=Uf,V.startsWith=fl,V.subtract=ch,V.sum=Gl,V.sumBy=Zl,V.template=hl,V.times=Fl,V.toFinite=vu,V.toInteger=yu,V.toLength=bu,V.toLower=dl,V.toNumber=_u,V.toSafeInteger=xu,V.toString=Eu,V.toUpper=gl,V.trim=ml,V.trimEnd=vl,V.trimStart=yl,V.truncate=bl,V.unescape=_l,V.uniqueId=zl,V.upperCase=Vf,V.upperFirst=Wf,V.each=aa,V.eachRight=ua,V.first=hs,ql(V,function(){var t={};return pr(V,function(e,n){fc.call(V.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),V.VERSION="4.17.5",n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){V[t].placeholder=V}),n(["drop","take"],function(t,e){je.prototype[t]=function(n){n=n===Q?1:Fc(yu(n),0);var r=this.__filtered__&&!e?new je(this):this.clone();return r.__filtered__?r.__takeCount__=Mc(n,r.__takeCount__):r.__views__.push({size:Mc(n,qt),type:t+(r.__dir__<0?"Right":"")}),r},je.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),n(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==kt||3==n;je.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:yo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),n(["head","last"],function(t,e){var n="take"+(e?"Right":"");je.prototype[t]=function(){return this[n](1).value()[0]}}),n(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");je.prototype[t]=function(){return this.__filtered__?new je(this):this[n](1)}}),je.prototype.compact=function(){return this.filter(Sl)},je.prototype.find=function(t){return this.filter(t).head()},je.prototype.findLast=function(t){return this.reverse().find(t)},je.prototype.invokeMap=ti(function(t,e){return"function"==typeof t?new je(this):this.map(function(n){return Er(n,t,e)})}),je.prototype.reject=function(t){return this.filter(Aa(yo(t)))},je.prototype.slice=function(t,e){t=yu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new je(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Q&&(e=yu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},je.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},je.prototype.toArray=function(){return this.take(qt)},pr(je.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=V[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(V.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof je,u=s[0],c=a||hf(e),p=function(t){var e=i.apply(V,l([t],s));return r&&f?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,g=a&&!h;if(!o&&c){e=g?e:new je(this);var m=t.apply(e,s);return m.__actions__.push({func:Ys,args:[p],thisArg:Q}),new G(m,f)}return d&&g?t.apply(this,s):(m=this.thru(p),d?r?m.value()[0]:m.value():m)})}),n(["pop","push","shift","sort","splice","unshift"],function(t){var e=ac[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);V.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(hf(i)?i:[],t)}return this[n](function(n){return e.apply(hf(n)?n:[],t)})}}),pr(je.prototype,function(t,e){var n=V[e];if(n){var r=n.name+"";(tp[r]||(tp[r]=[])).push({name:e,func:n})}}),tp[Yi(Q,pt).name]=[{name:"wrapper",func:Q}],je.prototype.clone=Ve,je.prototype.reverse=We,je.prototype.value=Xe,V.prototype.at=Vp,V.prototype.chain=Ks,V.prototype.commit=Gs,V.prototype.next=Zs,V.prototype.plant=Js,V.prototype.reverse=ta,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=ea,V.prototype.first=V.prototype.head,Ac&&(V.prototype[Ac]=Qs),V}();"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("underscore",[],function(){return Mn})}.call(this),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(t){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],u(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],u(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},a=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=s(e,i,r))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},p=/\s+/,f=function(t,e,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)e=f(t,e,s[a],r[s[a]],o)}else if(r&&p.test(r))for(s=r.split(p);a<s.length;a++)e=t(e,s[a],i,o);else e=t(e,r,i,o);return e};c.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,r,i){if(t._events=f(d,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){(t._listeners||(t._listeners={}))[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[i];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[i]={obj:t,objId:i,id:a,listeningTo:o,count:0}}return h(t,e,r,this,s),this};var d=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=f(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(e,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var g=function(t,e,r,i){if(t){var o,s=0,a=i.context,u=i.listeners;if(e||r||a){for(var l=e?[e]:n.keys(t);s<l.length;s++){e=l[s];var c=t[e];if(!c)break;for(var p=[],f=0;f<c.length;f++){var h=c[f];r&&r!==h.callback&&r!==h.callback._callback||a&&a!==h.context?p.push(h):(o=h.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}p.length?t[e]=p:delete t[e]}return n.size(t)?t:void 0}for(var d=n.keys(u);s<d.length;s++)o=u[d[s]],delete u[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,r){var i=f(m,{},t,e,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(t,e,r){var i=f(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return f(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,p=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(l[f],e)||a.push(f),n.isEqual(p[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,l[a[h]],r)}if(u)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},B(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,u=this.attributes;r.success=function(t){s.attributes=u;var e=r.parse?s.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!s.set(e,r))return!1;a&&a.call(r.context,s,t,r),s.trigger("sync",s,t,r)},B(this,r),i&&o&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(B(this,t),s=this.sync("delete",this,t)),i||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}}),a(b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},E=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var r=Array(t.length-n),i=e.length,o=0;o<r.length;o++)r[o]=t[o+n];for(o=0;o<i;o++)t[o+n]=e[o];for(o=0;o<r.length;o++)t[o+i+n]=r[o]};n.extend(_.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,x))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:n.clone(t);var i=this._removeModels(t,e);return!e.silent&&i&&this.trigger("update",this,e),r?i[0]:i},set:function(t,e){if(null!=t){e=n.defaults({},e,w),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var o,s=[],a=[],u=[],l={},c=e.add,p=e.merge,f=e.remove,h=!1,d=this.comparator&&null==i&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(p&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),d&&!h&&(h=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,s.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(a.push(o),this._addReference(o,e),l[o.cid]=!0,s.push(o))}if(f){for(m=0;m<this.length;m++)o=this.models[m],l[o.cid]||u.push(o);u.length&&this._removeModels(u,e)}var b=!1,_=!d&&c&&f;if(s.length&&_?(b=this.length!=s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,E(this.models,s,0),this.length=this.models.length):a.length&&(d&&(h=!0),E(this.models,a,null==i?this.length:i),this.length=this.models.length),h&&this.sort({silent:!0}),!e.silent){for(m=0;m<a.length;m++)null!=i&&(e.index=i+m),o=a[m],o.trigger("add",o,this,e);(h||b)&&this.trigger("sort",this,e),(a.length||u.length)&&this.trigger("update",this,e)}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var k=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(C);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=T[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||I()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,l,i),l};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,q=/(\(\?)?:\w+/g,O=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(D,"(?:$1)?").replace(q,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var j=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,N=/#.*$/;j.started=!1,n.extend(j.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(P,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!j.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new j;var $=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};b.extend=_.extend=A.extend=k.extend=j.extend=$;var I=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e});var slice=[].slice,extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t,e){var n,r,i,o;if("function"==typeof define&&define.amd)return define("cloudinary",e);if("object"==typeof exports)return module.exports=e();t.cloudinary||(t.cloudinary={}),r=e(),i=[];for(n in r)o=r[n],i.push(t.cloudinary[n]=o)}(this,function(){var t,e,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,v,y,b,w,x,E,k,C,S,T,A,D,q,O,L,j,P,R,N,$,I,B,H,F,M,z,U,V,W,X,Y,K,G,Z,Q,J,tt,et,nt,rt,it,ot,st,at,ut,lt,ct;_=function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function i(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function o(t,e){return!!(null==t?0:t.length)&&f(t,e,0)>-1}function s(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function a(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function u(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function l(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function c(t){return t.split("")}function p(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function f(t,e,n){return e===e?C(t,e,n):p(t,h,n)}function h(t){return t!==t}function d(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function g(t){return function(e){return t(e)}}function m(t,e){return a(e,function(e){return t[e]})}function v(t,e){return t.has(e)}function y(t,e){for(var n=-1,r=t.length;++n<r&&f(e,t[n],0)>-1;);return n}function b(t,e){for(var n=t.length;n--&&f(e,t[n],0)>-1;);return n}function _(t,e){return null==t?Le:t[e]}function w(t){return $n.test(t)}function x(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function E(t,e){return function(n){return t(e(n))}}function k(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function C(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function S(t){return w(t)?T(t):c(t)}function T(t){return t.match(Nn)||[]}function A(){}function D(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function q(){this.__data__=Tr?Tr(null):{},this.size=0}function O(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function L(t){var e=this.__data__;if(Tr){var n=e[t];return n===Pe?Le:n}return er.call(e,t)?e[t]:Le}function j(t){var e=this.__data__;return Tr?e[t]!==Le:er.call(e,t)}function P(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tr&&e===Le?Pe:e,this}function R(t){
var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(){this.__data__=[],this.size=0}function $(t){var e=this.__data__,n=ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():hr.call(e,n,1),--this.size,!0)}function I(t){var e=this.__data__,n=ot(e,t);return n<0?Le:e[n][1]}function B(t){return ot(this.__data__,t)>-1}function H(t,e){var n=this.__data__,r=ot(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function F(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function M(){this.size=0,this.__data__={hash:new D,map:new(Er||R),string:new D}}function z(t){var e=Ft(this,t).delete(t);return this.size-=e?1:0,e}function U(t){return Ft(this,t).get(t)}function V(t){return Ft(this,t).has(t)}function W(t,e){var n=Ft(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function X(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new F;++e<n;)this.add(t[e])}function Y(t){return this.__data__.set(t,Pe),this}function K(t){return this.__data__.has(t)}function G(t){var e=this.__data__=new R(t);this.size=e.size}function Z(){this.__data__=new R,this.size=0}function Q(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function J(t){return this.__data__.get(t)}function tt(t){return this.__data__.has(t)}function et(t,e){var n=this.__data__;if(n instanceof R){var r=n.__data__;if(!Er||r.length<je-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new F(r)}return n.set(t,e),this.size=n.size,this}function nt(t,e){var n=Vr(t),r=!n&&Ur(t),i=!n&&!r&&Wr(t),o=!n&&!r&&!i&&Xr(t),s=n||r||i||o,a=s?d(t.length,String):[],u=a.length;for(var l in t)!e&&!er.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yt(l,u))||a.push(l);return a}function rt(t,e,n){(n===Le||se(t[e],n))&&(n!==Le||e in t)||ut(t,e,n)}function it(t,e,n){var r=t[e];er.call(t,e)&&se(r,n)&&(n!==Le||e in t)||ut(t,e,n)}function ot(t,e){for(var n=t.length;n--;)if(se(t[n][0],e))return n;return-1}function st(t,e){return t&&Rt(e,ke(e),t)}function at(t,e){return t&&Rt(e,Ce(e),t)}function ut(t,e,n){"__proto__"==e&&mr?mr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function lt(t,e,n,i,o,s){var a,u=e&Re,l=e&Ne,c=e&$e;if(n&&(a=o?n(t,i,o,s):n(t)),a!==Le)return a;if(!he(t))return t;var p=Vr(t);if(p){if(a=Ut(t),!u)return Pt(t,a)}else{var f=Fr(t),h=f==Ye||f==Ke;if(Wr(t))return St(t,u);if(f==Je||f==Ue||h&&!o){if(a=l||h?{}:Vt(t),!u)return l?$t(t,at(a,t)):Nt(t,st(a,t))}else{if(!Bn[f])return o?t:{};a=Wt(t,f,lt,u)}}s||(s=new G);var d=s.get(t);if(d)return d;s.set(t,a);var g=c?l?Ht:Bt:l?Ce:ke,m=p?Le:g(t);return r(m||t,function(r,i){m&&(i=r,r=t[i]),it(a,i,lt(r,e,n,i,t,s))}),a}function ct(t,e,n,r){var i=-1,u=o,l=!0,c=t.length,p=[],f=e.length;if(!c)return p;n&&(e=a(e,g(n))),r?(u=s,l=!1):e.length>=je&&(u=v,l=!1,e=new X(e));t:for(;++i<c;){var h=t[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,l&&d===d){for(var m=f;m--;)if(e[m]===d)continue t;p.push(h)}else u(e,d,r)||p.push(h)}return p}function pt(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Xt),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?pt(a,e-1,n,r,i):u(i,a):r||(i[i.length]=a)}return i}function ft(t,e){return i(e,function(e){return pe(t[e])})}function ht(t,e,n){var r=e(t);return Vr(t)?r:u(r,n(t))}function dt(t){return null==t?t===Le?sn:Qe:gr&&gr in Object(t)?zt(t):te(t)}function gt(t){return de(t)&&dt(t)==Ue}function mt(t){return!(!he(t)||Zt(t))&&(pe(t)?or:kn).test(ne(t))}function vt(t){return de(t)&&fe(t.length)&&!!In[dt(t)]}function yt(t){if(!Qt(t))return br(t);var e=[];for(var n in Object(t))er.call(t,n)&&"constructor"!=n&&e.push(n);return e}function bt(t){if(!he(t))return Jt(t);var e=Qt(t),n=[];for(var r in t)("constructor"!=r||!e&&er.call(t,r))&&n.push(r);return n}function _t(t,e,n,r,i){t!==e&&$r(e,function(o,s){if(he(o))i||(i=new G),wt(t,e,s,n,_t,r,i);else{var a=r?r(t[s],o,s+"",t,e,i):Le;a===Le&&(a=o),rt(t,s,a)}},Ce)}function wt(t,e,n,r,i,o,s){var a=t[n],u=e[n],l=s.get(u);if(l)return void rt(t,n,l);var c=o?o(a,u,n+"",t,e,s):Le,p=c===Le;if(p){var f=Vr(u),h=!f&&Wr(u),d=!f&&!h&&Xr(u);c=u,f||h||d?Vr(a)?c=a:ue(a)?c=Pt(a):h?(p=!1,c=St(u,!0)):d?(p=!1,c=jt(u,!0)):c=[]:ge(u)||Ur(u)?(c=a,Ur(a)?c=we(a):(!he(a)||r&&pe(a))&&(c=Vt(u))):p=!1}p&&(s.set(u,c),i(c,u,r,o,s),s.delete(u)),rt(t,n,c)}function xt(t,e){return Mr(ee(t,e,De),t+"")}function Et(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function kt(t){if("string"==typeof t)return t;if(Vr(t))return a(t,kt)+"";if(ve(t))return Rr?Rr.call(t):"";var e=t+"";return"0"==e&&1/t==-He?"-0":e}function Ct(t,e,n){var r=t.length;return n=n===Le?r:n,!e&&n>=r?t:Et(t,e,n)}function St(t,e){if(e)return t.slice();var n=t.length,r=lr?lr(n):new t.constructor(n);return t.copy(r),r}function Tt(t){var e=new t.constructor(t.byteLength);return new ur(e).set(new ur(t)),e}function At(t,e){var n=e?Tt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Dt(e,n,r){return l(n?r(x(e),Re):x(e),t,new e.constructor)}function qt(t){var e=new t.constructor(t.source,wn.exec(t));return e.lastIndex=t.lastIndex,e}function Ot(t,n,r){return l(n?r(k(t),Re):k(t),e,new t.constructor)}function Lt(t){return Pr?Object(Pr.call(t)):{}}function jt(t,e){var n=e?Tt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Pt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Rt(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):Le;u===Le&&(u=t[a]),i?ut(n,a,u):it(n,a,u)}return n}function Nt(t,e){return Rt(t,Br(t),e)}function $t(t,e){return Rt(t,Hr(t),e)}function It(t){return xt(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:Le,s=i>2?n[2]:Le;for(o=t.length>3&&"function"==typeof o?(i--,o):Le,s&&Kt(n[0],n[1],s)&&(o=i<3?Le:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function Bt(t){return ht(t,ke,Br)}function Ht(t){return ht(t,Ce,Hr)}function Ft(t,e){var n=t.__data__;return Gt(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mt(t,e){var n=_(t,e);return mt(n)?n:Le}function zt(t){var e=er.call(t,gr),n=t[gr];try{t[gr]=Le;var r=!0}catch(t){}var i=rr.call(t);return r&&(e?t[gr]=n:delete t[gr]),i}function Ut(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&er.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Vt(t){return"function"!=typeof t.constructor||Qt(t)?{}:Nr(cr(t))}function Wt(t,e,n,r){var i=t.constructor;switch(e){case un:return Tt(t);case We:case Xe:return new i(+t);case ln:return At(t,r);case cn:case pn:case fn:case hn:case dn:case gn:case mn:case vn:case yn:return jt(t,r);case Ge:return Dt(t,r,n);case Ze:case rn:return new i(t);case en:return qt(t);case nn:return Ot(t,r,n);case on:return Lt(t)}}function Xt(t){return Vr(t)||Ur(t)||!!(dr&&t&&t[dr])}function Yt(t,e){return!!(e=null==e?Fe:e)&&("number"==typeof t||Sn.test(t))&&t>-1&&t%1==0&&t<e}function Kt(t,e,n){if(!he(n))return!1;var r=typeof e;return!!("number"==r?ae(n)&&Yt(e,n.length):"string"==r&&e in n)&&se(n[e],t)}function Gt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Zt(t){return!!nr&&nr in t}function Qt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Qn)}function Jt(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function te(t){return rr.call(t)}function ee(t,e,r){return e=_r(e===Le?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=_r(i.length-e,0),a=Array(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),n(t,this,u)}}function ne(t){if(null!=t){try{return tr.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function re(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ie(t,e,n,r){t=ae(t)?t:Se(t),n=n&&!r?be(n):0;var i=t.length;return n<0&&(n=_r(i+n,0)),me(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&f(t,e,n)>-1}function oe(t){return lt(t,Re|$e)}function se(t,e){return t===e||t!==t&&e!==e}function ae(t){return null!=t&&fe(t.length)&&!pe(t)}function ue(t){return de(t)&&ae(t)}function le(t){return de(t)&&1===t.nodeType&&!ge(t)}function ce(t){if(null==t)return!0;if(ae(t)&&(Vr(t)||"string"==typeof t||"function"==typeof t.splice||Wr(t)||Xr(t)||Ur(t)))return!t.length;var e=Fr(t);if(e==Ge||e==nn)return!t.size;if(Qt(t))return!yt(t).length;for(var n in t)if(er.call(t,n))return!1;return!0}function pe(t){if(!he(t))return!1;var e=dt(t);return e==Ye||e==Ke||e==Ve||e==tn}function fe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Fe}function he(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function de(t){return null!=t&&"object"==typeof t}function ge(t){if(!de(t)||dt(t)!=Je)return!1;var e=cr(t);if(null===e)return!0;var n=er.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&tr.call(n)==ir}function me(t){return"string"==typeof t||!Vr(t)&&de(t)&&dt(t)==rn}function ve(t){return"symbol"==typeof t||de(t)&&dt(t)==on}function ye(t){if(!t)return 0===t?t:0;if((t=_e(t))===He||t===-He){return(t<0?-1:1)*Me}return t===t?t:0}function be(t){var e=ye(t),n=e%1;return e===e?n?e-n:e:0}function _e(t){if("number"==typeof t)return t;if(ve(t))return ze;if(he(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=he(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_n,"");var n=En.test(t);return n||Cn.test(t)?Hn(t.slice(2),n?2:8):xn.test(t)?ze:+t}function we(t){return Rt(t,Ce(t))}function xe(t){return null==t?"":kt(t)}function Ee(t){return null==t?[]:ft(t,ke(t))}function ke(t){return ae(t)?nt(t):yt(t)}function Ce(t){return ae(t)?nt(t,!0):bt(t)}function Se(t){return null==t?[]:m(t,ke(t))}function Te(t,e,n){if((t=xe(t))&&(n||e===Le))return t.replace(_n,"");if(!t||!(e=kt(e)))return t;var r=S(t),i=S(e);return Ct(r,y(r,i),b(r,i)+1).join("")}function Ae(t){return function(){return t}}function De(t){return t}function qe(){return[]}function Oe(){return!1}var Le,je=200,Pe="__lodash_hash_undefined__",Re=1,Ne=2,$e=4,Ie=800,Be=16,He=1/0,Fe=9007199254740991,Me=1.7976931348623157e308,ze=NaN,Ue="[object Arguments]",Ve="[object AsyncFunction]",We="[object Boolean]",Xe="[object Date]",Ye="[object Function]",Ke="[object GeneratorFunction]",Ge="[object Map]",Ze="[object Number]",Qe="[object Null]",Je="[object Object]",tn="[object Proxy]",en="[object RegExp]",nn="[object Set]",rn="[object String]",on="[object Symbol]",sn="[object Undefined]",an="[object WeakMap]",un="[object ArrayBuffer]",ln="[object DataView]",cn="[object Float32Array]",pn="[object Float64Array]",fn="[object Int8Array]",hn="[object Int16Array]",dn="[object Int32Array]",gn="[object Uint8Array]",mn="[object Uint8ClampedArray]",vn="[object Uint16Array]",yn="[object Uint32Array]",bn=/[\\^$.*+?()[\]{}|]/g,_n=/^\s+|\s+$/g,wn=/\w*$/,xn=/^[-+]0x[0-9a-f]+$/i,En=/^0b[01]+$/i,kn=/^\[object .+?Constructor\]$/,Cn=/^0o[0-7]+$/i,Sn=/^(?:0|[1-9]\d*)$/,Tn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",An="["+Tn+"]",Dn="\\ud83c[\\udffb-\\udfff]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",On="[\\ud800-\\udbff][\\udc00-\\udfff]",Ln="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",jn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",qn,On].join("|")+")[\\ufe0e\\ufe0f]?"+Ln+")*",Pn="[\\ufe0e\\ufe0f]?"+Ln+jn,Rn="(?:"+["[^\\ud800-\\udfff]"+An+"?",An,qn,On,"[\\ud800-\\udfff]"].join("|")+")",Nn=RegExp(Dn+"(?="+Dn+")|"+Rn+Pn,"g"),$n=RegExp("[\\u200d\\ud800-\\udfff"+Tn+"\\ufe0e\\ufe0f]"),In={};In[cn]=In[pn]=In[fn]=In[hn]=In[dn]=In[gn]=In[mn]=In[vn]=In[yn]=!0,In[Ue]=In["[object Array]"]=In[un]=In[We]=In[ln]=In[Xe]=In["[object Error]"]=In[Ye]=In[Ge]=In[Ze]=In[Je]=In[en]=In[nn]=In[rn]=In[an]=!1;var Bn={};Bn[Ue]=Bn["[object Array]"]=Bn[un]=Bn[ln]=Bn[We]=Bn[Xe]=Bn[cn]=Bn[pn]=Bn[fn]=Bn[hn]=Bn[dn]=Bn[Ge]=Bn[Ze]=Bn[Je]=Bn[en]=Bn[nn]=Bn[rn]=Bn[on]=Bn[gn]=Bn[mn]=Bn[vn]=Bn[yn]=!0,Bn["[object Error]"]=Bn[Ye]=Bn[an]=!1;var Hn=parseInt,Fn="object"==typeof global&&global&&global.Object===Object&&global,Mn="object"==typeof self&&self&&self.Object===Object&&self,zn=Fn||Mn||Function("return this")(),Un="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vn=Un&&"object"==typeof module&&module&&!module.nodeType&&module,Wn=Vn&&Vn.exports===Un,Xn=Wn&&Fn.process,Yn=function(){try{return Xn&&Xn.binding&&Xn.binding("util")}catch(t){}}(),Kn=Yn&&Yn.isTypedArray,Gn=Array.prototype,Zn=Function.prototype,Qn=Object.prototype,Jn=zn["__core-js_shared__"],tr=Zn.toString,er=Qn.hasOwnProperty,nr=function(){var t=/[^.]+$/.exec(Jn&&Jn.keys&&Jn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),rr=Qn.toString,ir=tr.call(Object),or=RegExp("^"+tr.call(er).replace(bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sr=Wn?zn.Buffer:Le,ar=zn.Symbol,ur=zn.Uint8Array,lr=sr?sr.allocUnsafe:Le,cr=E(Object.getPrototypeOf,Object),pr=Object.create,fr=Qn.propertyIsEnumerable,hr=Gn.splice,dr=ar?ar.isConcatSpreadable:Le,gr=ar?ar.toStringTag:Le,mr=function(){try{var t=Mt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),vr=Object.getOwnPropertySymbols,yr=sr?sr.isBuffer:Le,br=E(Object.keys,Object),_r=Math.max,wr=Date.now,xr=Mt(zn,"DataView"),Er=Mt(zn,"Map"),kr=Mt(zn,"Promise"),Cr=Mt(zn,"Set"),Sr=Mt(zn,"WeakMap"),Tr=Mt(Object,"create"),Ar=ne(xr),Dr=ne(Er),qr=ne(kr),Or=ne(Cr),Lr=ne(Sr),jr=ar?ar.prototype:Le,Pr=jr?jr.valueOf:Le,Rr=jr?jr.toString:Le,Nr=function(){function t(){}return function(e){if(!he(e))return{};if(pr)return pr(e);t.prototype=e;var n=new t;return t.prototype=Le,n}}();D.prototype.clear=q,D.prototype.delete=O,D.prototype.get=L,D.prototype.has=j,D.prototype.set=P,R.prototype.clear=N,R.prototype.delete=$,R.prototype.get=I,R.prototype.has=B,R.prototype.set=H,F.prototype.clear=M,F.prototype.delete=z,F.prototype.get=U,F.prototype.has=V,F.prototype.set=W,X.prototype.add=X.prototype.push=Y,X.prototype.has=K,G.prototype.clear=Z,G.prototype.delete=Q,G.prototype.get=J,G.prototype.has=tt,G.prototype.set=et;var $r=function(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}(),Ir=mr?function(t,e){return mr(t,"toString",{configurable:!0,enumerable:!1,value:Ae(e),writable:!0})}:De,Br=vr?function(t){return null==t?[]:(t=Object(t),i(vr(t),function(e){return fr.call(t,e)}))}:qe,Hr=vr?function(t){for(var e=[];t;)u(e,Br(t)),t=cr(t);return e}:qe,Fr=dt;(xr&&Fr(new xr(new ArrayBuffer(1)))!=ln||Er&&Fr(new Er)!=Ge||kr&&"[object Promise]"!=Fr(kr.resolve())||Cr&&Fr(new Cr)!=nn||Sr&&Fr(new Sr)!=an)&&(Fr=function(t){var e=dt(t),n=e==Je?t.constructor:Le,r=n?ne(n):"";if(r)switch(r){case Ar:return ln;case Dr:return Ge;case qr:return"[object Promise]";case Or:return nn;case Lr:return an}return e});var Mr=function(t){var e=0,n=0;return function(){var r=wr(),i=Be-(r-n);if(n=r,i>0){if(++e>=Ie)return arguments[0]}else e=0;return t.apply(Le,arguments)}}(Ir),zr=xt(function(t,e){return ue(t)?ct(t,pt(e,1,ue,!0)):[]}),Ur=gt(function(){return arguments}())?gt:function(t){return de(t)&&er.call(t,"callee")&&!fr.call(t,"callee")},Vr=Array.isArray,Wr=yr||Oe,Xr=Kn?g(Kn):vt,Yr=It(function(t,e){if(Qt(e)||ae(e))return void Rt(e,ke(e),t);for(var n in e)er.call(e,n)&&it(t,n,e[n])}),Kr=It(function(t,e,n){_t(t,e,n)});return A.assign=Yr,A.compact=re,A.constant=Ae,A.difference=zr,A.functions=Ee,A.keys=ke,A.keysIn=Ce,A.merge=Kr,A.toPlainObject=we,A.values=Se,A.cloneDeep=oe,A.eq=se,A.identity=De,A.includes=ie,A.isArguments=Ur,A.isArray=Vr,A.isArrayLike=ae,A.isArrayLikeObject=ue,A.isBuffer=Wr,A.isElement=le,A.isEmpty=ce,A.isFunction=pe,A.isLength=fe,A.isObject=he,A.isObjectLike=de,A.isPlainObject=ge,A.isString=me,A.isSymbol=ve,A.isTypedArray=Xr,A.stubArray=qe,A.stubFalse=Oe,A.toFinite=ye,A.toInteger=be,A.toNumber=_e,A.toString=xe,A.trim=Te,A.VERSION="4.17.4",A}.call(this);return C=function(t){var e,n,r;for(n=0,r=t.length;n<r;n++)if(e=t[n],!x.isString(e))return!1;return!0},ct=function(t,e){var n,r,i;for(i=[],n=-1,r=t.length;++n<r;)t[n]!==e&&i.push(t[n]);return i},V=function(t){return null!=t&&!isNaN(parseFloat(t))},it=function(t,e){return null==e&&(e=/([^a-zA-Z0-9_.\-\/:]+)/g),t.replace(e,function(t){return t.split("").map(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}).join("")})},N=function(){var t,e;return t=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],e.reduce(function(t,e){var n,r;for(n in e)r=e[n],void 0===t[n]&&(t[n]=r);return t},t)},K=Object.prototype,Y=K.toString,W=function(t){var e;return e=typeof t,!!t&&("object"===e||"function"===e)},I="[object Function]",U=function(t){return W(t)&&Y.call(t)===I},Q=function(){var t,e;return e="[A-Z]",t="[a-z]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),D=function(t){var e,n,r;return r=t.match(Q),r=function(){var t,i,o;for(o=[],e=t=0,i=r.length;t<i;e=++t)n=r[e],n=n.toLocaleLowerCase(),e?o.push(n.charAt(0).toLocaleUpperCase()+n.slice(1)):o.push(n);return o}(),r.join("")},ot=function(t){var e,n,r;return r=t.match(Q),r=function(){var t,i,o;for(o=[],e=t=0,i=r.length;t<i;e=++t)n=r[e],o.push(n.toLocaleLowerCase());return o}(),r.join("_")},L=function(t,e){var n,r,i;null==e&&(e=x.identity),r={};for(n in t)i=t[n],n=e(n),x.isEmpty(n)||(r[n]=i);return r},ut=function(t){return L(t,x.camelCase)},lt=function(t){return L(t,x.snakeCase)},T="undefined"!=typeof btoa&&U(btoa)?btoa:"undefined"!=typeof Buffer&&U(Buffer)?function(t){return t instanceof Buffer||(t=new Buffer.from(String(t),"binary")),t.toString("base64")}:function(t){throw new Error("No base64 encoding function found")},A=function(t){try{t=decodeURI(t)}catch(t){t}return t=encodeURI(t),T(t)},e={allStrings:C,camelCase:D,convertKeys:L,defaults:N,snakeCase:ot,without:ct,isFunction:U,isNumberLike:V,smartEscape:it,withCamelCaseKeys:ut,withSnakeCaseKeys:lt,base64EncodeURL:A},H=function(t,e){var n;switch(!1){case!(null==t):return;case!_.isFunction(t.getAttribute):return t.getAttribute("data-"+e);case!_.isFunction(t.getAttr):return t.getAttr("data-"+e);case!_.isFunction(t.data):return t.data(e);case!(_.isFunction("undefined"!=typeof jQuery&&null!==jQuery&&null!=(n=jQuery.fn)?n.data:void 0)&&_.isElement(t)):return jQuery(t).data(e)}},rt=function(t,e,n){var r;switch(!1){case!(null==t):return;case!_.isFunction(t.setAttribute):return t.setAttribute("data-"+e,n);case!_.isFunction(t.setAttr):return t.setAttr("data-"+e,n);case!_.isFunction(t.data):return t.data(e,n);case!(_.isFunction("undefined"!=typeof jQuery&&null!==jQuery&&null!=(r=jQuery.fn)?r.data:void 0)&&_.isElement(t)):return jQuery(t).data(e,n)}},B=function(t,e){switch(!1){case!(null==t):return;case!_.isFunction(t.getAttribute):return t.getAttribute(e);case!_.isFunction(t.attr):return t.attr(e);case!_.isFunction(t.getAttr):return t.getAttr(e)}},et=function(t,e,n){switch(!1){case!(null==t):return;case!_.isFunction(t.setAttribute):return t.setAttribute(e,n);case!_.isFunction(t.attr):return t.attr(e,n);case!_.isFunction(t.setAttr):return t.setAttr(e,n)}},J=function(t,e){switch(!1){case!(null==t):return;case!_.isFunction(t.removeAttribute):return t.removeAttribute(e);default:return et(t,void 0)}},nt=function(t,e){var n,r,i;r=[];for(n in e)i=e[n],null!=i?r.push(et(t,n,i)):r.push(J(t,n));return r},z=function(t,e){if(_.isElement(t))return t.className.match(new RegExp("\\b"+e+"\\b"))},k=function(t,e){if(!t.className.match(new RegExp("\\b"+e+"\\b")))return t.className=_.trim(t.className+" "+e)},F=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null)},["Top","Right","Bottom","Left"],O=function(t,e){var n,r;return n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode,t===r||!(!r||1!==r.nodeType||!n.contains(r))},$=function(t,e){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style)return t.style[e]},R=function(t,e,n){var r,i,o,s,a,u;return s=/^margin/,u=void 0,i=void 0,r=void 0,o=void 0,a=t.style,n=n||F(t),n&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||O(t.ownerDocument,t)||(o=$(t,e)),tt.test(o)&&s.test(e)&&(u=a.width,i=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=u,a.minWidth=i,a.maxWidth=r)),void 0!==o?o+"":o},P=function(t,e,n,r){var i;return i=R(t,e,r),n?parseFloat(i):i},S=function(t,e,n,r,i){var o,s,a,u,l;if(n===(r?"border":"content"))return 0;for(u="width"===e?["Right","Left"]:["Top","Bottom"],l=0,o=0,s=u.length;o<s;o++)a=u[o],"margin"===n&&(l+=P(t,n+a,!0,i)),r?("content"===n&&(l-=P(t,"padding"+a,!0,i)),"margin"!==n&&(l-=P(t,"border"+a+"Width",!0,i))):(l+=P(t,"padding"+a,!0,i),"padding"!==n&&(l+=P(t,"border"+a+"Width",!0,i)));return l},Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),M=function(t,e,n){var r,i,o,s;if(s=!0,o="width"===e?t.offsetWidth:t.offsetHeight,i=F(t),r="border-box"===P(t,"boxSizing",!1,i),o<=0||null==o){if(o=R(t,e,i),(o<0||null==o)&&(o=t.style[e]),tt.test(o))return o;s=r&&o===t.style[e],o=parseFloat(o)||0}return o+S(t,e,n||(r?"border":"content"),s,i)},at=function(t){return M(t,"width","content")},x=_.assign(e,{hasClass:z,addClass:k,getAttribute:B,setAttribute:et,removeAttribute:J,setAttributes:nt,getData:H,setData:rt,width:at,isString:_.isString,isArray:_.isArray,isEmpty:_.isEmpty,assign:_.assign,merge:_.merge,cloneDeep:_.cloneDeep,compact:_.compact,contains:_.includes,difference:_.difference,functions:_.functions,identity:_.identity,isPlainObject:_.isPlainObject,trim:_.trim}),st=function(t){var e,n,r,i,o,s,a,u;if(null===t||void 0===t)return"";for(s=t+"",u="",o=void 0,r=void 0,a=0,o=r=0,a=s.length,i=0;i<a;)e=s.charCodeAt(i),n=null,e<128?r++:n=e>127&&e<2048?String.fromCharCode(e>>6|192,63&e|128):String.fromCharCode(e>>12|224,e>>6&63|128,63&e|128),null!==n&&(r>o&&(u+=s.slice(o,r)),u+=n,o=r=i+1),i++;return r>o&&(u+=s.slice(o,a)),u},j=function(t){var e,n,r,i,o,s;for(t=st(t),i="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",e=0,o=0,s=0,e^=-1,n=0,r=t.length;n<r;)s=255&(e^t.charCodeAt(n)),o="0x"+i.substr(9*s,8),e=e>>>8^o,n++;return e^=-1,e<0&&(e+=4294967296),e},p=function(){function t(t){this.options={},null!=t&&["resourceType","type","publicId","format"].forEach(function(e){return function(n){var r;return e.options[n]=null!=(r=t[n])?r:t[x.snakeCase(n)]}}(this))}return t.prototype.resourceType=function(t){return this.options.resourceType=t,this},t.prototype.type=function(t){return this.options.type=t,this},t.prototype.publicId=function(t){return this.options.publicId=t,this},t.prototype.getPublicId=function(){var t;return null!=(t=this.options.publicId)?t.replace(/\//g,":"):void 0},t.prototype.getFullPublicId=function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()},t.prototype.format=function(t){return this.options.format=t,this},t.prototype.toString=function(){var t;if(t=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&t.push(this.options.resourceType),"upload"!==this.options.type&&t.push(this.options.type),t.push(this.getFullPublicId()),x.compact(t).join(":")},t}(),u=function(t){function e(t){e.__super__.constructor.call(this,t),x.isString(t)?this.options.url=t:(null!=t?t.url:void 0)&&(this.options.url=t.url)}return extend(e,t),e.prototype.url=function(t){return this.options.url=t,this},e.prototype.toString=function(){return"fetch:"+q.Util.base64EncodeURL(this.options.url)},e}(p),v=function(t){function e(t){var n;e.__super__.constructor.call(this,t),n=["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","text"],null!=t&&n.forEach(function(e){return function(n){var r;return e.options[n]=null!=(r=t[n])?r:t[x.snakeCase(n)]}}(this)),this.options.resourceType="text"}return extend(e,t),e.prototype.resourceType=function(t){throw"Cannot modify resourceType for text layers"},e.prototype.type=function(t){throw"Cannot modify type for text layers"},e.prototype.format=function(t){throw"Cannot modify format for text layers"},e.prototype.fontFamily=function(t){return this.options.fontFamily=t,this},e.prototype.fontSize=function(t){return this.options.fontSize=t,this},e.prototype.fontWeight=function(t){return this.options.fontWeight=t,this},e.prototype.fontStyle=function(t){return this.options.fontStyle=t,this},e.prototype.textDecoration=function(t){return this.options.textDecoration=t,this},e.prototype.textAlign=function(t){return this.options.textAlign=t,this},e.prototype.stroke=function(t){return this.options.stroke=t,this},e.prototype.letterSpacing=function(t){return this.options.letterSpacing=t,this},e.prototype.lineSpacing=function(t){return this.options.lineSpacing=t,this},e.prototype.text=function(t){return this.options.text=t,this},e.prototype.toString=function(){var t,e,n,r,i,o,s,a,u,l;if(a=this.textStyleIdentifier(),null!=this.options.publicId&&(r=this.getFullPublicId()),null!=this.options.text){if(e=!x.isEmpty(r),n=!x.isEmpty(a),e&&n||!e&&!n)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(i=/\$\([a-zA-Z]\w*\)/g,s=0,l=x.smartEscape(this.options.text,/[,\/]/g),u="";o=i.exec(l);)u+=x.smartEscape(l.slice(s,o.index)),u+=o[0],s=o.index+o[0].length;u+=x.smartEscape(l.slice(s))}return t=[this.options.resourceType,a,r,u],x.compact(t).join(":")},e.prototype.textStyleIdentifier=function(){var t;if(t=[],"normal"!==this.options.fontWeight&&t.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&t.push(this.options.fontStyle),"none"!==this.options.textDecoration&&t.push(this.options.textDecoration),t.push(this.options.textAlign),"none"!==this.options.stroke&&t.push(this.options.stroke),x.isEmpty(this.options.letterSpacing)&&!x.isNumberLike(this.options.letterSpacing)||t.push("letter_spacing_"+this.options.letterSpacing),x.isEmpty(this.options.lineSpacing)&&!x.isNumberLike(this.options.lineSpacing)||t.push("line_spacing_"+this.options.lineSpacing),!x.isEmpty(x.compact(t))){if(x.isEmpty(this.options.fontFamily))throw"Must supply fontFamily. "+t;if(x.isEmpty(this.options.fontSize)&&!x.isNumberLike(this.options.fontSize))throw"Must supply fontSize."}return t.unshift(this.options.fontFamily,this.options.fontSize),t=x.compact(t).join("_")},e}(p),m=function(t){function e(t){e.__super__.constructor.call(this,t),this.options.resourceType="subtitles"}return extend(e,t),e}(v),h=function(){function t(t,e,n){null==n&&(n=q.Util.identity),this.name=t,this.shortName=e,this.process=n}return t.prototype.set=function(t){return this.origValue=t,this},t.prototype.serialize=function(){var t,e;return t=this.value(),e=q.Util.isArray(t)||q.Util.isPlainObject(t)||q.Util.isString(t)?!q.Util.isEmpty(t):null!=t,null!=this.shortName&&e?this.shortName+"_"+t:""},t.prototype.value=function(){return this.process(this.origValue)},t.norm_color=function(t){return null!=t?t.replace(/^#/,"rgb:"):void 0},t.prototype.build_array=function(t){return null==t&&(t=[]),q.Util.isArray(t)?t:[t]},t.process_video_params=function(t){var e;switch(t.constructor){case Object:return e="","codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e;case String:return t;default:return null}},t}(),t=function(t){function e(t,n,r,i){null==r&&(r="."),this.sep=r,e.__super__.constructor.call(this,t,n,i)}return extend(e,t),e.prototype.serialize=function(){var t,e,n;return null!=this.shortName?(t=this.value(),q.Util.isEmpty(t)?"":q.Util.isString(t)?this.shortName+"_"+t:(e=function(){var e,r,i;for(i=[],e=0,r=t.length;e<r;e++)n=t[e],q.Util.isFunction(n.serialize)?i.push(n.serialize()):i.push(n);return i}(),this.shortName+"_"+e.join(this.sep))):""},e.prototype.value=function(){var t,e,n,r,i;if(q.Util.isArray(this.origValue)){for(n=this.origValue,r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(this.process(i));return r}return this.process(this.origValue)},e.prototype.set=function(t){return null==t||q.Util.isArray(t)?e.__super__.set.call(this,t):e.__super__.set.call(this,[t])},e}(h),w=function(t){function e(t,n,r,i){null==n&&(n="t"),null==r&&(r="."),this.sep=r,e.__super__.constructor.call(this,t,n,i)}return extend(e,t),e.prototype.serialize=function(){var t,e,n;return q.Util.isEmpty(this.value())?"":q.Util.allStrings(this.value())?(t=this.value().join(this.sep),q.Util.isEmpty(t)?"":this.shortName+"_"+t):(e=function(){var t,e,r,i;for(r=this.value(),i=[],t=0,e=r.length;t<e;t++)null!=(n=r[t])&&(q.Util.isString(n)&&!q.Util.isEmpty(n)?i.push(this.shortName+"_"+n):q.Util.isFunction(n.serialize)?i.push(n.serialize()):q.Util.isPlainObject(n)&&!q.Util.isEmpty(n)?i.push(new y(n).serialize()):i.push(void 0));return i}.call(this),q.Util.compact(e))},e.prototype.set=function(t){return this.origValue=t,q.Util.isArray(this.origValue)?e.__super__.set.call(this,this.origValue):e.__super__.set.call(this,[this.origValue])},e}(h),d=function(t){function e(t,n,r){null==r&&(r=this.norm_range_value),e.__super__.constructor.call(this,t,n,r)}return extend(e,t),e.norm_range_value=function(t){var e,n;return n=String(t).match(new RegExp("^"+offset_any_pattern+"$")),n&&(e=null!=n[5]?"p":"",t=(n[1]||n[4])+e),t},e}(h),g=function(t){function e(t,n,r){null==r&&(r=q.Util.identity),e.__super__.constructor.call(this,t,n,r)}return extend(e,t),e.prototype.serialize=function(){return this.value()},e}(h),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.value=function(){var t,e;return t=this.origValue,q.Util.isPlainObject(t)?(t=x.withCamelCaseKeys(t),e="text"===t.resourceType||null!=t.text?new q.TextLayer(t).toString():"subtitles"===t.resourceType?new q.SubtitlesLayer(t).toString():"fetch"===t.resourceType||null!=t.url?new q.FetchLayer(t).toString():new q.Layer(t).toString()):e=/^fetch:.+/.test(t)?new u(t.substr(6)).toString():t,e},
[["font_weight","normal"],["font_style","normal"],["text_decoration","none"],["text_align",null],["stroke","none"],["letter_spacing",null],["line_spacing",null]],e.prototype.textStyle=function(t){return new q.TextLayer(t).textStyleIdentifier()},e}(h),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.serialize=function(){return s.normalize(e.__super__.serialize.call(this))},e}(h),G={},G.Param=h,G.ArrayParam=t,G.RangeParam=d,G.RawParam=g,G.TransformationParam=w,G.LayerParam=f,G.ExpressionParam=a,s=function(){function t(e){this.expressions=[],null!=e&&this.expressions.push(t.normalize(e))}return t.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub"},t.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},t.BOUNDRY="[ _]+",t.new=function(t){return new this(t)},t.normalize=function(e){var n,r,i;return null==e?e:(e=String(e),n="\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*",r="(("+n+")(?=[ _])|"+Object.keys(t.PREDEFINED_VARS).join("|")+")",i=new RegExp(r,"g"),e=e.replace(i,function(e){return t.OPERATORS[e]||t.PREDEFINED_VARS[e]}),e.replace(/[ _]+/g,"_"))},t.prototype.serialize=function(){return t.normalize(this.expressions.join("_"))},t.prototype.toString=function(){return this.serialize()},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){return this.parent=t,this},t.prototype.predicate=function(e,n,r){return null!=t.OPERATORS[n]&&(n=t.OPERATORS[n]),this.expressions.push(e+"_"+n+"_"+r),this},t.prototype.and=function(){return this.expressions.push("and"),this},t.prototype.or=function(){return this.expressions.push("or"),this},t.prototype.then=function(){return this.getParent().if(this.toString())},t.prototype.height=function(t,e){return this.predicate("h",t,e)},t.prototype.width=function(t,e){return this.predicate("w",t,e)},t.prototype.aspectRatio=function(t,e){return this.predicate("ar",t,e)},t.prototype.pageCount=function(t,e){return this.predicate("pc",t,e)},t.prototype.faceCount=function(t,e){return this.predicate("fc",t,e)},t.prototype.value=function(t){return this.expressions.push(t),this},t.variable=function(t,e){return new this(t).value(e)},t.width=function(){return new this("width")},t.height=function(){return new this("height")},t.initialWidth=function(){return new this("initialWidth")},t.initialHeight=function(){return new this("initialHeight")},t.aspectRatio=function(){return new this("aspectRatio")},t.initialAspectRatio=function(){return new this("initialAspectRatio")},t.pageCount=function(){return new this("pageCount")},function(){return new this("faceCount")},t.currentPage=function(){return new this("currentPage")},t.tags=function(){return new this("tags")},t.pageX=function(){return new this("pageX")},t.pageY=function(){return new this("pageY")},t}(),i=function(t){function e(t){e.__super__.constructor.call(this,t)}return extend(e,t),e.prototype.height=function(t,e){return this.predicate("h",t,e)},e.prototype.width=function(t,e){return this.predicate("w",t,e)},e.prototype.aspectRatio=function(t,e){return this.predicate("ar",t,e)},e.prototype.pageCount=function(t,e){return this.predicate("pc",t,e)},e.prototype.faceCount=function(t,e){return this.predicate("fc",t,e)},e}(s),o=function(){function t(t){null==t&&(t={}),this.configuration=x.cloneDeep(t),x.defaults(this.configuration,e)}var e,n;return e={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&null!=(n=window.location)?n.protocol:void 0)},t.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version"],t.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},t.prototype.set=function(t,e){return this.configuration[t]=e,this},t.prototype.get=function(t){return this.configuration[t]},t.prototype.merge=function(t){return null==t&&(t={}),x.assign(this.configuration,x.cloneDeep(t)),this},t.prototype.fromDocument=function(){var t,e,n,r;if(r="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(e=0,n=r.length;e<n;e++)t=r[e],this.configuration[t.getAttribute("name").replace("cloudinary_","")]=t.getAttribute("content");return this},t.prototype.fromEnvironment=function(){var t,e,n,r,i,o,s,a,u,l,c,p;if(null!=(t="undefined"!=typeof process&&null!==process&&null!=(o=process.env)?o.CLOUDINARY_URL:void 0)&&(l=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/,(u=l.exec(t))&&(null!=u[3]&&(this.configuration.cloud_name=u[3]),null!=u[1]&&(this.configuration.api_key=u[1]),null!=u[2]&&(this.configuration.api_secret=u[2]),null!=u[4]&&(this.configuration.private_cdn=null!=u[4]),null!=u[4]&&(this.configuration.secure_distribution=u[4]),null!=(i=u[5]))))for(s=i.split("&"),e=0,r=s.length;e<r;e++)p=s[e],a=p.split("="),n=a[0],c=a[1],null==c&&(c=!0),this.configuration[n]=c;return this},t.prototype.config=function(t,e){switch(!1){case void 0===e:return this.set(t,e),this.configuration;case!x.isString(t):return this.get(t);case!x.isPlainObject(t):return this.merge(t),this.configuration;default:return this.configuration}},t.prototype.toOptions=function(){return x.cloneDeep(this.configuration)},t}(),b=function(){function e(e){var i,o;null==e&&(e={}),i=void 0,o={},this.toOptions||(this.toOptions=function(t){var e,n,r,i,s,a,u;null==t&&(t=!0),r={};for(e in o)u=o[e],r[e]=u.origValue;i=this.otherOptions;for(e in i)void 0!==(u=i[e])&&(r[e]=u);if(t&&!x.isEmpty(this.chained)){n=function(){var t,e,n,r;for(n=this.chained,r=[],t=0,e=n.length;t<e;t++)a=n[t],r.push(a.toOptions());return r}.call(this),n.push(r),r={},s=this.otherOptions;for(e in s)void 0!==(u=s[e])&&(r[e]=u);r.transformation=n}return r}),this.setParent||(this.setParent=function(t){return i=t,null!=t&&this.fromOptions("function"==typeof t.toOptions?t.toOptions():void 0),this}),this.getParent||(this.getParent=function(){return i}),this.param||(this.param=function(t,e,n,r,i){return null==i&&(i=x.isFunction(r)?r:x.identity),o[e]=new h(e,n,i).set(t),this}),this.rawParam||(this.rawParam=function(t,e,n,i,s){return null==s&&(s=x.identity),s=r(arguments),o[e]=new g(e,n,s).set(t),this}),this.rangeParam||(this.rangeParam=function(t,e,n,i,s){return null==s&&(s=x.identity),s=r(arguments),o[e]=new d(e,n,s).set(t),this}),this.arrayParam||(this.arrayParam=function(e,n,i,s,a,u){return null==s&&(s=":"),null==a&&(a=[]),null==u&&(u=x.identity),u=r(arguments),o[n]=new t(n,i,s,u).set(e),this}),this.transformationParam||(this.transformationParam=function(t,e,n,i,s,a){return null==i&&(i="."),null==a&&(a=x.identity),a=r(arguments),o[e]=new w(e,n,i,a).set(t),this}),this.layerParam||(this.layerParam=function(t,e,n){return o[e]=new f(e,n).set(t),this}),this.getValue||(this.getValue=function(t){var e,n;return null!=(e=null!=(n=o[t])?n.value():void 0)?e:this.otherOptions[t]}),this.get||(this.get=function(t){return o[t]}),this.remove||(this.remove=function(t){var e;switch(!1){case null==o[t]:return e=o[t],delete o[t],e.origValue;case null==this.otherOptions[t]:return e=this.otherOptions[t],delete this.otherOptions[t],e;default:return null}}),this.keys||(this.keys=function(){var t;return function(){var e;e=[];for(t in o)null!=t&&e.push(t.match(n)?t:x.snakeCase(t));return e}().sort()}),this.toPlainObject||(this.toPlainObject=function(){var t,e,n,r;t={};for(e in o)t[e]=o[e].value(),x.isPlainObject(t[e])&&(t[e]=x.cloneDeep(t[e]));return x.isEmpty(this.chained)||(n=function(){var t,e,n,i;for(n=this.chained,i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(r.toPlainObject());return i}.call(this),n.push(t),t={transformation:n}),t}),this.chain||(this.chain=function(){var t,e;return t=Object.getOwnPropertyNames(o),0!==t.length&&(e=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(e)),this}),this.resetTransformations||(this.resetTransformations=function(){return o={},this}),this.otherOptions||(this.otherOptions={}),this.chained=[],x.isEmpty(e)||this.fromOptions(e)}var n,r,i;return n=/^\$[a-zA-Z0-9]+$/,e.prototype.trans_separator="/",e.prototype.param_separator=",",r=function(t){var e;return e=null!=t?t[t.length-1]:void 0,x.isFunction(e)?e:void 0},e.prototype.fromOptions=function(t){var r,i;if(t instanceof e)this.fromTransformation(t);else{t||(t={}),(x.isString(t)||x.isArray(t))&&(t={transformation:t}),t=x.cloneDeep(t,function(t){if(t instanceof e)return new t.constructor(t.toOptions())}),t.if&&(this.set("if",t.if),delete t.if);for(r in t)i=t[r],r.match(n)?"$attr"!==r&&this.set("variable",r,i):this.set(r,i)}return this},e.prototype.fromTransformation=function(t){var n,r,i,o;if(t instanceof e)for(o=t.keys(),n=0,i=o.length;n<i;n++)r=o[n],this.set(r,t.get(r).origValue);return this},e.prototype.set=function(){var t,e,n;return e=arguments[0],n=2<=arguments.length?slice.call(arguments,1):[],t=x.camelCase(e),x.contains(y.methods,t)?this[t].apply(this,n):this.otherOptions[e]=n[0],this},e.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},e.prototype.serialize=function(){var t,e,r,o,a,u,l,c,p,f,h,d,g,m,v,y,b,_;for(f=function(){var t,e,n,r;for(n=this.chained,r=[],t=0,e=n.length;t<e;t++)d=n[t],r.push(d.serialize());return r}.call(this),o=this.keys(),v=null!=(a=this.get("transformation"))?a.serialize():void 0,t=null!=(u=this.get("if"))?u.serialize():void 0,b=i(null!=(l=this.get("variables"))?l.value():void 0),o=x.difference(o,["transformation","if","variables"]),_=[],g=[],e=0,r=o.length;e<r;e++)h=o[e],h.match(n)?_.push(h+"_"+s.normalize(null!=(c=this.get(h))?c.value():void 0)):g.push(null!=(p=this.get(h))?p.serialize():void 0);switch(!1){case!x.isString(v):g.push(v);break;case!x.isArray(v):f=f.concat(v)}return g=function(){var t,e,n;for(n=[],t=0,e=g.length;t<e;t++)y=g[t],(x.isArray(y)&&!x.isEmpty(y)||!x.isArray(y)&&y)&&n.push(y);return n}(),g=_.sort().concat(b).concat(g.sort()),"if_end"===t?g.push(t):x.isEmpty(t)||g.unshift(t),m=x.compact(g).join(this.param_separator),x.isEmpty(m)||f.push(m),x.compact(f).join(this.trans_separator)},e.prototype.listNames=function(){return y.methods},e.prototype.toHtmlAttributes=function(){var t,e,n,r,i,o,s,a,u,l,c;o={},s=this.otherOptions;for(r in s)c=s[r],x.contains(y.PARAM_NAMES,x.snakeCase(r))||(t=/^html_/.test(r)?r.slice(5):r,o[t]=c);for(a=this.keys(),n=0,i=a.length;n<i;n++)r=a[n],/^html_/.test(r)&&(o[x.camelCase(r.slice(5))]=this.getValue(r));return this.hasLayer()||this.getValue("angle")||x.contains(["fit","limit","lfill"],this.getValue("crop"))||(at=null!=(u=this.get("width"))?u.origValue:void 0,e=null!=(l=this.get("height"))?l.origValue:void 0,parseFloat(at)>=1&&null==o.width&&(o.width=at),parseFloat(e)>=1&&null==o.height&&(o.height=e)),o},e.prototype.isValidParamName=function(t){return y.methods.indexOf(x.camelCase(t))>=0},e.prototype.toHtml=function(){var t;return null!=(t=this.getParent())&&"function"==typeof t.toHtml?t.toHtml():void 0},e.prototype.toString=function(){return this.serialize()},i=function(t){var e,n,r,i,o,a;if(x.isArray(t)){for(o=[],e=0,n=t.length;e<n;e++)i=t[e],r=i[0],a=i[1],o.push(r+"_"+s.normalize(a));return o}return t},e}(),y=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.call(this,t)}return extend(e,t),e.new=function(t){return new e(t)},e.prototype.angle=function(t){return this.arrayParam(t,"angle","a",".",s.normalize)},e.prototype.audioCodec=function(t){return this.param(t,"audio_codec","ac")},e.prototype.audioFrequency=function(t){return this.param(t,"audio_frequency","af")},e.prototype.aspectRatio=function(t){return this.param(t,"aspect_ratio","ar",s.normalize)},e.prototype.background=function(t){return this.param(t,"background","b",h.norm_color)},e.prototype.bitRate=function(t){return this.param(t,"bit_rate","br")},e.prototype.border=function(t){return this.param(t,"border","bo",function(t){return x.isPlainObject(t)?(t=x.assign({},{color:"black",width:2},t),t.width+"px_solid_"+h.norm_color(t.color)):t})},e.prototype.color=function(t){return this.param(t,"color","co",h.norm_color)},e.prototype.colorSpace=function(t){return this.param(t,"color_space","cs")},e.prototype.crop=function(t){return this.param(t,"crop","c")},e.prototype.defaultImage=function(t){return this.param(t,"default_image","d")},e.prototype.delay=function(t){return this.param(t,"delay","dl")},e.prototype.density=function(t){return this.param(t,"density","dn")},e.prototype.duration=function(t){return this.rangeParam(t,"duration","du")},e.prototype.dpr=function(t){return this.param(t,"dpr","dpr",function(t){return function(t){return t=t.toString(),(null!=t?t.match(/^\d+$/):void 0)?t+".0":s.normalize(t)}}())},e.prototype.effect=function(t){return this.arrayParam(t,"effect","e",":",s.normalize)},e.prototype.else=function(){return this.if("else")},e.prototype.endIf=function(){return this.if("end")},e.prototype.endOffset=function(t){return this.rangeParam(t,"end_offset","eo")},e.prototype.fallbackContent=function(t){return this.param(t,"fallback_content")},e.prototype.fetchFormat=function(t){return this.param(t,"fetch_format","f")},e.prototype.format=function(t){return this.param(t,"format")},e.prototype.flags=function(t){return this.arrayParam(t,"flags","fl",".")},e.prototype.gravity=function(t){return this.param(t,"gravity","g")},e.prototype.height=function(t){return this.param(t,"height","h",function(e){return function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?s.normalize(t):null}}(this))},e.prototype.htmlHeight=function(t){return this.param(t,"html_height")},e.prototype.htmlWidth=function(t){return this.param(t,"html_width")},e.prototype.if=function(t){var n,r,o,s,a;switch(null==t&&(t=""),t){case"else":return this.chain(),this.param(t,"if","if");case"end":for(this.chain(),n=o=this.chained.length-1;o>=0&&"end"!==(r=this.chained[n].getValue("if"))&&(null==r||(s=e.new().if(r),this.chained[n].remove("if"),a=this.chained[n],this.chained[n]=e.new().transformation([s,a]),"else"===r));n=o+=-1);return this.param(t,"if","if");case"":return i.new().setParent(this);default:return this.param(t,"if","if",function(t){return i.new(t).toString()})}},e.prototype.keyframeInterval=function(t){return this.param(t,"keyframe_interval","ki")},e.prototype.offset=function(t){var e,n,r;if(n=x.isFunction(null!=t?t.split:void 0)?t.split(".."):x.isArray(t)?t:[null,null],r=n[0],e=n[1],null!=r&&this.startOffset(r),null!=e)return this.endOffset(e)},e.prototype.opacity=function(t){return this.param(t,"opacity","o",s.normalize)},e.prototype.overlay=function(t){return this.layerParam(t,"overlay","l")},e.prototype.page=function(t){return this.param(t,"page","pg")},e.prototype.poster=function(t){return this.param(t,"poster")},e.prototype.prefix=function(t){return this.param(t,"prefix","p")},e.prototype.quality=function(t){return this.param(t,"quality","q",s.normalize)},e.prototype.radius=function(t){return this.param(t,"radius","r",s.normalize)},e.prototype.rawTransformation=function(t){return this.rawParam(t,"raw_transformation")},e.prototype.size=function(t){var e,n;if(x.isFunction(null!=t?t.split:void 0))return n=t.split("x"),at=n[0],e=n[1],this.width(at),this.height(e)},e.prototype.sourceTypes=function(t){return this.param(t,"source_types")},e.prototype.sourceTransformation=function(t){return this.param(t,"source_transformation")},e.prototype.startOffset=function(t){return this.rangeParam(t,"start_offset","so")},e.prototype.streamingProfile=function(t){return this.param(t,"streaming_profile","sp")},e.prototype.transformation=function(t){return this.transformationParam(t,"transformation","t")},e.prototype.underlay=function(t){return this.layerParam(t,"underlay","u")},e.prototype.variable=function(t,e){return this.param(e,t,t)},e.prototype.variables=function(t){return this.arrayParam(t,"variables")},e.prototype.videoCodec=function(t){return this.param(t,"video_codec","vc",h.process_video_params)},e.prototype.videoSampling=function(t){return this.param(t,"video_sampling","vs")},e.prototype.width=function(t){return this.param(t,"width","w",function(e){return function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?s.normalize(t):null}}(this))},e.prototype.x=function(t){return this.param(t,"x","x",s.normalize)},e.prototype.y=function(t){return this.param(t,"y","y",s.normalize)},e.prototype.zoom=function(t){return this.param(t,"zoom","z",s.normalize)},e}(b),y.methods||(y.methods=x.difference(x.functions(y.prototype),x.functions(b.prototype))),y.PARAM_NAMES||(y.PARAM_NAMES=function(){var t,e,n,r;for(n=y.methods,r=[],t=0,e=n.length;t<e;t++)X=n[t],r.push(x.snakeCase(X));return r}().concat(o.CONFIG_PARAMS)),l=function(){function t(t,e,n){var r;this.name=t,this.publicId=e,null==n&&(x.isPlainObject(e)?(n=e,this.publicId=void 0):n={}),r=new y(n),r.setParent(this),this.transformation=function(){return r}}var e;return t.new=function(t,e,n){return new this(t,e,n)},e=function(t,e){return e?!0===e?t:t+'="'+e+'"':void 0},t.prototype.htmlAttrs=function(t){var n,r;return function(){var i;i=[];for(n in t)(r=t[n])&&i.push(e(n,r));return i}().sort().join(" ")},t.prototype.getOptions=function(){return this.transformation().toOptions()},t.prototype.getOption=function(t){return this.transformation().getValue(t)},t.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},t.prototype.setAttr=function(t,e){return this.transformation().set("html_"+t,e),this},t.prototype.getAttr=function(t){return this.attributes()["html_"+t]||this.attributes()[t]},t.prototype.removeAttr=function(t){var e;return null!=(e=this.transformation().remove("html_"+t))?e:this.transformation().remove(t)},t.prototype.content=function(){return""},t.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},t.prototype.closeTag=function(){return"</"+this.name+">"},t.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},t.prototype.toDOM=function(){var t,e,n,r;if(!x.isFunction("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";t=document.createElement(this.name),n=this.attributes();for(e in n)r=n[e],t[e]=r;return t},t.isResponsive=function(t,e){var n;return n=x.getData(t,"src-cache")||x.getData(t,"src"),x.hasClass(t,e)&&/\bw_auto\b/.exec(n)},t}(),c=function(t){function e(t,n){null==n&&(n={}),e.__super__.constructor.call(this,"img",t,n)}return extend(e,t),e.prototype.closeTag=function(){return""},e.prototype.attributes=function(){var t,n,i;return t=e.__super__.attributes.call(this)||[],n=this.getOptions(),i=n.responsive&&!n.client_hints?"data-src":"src",null==t[i]&&(t[i]=new r(this.getOptions()).url(this.publicId)),t},e}(l),E=function(t){function e(t,n){null==n&&(n={}),n=x.defaults({},n,r.DEFAULT_VIDEO_PARAMS),e.__super__.constructor.call(this,"video",t.replace(/\.(mp4|ogv|webm)$/,""),n)}var n,i;return extend(e,t),i=["source_types","source_transformation","fallback_content","poster"],["webm","mp4","ogv"],n={format:"jpg",resource_type:"video"},e.prototype.setSourceTransformation=function(t){return this.transformation().sourceTransformation(t),this},e.prototype.setSourceTypes=function(t){return this.transformation().sourceTypes(t),this},e.prototype.setPoster=function(t){return this.transformation().poster(t),this},e.prototype.setFallbackContent=function(t){return this.transformation().fallbackContent(t),this},e.prototype.content=function(){var t,e,n,i,o,s,a,u,l,c;return s=this.transformation().getValue("source_types"),o=this.transformation().getValue("source_transformation"),e=this.transformation().getValue("fallback_content"),x.isArray(s)?(t=new r(this.getOptions()),n=function(){var e,n,r;for(r=[],e=0,n=s.length;e<n;e++)u=s[e],l=o[u]||{},a=t.url(""+this.publicId,x.defaults({},l,{resource_type:"video",format:u})),c="ogv"===u?"ogg":u,i="video/"+c,r.push("<source "+this.htmlAttrs({src:a,type:i})+">");return r}.call(this)):n=[],n.join("")+e},e.prototype.attributes=function(){var t,o,s,a,u,l,c,p;for(p=this.getOption("source_types"),u=null!=(l=this.getOption("poster"))?l:{},x.isPlainObject(u)&&(N=null!=u.public_id?r.DEFAULT_IMAGE_PARAMS:n,u=new r(this.getOptions()).url(null!=(c=u.public_id)?c:this.publicId,x.defaults({},u,N))),o=e.__super__.attributes.call(this)||[],s=0,a=o.length;s<a;s++)t=o[s],x.contains(i)||(o=t);return x.isArray(p)||(o.src=new r(this.getOptions()).url(this.publicId,{resource_type:"video",format:p})),null!=u&&(o.poster=u),o},e}(l),n=function(t){function e(t){e.__super__.constructor.call(this,"meta",void 0,x.assign({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},t))}return extend(e,t),e.prototype.closeTag=function(){return""},e}(l),r=function(){function t(t){var e;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,e=new o(t),this.config=function(t,n){return e.config(t,n)},this.fromDocument=function(){return e.fromDocument(),this},this.fromEnvironment=function(){return e.fromEnvironment(),this},this.init=function(){return e.init(),this}}var e,n,r,i,s,a,u,p,f,h,d,g,m,v,b,_;return"2.5.0","d3jpl91pxevbkh.cloudfront.net",i="cloudinary-a.akamaihd.net",e="res.cloudinary.com",a=e,n={format:"jpg",resource_type:"video"},r=["webm","mp4","ogv"],s={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},t.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},t.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:r,transformation:[],type:"upload"},t.new=function(t){return new this(t)},m=function(t,e,n,r,i){var o,a;if(null==t&&(t="image"),null==e&&(e="upload"),x.isPlainObject(t)&&(a=t,t=a.resource_type,e=a.type,n=a.url_suffix,r=a.use_root_path,i=a.shorten),null==e&&(e="upload"),null!=n&&(t=s[t+"/"+e],e=null,null==t))throw new Error("URL Suffix only supported for "+function(){var t;t=[];for(o in s)t.push(o);return t}().join(", "));if(r){if(("image"!==t||"upload"!==e)&&"images"!==t)throw new Error("Root path only supported for image/upload");t=null,e=null}return i&&"image"===t&&"upload"===e&&(t="iu",e=null),[t,e].join("/")},u=function(t){var e;return t.match(/^https?:\//)||(e=document.location.protocol+"//"+document.location.host,"?"===t[0]?e+=document.location.pathname:"/"!==t[0]&&(e+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t=e+t),t},t.prototype.url=function(e,n){var r,i,o,s,a,l,c;if(null==n&&(n={}),!e)return e;if(n instanceof y&&(n=n.toOptions()),n=x.defaults({},n,this.config(),t.DEFAULT_IMAGE_PARAMS),"fetch"===n.type&&(n.fetch_format=n.fetch_format||n.format,e=u(e)),s=new y(n),a=s.serialize(),!n.cloud_name)throw"Unknown cloud_name";if(e.search("/")>=0&&!e.match(/^v[0-9]+/)&&!e.match(/^https?:\//)&&!(null!=(i=n.version)?i.toString():void 0)&&(n.version=1),e.match(/^https?:/))"upload"===n.type||"asset"===n.type?l=e:e=encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/");else{try{e=decodeURIComponent(e)}catch(t){t}if(e=encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/"),n.url_suffix){if(n.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";e=e+"/"+n.url_suffix}n.format&&(n.trust_public_id||(e=e.replace(/\.(jpg|png|gif|webp)$/,"")),e=e+"."+n.format)}return r=d(e,n),o=m(n.resource_type,n.type,n.url_suffix,n.use_root_path,n.shorten),c=n.version?"v"+n.version:"",l||x.compact([r,o,a,c,e]).join("/").replace(/([^:])\/+/g,"$1/")},t.prototype.video_url=function(t,e){return e=x.assign({resource_type:"video"},e),this.url(t,e)},t.prototype.video_thumbnail_url=function(t,e){return e=x.assign({},n,e),this.url(t,e)},t.prototype.transformation_string=function(t){return new y(t).serialize()},t.prototype.image=function(t,e){var n,r,i,o;return null==e&&(e={}),r=this.imageTag(t,e),n=null!=(i=null!=(o=e.client_hints)?o:this.config("client_hints"))&&i,null!=e.src||n||r.setAttr("src",""),r=r.toDOM(),n||(x.setData(r,"src-cache",this.url(t,e)),this.cloudinary_update(r,e)),r},t.prototype.imageTag=function(t,e){var n;return n=new c(t,this.config()),n.transformation().fromOptions(e),n},t.prototype.video_thumbnail=function(t,e){return this.image(t,x.merge({},n,e))},t.prototype.facebook_profile_image=function(t,e){return this.image(t,x.assign({type:"facebook"},e))},t.prototype.twitter_profile_image=function(t,e){return this.image(t,x.assign({type:"twitter"},e))},t.prototype.twitter_name_profile_image=function(t,e){return this.image(t,x.assign({type:"twitter_name"},e))},t.prototype.gravatar_image=function(t,e){return this.image(t,x.assign({type:"gravatar"},e))},t.prototype.fetch_image=function(t,e){return this.image(t,x.assign({type:"fetch"},e))},t.prototype.video=function(t,e){return null==e&&(e={}),this.videoTag(t,e).toHtml()},t.prototype.videoTag=function(t,e){return e=x.defaults({},e,this.config()),new E(t,e)},t.prototype.sprite_css=function(t,e){return e=x.assign({type:"sprite"},e),t.match(/.css$/)||(e.format="css"),this.url(t,e)},t.prototype.responsive=function(t,e){var n,r,i,o,s;if(null==e&&(e=!0),this.responsiveConfig=x.merge(this.responsiveConfig||{},t),o=null!=(n=this.responsiveConfig.responsive_class)?n:this.config("responsive_class"),e&&this.cloudinary_update("img."+o+", img.cld-hidpi",this.responsiveConfig),(null==(r=null!=(i=this.responsiveConfig.responsive_resize)?i:this.config("responsive_resize"))||r)&&!this.responsiveResizeInitialized)return this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,s=null,window.addEventListener("resize",function(t){return function(){var e,n,r,i,a,u,l;return e=null!=(n=null!=(r=t.responsiveConfig.responsive_debounce)?r:t.config("responsive_debounce"))?n:100,i=function(){if(s)return clearTimeout(s),s=null},a=function(){return t.cloudinary_update("img."+o,t.responsiveConfig)},l=function(){return i(),a()},u=function(){return i(),s=setTimeout(l,e)},e?u():a()}}(this))},t.prototype.calc_breakpoint=function(t,e,n){var r,i;return r=x.getData(t,"breakpoints")||x.getData(t,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||g,x.isFunction(r)?r(e,n):(x.isString(r)&&(r=function(){var t,e,n,o;for(n=r.split(","),o=[],t=0,e=n.length;t<e;t++)i=n[t],o.push(parseInt(i));return o}().sort(function(t,e){return t-e})),h(r,e))},t.prototype.calc_stoppoint=t.prototype.calc_breakpoint,t.prototype.device_pixel_ratio=function(t){var e,n;return null==t&&(t=!0),e=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,t&&(e=Math.ceil(e)),(e<=0||NaN===e)&&(e=1),n=e.toString(),n.match(/^\d+$/)&&(n+=".0"),n},g=function(t,e){return null==e&&(e=100),e*Math.ceil(t/e)},h=function(t,e){var n;for(n=t.length-2;n>=0&&t[n]>=e;)n--;return t[n+1]},f=function(t){return j(t)%5+1},d=function(t,e){var n,r,o,s,u,l;return 0===(null!=(u=e.cloud_name)?u.indexOf("/"):void 0)?"/res"+e.cloud_name:(s="http://",n="",l="res",r=".cloudinary.com",o="/"+e.cloud_name,e.protocol&&(s=e.protocol+"//"),e.private_cdn&&(n=e.cloud_name+"-",o=""),e.cdn_subdomain&&(l="res-"+f(t)),e.secure?(s="https://",!1===e.secure_cdn_subdomain&&(l="res"),null!=e.secure_distribution&&e.secure_distribution!==i&&e.secure_distribution!==a&&(n="",l="",r=e.secure_distribution)):e.cname&&(s="http://",n="",l=e.cdn_subdomain?"a"+(j(t)%5+1)+".":"",r=e.cname),[s,n,l,r,o].join(""))},t.prototype.processImageTags=function(t,e){var n,r,i,o,s;return null==e&&(e={}),x.isEmpty(t)?this:(e=x.defaults({},e,this.config()),n=function(){var n,a,u,l;for(l=[],n=0,a=t.length;n<a;n++)i=t[n],"IMG"===(null!=(u=i.tagName)?u.toUpperCase():void 0)&&(r=x.assign({width:i.getAttribute("width"),height:i.getAttribute("height"),src:i.getAttribute("src")},e),o=r.source||r.src,delete r.source,delete r.src,s=this.url(o,r),r=new y(r).toHtmlAttributes(),x.setData(i,"src-cache",s),i.setAttribute("width",r.width),i.setAttribute("height",r.height),l.push(i));return l}.call(this),this.cloudinary_update(n,e),this)},p=function(t,e,n,r){var i,o,s,a;return a=null!=(i=null!=(o=null!=(s=r.responsive_use_breakpoints)?s:r.responsive_use_stoppoints)?o:this.config("responsive_use_breakpoints"))?i:this.config("responsive_use_stoppoints"),!a||"resize"===a&&!r.resizing?e:this.calc_breakpoint(t,e,n)},v=function(t){var e,n;for(e=0;(t=null!=t?t.parentNode:void 0)instanceof Element&&!e;)n=window.getComputedStyle(t),/^inline/.test(n.display)||(e=x.width(t));return e},_=function(t,e){return t.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(e))},b=function(t,e){var n;return n=x.getData(e,"width")||0,t>n&&(n=t,x.setData(e,"width",t)),n},t.prototype.cloudinary_update=function(t,e){var n,r,i,o,s,a,u,c,f,h,d,g,m,y,w,E,k;if(null==e&&(e={}),null===t)return this;for(m=null!=(a=null!=(u=e.responsive)?u:this.config("responsive"))&&a,t=function(){switch(!1){case!x.isArray(t):case"NodeList"!==t.constructor.name:return t;case!x.isString(t):return document.querySelectorAll(t);default:return[t]}}(),y=null!=(c=null!=(f=this.responsiveConfig.responsive_class)?f:e.responsive_class)?c:this.config("responsive_class"),w=null!=(h=e.round_dpr)?h:this.config("round_dpr"),i=0,o=t.length;i<o;i++)if(k=t[i],(null!=(d=k.tagName)?d.match(/img/i):void 0)&&(E=!0,m&&x.addClass(k,y),r=x.getData(k,"src-cache")||x.getData(k,"src"),!x.isEmpty(r))){if(r=_.call(this,r,w),l.isResponsive(k,y))if(0!==(n=v(k))){switch(!1){case!/w_auto:breakpoints/.test(r):g=b(n,k),r=r.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:"+g);break;case!(s=/w_auto(:(\d+))?/.exec(r)):g=p.call(this,k,n,s[2],e),g=b(g,k),r=r.replace(/w_auto[^,\/]*/g,"w_"+g)}x.removeAttribute(k,"width"),e.responsive_preserve_height||x.removeAttribute(k,"height")}else E=!1;E&&x.setAttribute(k,"src",r)}return this},t.prototype.transformation=function(t){return y.new(this.config()).fromOptions(t).setParent(this)},t}(),q={utf8_encode:st,crc32:j,Util:x,Condition:i,Transformation:y,Configuration:o,HtmlTag:l,ImageTag:c,VideoTag:E,ClientHintsMetaTag:n,Layer:p,FetchLayer:u,TextLayer:v,SubtitlesLayer:m,Cloudinary:r,VERSION:"2.5.0"}}),function(t,e){"function"==typeof define&&define.amd?define("transform_image",["cloudinary"],e):"object"==typeof module&&module.exports?module.exports=e(require("cloudinary-core")):t.transformImage=e(t.cloudinary)}(this,function(t){function e(t){if(!t)return"";var e=s.exec(t);return e&&e.length>2?e[e.length-2]:t}function n(t){if(t||(t={}),t.resize){if(t.resize.fit)switch(t.resize.fit){case"cover":t.crop="fill";break;case"contain":t.crop="pad";break;case"fill":t.crop="scale";break;case"inside":case"outside":t.crop="fit"}t.resize.width&&(t.width=t.resize.width),t.resize.height&&(t.height=t.resize.height),t.resize.background&&(t.background="white"),t.resize.dpr&&(t.dpr=t.resize.dpr),delete t.resize}return t.roundCrop&&(t.radius="max",delete t.roundCrop),t.smartCrop&&(t.gravity="face",t.crop="thumb",delete t.smartCrop),t.secure=!0,t}function r(r,a){a||(a={});var u,l,c=JSON.parse(JSON.stringify(a)),p=!1;if(c.html&&(p=!0,l=c.alt,delete c.alt,delete c.html),c.resize&&(c.resize.width&&(c.resize.width=Math.ceil(c.resize.width)),c.resize.height&&(c.resize.height=Math.ceil(c.resize.height))),r.substring(0,o.length)===o){if(0===Object.entries(a).length)return r;var f=c.resize.width,h=c.resize.height;c.resize&&c.resize.dpr&&(c.resize.width&&(c.resize.width=Math.ceil(c.resize.width*c.resize.dpr)),c.resize.height&&(c.resize.height=Math.ceil(c.resize.height*c.resize.dpr)),delete c.resize.dpr),
c.contentModeration&&!0===c.contentModeration&&(c.contentModeration={minConfidence:75,blur:50,moderationLabels:["Hate Symbols","Explicit Nudity"]});var d,g=JSON.stringify({bucket:i,key:r.replace(o+"/",""),edits:c});return"undefined"!=typeof btoa&&null!==btoa?d=btoa(g):"undefined"!=typeof Buffer&&null!==Buffer&&(d=Buffer.from(g,"binary").toString("base64")),d?(u=o+"/"+d,p&&(u='<img src="'+u+'"',c.resize&&(c.resize.width&&(u+=' width="'+f+'"'),c.resize.height&&(u+=' height="'+h+'"')),l&&(u+=' alt="'+l+'"'),u+=">"),u):r}if(s.test(r)){if(0===Object.entries(a).length&&!/\.gif$/.test(r))return r;if(!t)throw new Error("Must import cloudinary library (cloudinary-core-shrinkwrap.js is recomended). Try `npm install cloudinary-core`. ");if(!t||!t.Cloudinary)return r;var m=t.Cloudinary.new({cloud_name:"surveyplanet"}),v=e(r);return c=n(c),/\.gif$/.test(r)&&(c.format="png"),u=p?m.imageTag(v,c).toHtml():m.url(v,c)}return r}var i="surveyplanet-media",o="https://media.surveyplanet.com",s=/^.+\.cloudinary\.com\/(?:[^/]+\/)(?:(image|video|raw)\/)?(?:(upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/)?(?:(?:[^_/]+_[^,/]+,?)*\/)?(?:v(\d+|\w{1,2})\/)?([^.^\s]+)(?:\.(.+))?$/;return r});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("models/survey",["require","underscore","backbone"],function(t){var e,n;return n=t("underscore"),e=t("backbone").Model,function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.DISQUALIFY_EVENT="disqualify",e.prototype.idAttribute="_id",e.prototype.urlRoot=function(){return GLOBALS.uris.api+"/survey"},e.prototype.defaults={branding:{logo:null,url:"https://surveyplanet.com"},theme:null,success:{alignment:"center"},welcome:{alignment:"center"}},e.prototype.parse=function(t,e){return t.data},e.prototype.hasBranches=function(){var t;return!(!(t=this.get("questions"))||!t.length)&&n.some(t,function(t){return t.branches&&t.branches.length})},e.prototype.initialize=function(){},e}(e)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("models/participant",["require","underscore","backbone"],function(t){var e,n;return n=t("underscore"),e=t("backbone").Model,function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.idAttribute="_id",e.prototype.urlRoot=function(){return GLOBALS.uris.api+"/participant"},e.prototype.defaults={completed:!1,email:null,answers:[],time:{start:null,end:null}},e.prototype.parse=function(t,e){return n.isObject(t.data)?t.data:data},e}(e)}),define("sp/ui/templates",["require","underscore"],function(t){var e,n;return e=t("underscore"),n={question:'<header>\n\t<div class="complete-mark" title="question valid"></div>\n\t<hgroup>\n\t\t<h3 id="question-title-<%=_id%>" class="question-title">\n\t\t\t<%= _.markdownToHtml( title, {\'sanitize\':true, \'smartLists\':false}, \'<ul><ol><li>\' ) %>\n\t\t</h3>\n\t\t<% if (typeof subtitle !== \'undefined\' && subtitle !== null && subtitle.length) { %>\n\t\t\t<h4 class="question-subtitle"><%= _.markdownToHtml( subtitle, {\'sanitize\':true} ) %></h4>\n\t\t<% } %>\n\t</hgroup>\n</header>\n\n<div class="question-form clearfix"></div>\n\n<% if (typeof comments !== \'undefined\' && comments !== null) { %>\n<div class="question-comments">\n\t<label for="comments[<%=_id%>]"><%- comments.length ? _.escape(comments) : definitions.commentsLabel %></label>\n\t<textarea id="comments[<%=_id%>]" name="comments[<%=_id%>]"></textarea>\n</div>\n<% } %>\n\n<% if (typeof total !== \'undefined\' && total ) { %>\n<footer>\n\n\t<% if (index === total) { %>\n\t\t<p class="abuse-warning">\n\t\t\t<%- submitWarning %> \n\t\t\t<a href="<%- submitWarningLinkUrl %>"><%- submitWarningLink %></a>\n\t\t</p>\n\t<% } %>\n\n\t<nav class="question-nav clearfix" aria-label="question pagination">\n\t\t<ul>\n\t\t\t<%\n\t\t\tvar submitButton = definitions.submitButton || "Submit"\n\t\t\tvar nextButton = definitions.nextButton || "Next"\n\t\t\tvar previousButton = definitions.previousButton || "Previous"\n\t\t\t%>\n\n\t\t\t<% if (enablePreviousButton && index > 1) { %>\n\t\t\t<li>\n\t\t\t\t<a class="previous-button button" tabindex="0" role="button" > <%= previousButton %> </a>\n\t\t\t</li>\n\t\t\t<% } %>\n\n\t\t\t<% if (index < total) { %>\n\t\t\t<li>\n\t\t\t\t<a class="next-button button" tabindex="0" role="button" > <%= nextButton %> </a>\n\t\t\t</li>\n\t\t\t<% } else { %>\n\t\t\t<li>\n\t\t\t\t<a class="submit-button button" tabindex="0" role="button" > <%= submitButton %> </a>\n\t\t\t</li>\n\t\t\t<% } %>\n\n\t\t</ul>\n\t</nav>\n\n</footer>\n<% } %>'},e.map(n,function(t,r){return n[r]=e.template(t)}),n}),function(t,e){"function"==typeof define&&define.amd?define("sp/validator",[],e):"object"==typeof module&&module.exports?module.exports=e():t.Validator=e()}(this,function(){return function(){function t(t){Array.isArray(t)||(t=[t]),this.errors=[],this.fields=t.map(function(t){return function(t,e){if((null==t.name||!t.name.length)&&null==t.value)throw new Error("Validation requires a field name or a value for each item");return null==t.label&&(t.label=t.name||null),null==t.rules&&(t.rules="required"),t}}())}return t.RULES=[{name:"required",message:"The %s field is required.",description:"must not be empty",expression:null},{name:"matches",message:"The %s field does not match the %s field.",description:"must match another field value",parameterRequired:!0,expression:null},{name:"url",message:"The %s field must contain a valid url.",description:"must be a valid url",placeholder:"http://www.example.com",expression:/\b(https?|ftp|file):\/\/[-A-Za-z0-9+&@#\/%?=~_|!:,.;]*[-A-Za-z0-9+&@#\/%=~_|]/i},{name:"email",message:"The %s field must contain a valid email address.",description:"must be a valid email address",placeholder:"email@example.com",expression:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},{name:"emails",message:"The %s field must contain all valid email addresses.",description:"must be a comma separated list of valid email addresses",placeholder:"email1@example.com, email2@example.com",expression:null},{name:"minLength",message:"The %s field must be at least %s characters in length.",description:"must be at least X characters long",parameterRequired:!0,expression:null},{name:"maxLength",message:"The %s field must not exceed %s characters in length.",description:"must be no longer than X characters",parameterRequired:!0,expression:null},{name:"exactLength",message:"The %s field must be exactly %s characters in length.",description:"must be exactly X characters long",parameterRequired:!0,expression:null},{name:"greaterThan",message:"The %s field must contain a number greater than %s.",description:"must be greater than X",parameterRequired:!0,expression:null},{name:"equals",message:"The %s field must equal %s.",description:"must be equal to X",parameterRequired:!0,expression:null},{name:"lessThan",message:"The %s field must contain a number less than %s.",description:"must be less than X",parameterRequired:!0,expression:null},{name:"alpha",message:"The %s field must only contain alphabetical characters.",description:"must only contain alphabetical characters (A-z)",expression:/^[a-z]+$/i},{name:"alphaNumeric",message:"The %s field must only contain alpha-numeric characters.",description:"must only contain alpha-numeric characters (A-z, 0-9)",expression:/^[a-z0-9]+$/i},{name:"alphaDash",message:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",description:"must only contain alpha-numeric characters, underscores, or dashes",expression:/^[a-z0-9_-]+$/i},{name:"numeric",message:"The %s field must only contain numbers.",description:"must be a whole number",expression:/^[0-9]+$/},{name:"integer",message:"%s must be a whole number.",description:"must be an integer",expression:/^\-?[0-9]+$/},{name:"decimal",message:"The %s field must contain a decimal number.",description:"must be a valid decimal",expression:/^\-?[0-9]*\.?[0-9]+$/},{name:"ip",message:"The %s field must contain a valid IP address.",description:"must be a valid IP address",expression:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i},{name:"base64",message:"The %s field must contain a base64 string.",description:"must be a base64 string",expression:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/i},{name:"cvc",message:"The %s field must contain a valid CVC.",description:"must be a valid credit card cvc",expression:/^\d+$/},{name:"creditCard",message:"The %s field must contain a valid credit card number.",description:"must be a valid credit card number",expression:/^[\d\-\s]+$/},{name:"phone",message:"The %s field must contain a valid phone number.",description:"must be a valid phone number",expression:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/},{name:"fileType",message:"The %s field must contain only %s files.",description:"must be a comma separated list of file types ex: [gif,png,jpg]",expression:null},{name:"hasNumber",message:"The %s field must contain at least one number.",description:"must contain a number",expression:/[0-9]/},{name:"hasUpper",message:"The %s field must contain at least one upper case letter.",description:"must contain an upper case letter",expression:/[A-Z]/},{name:"hasLower",message:"The %s field must contain at least one lower case letter.",description:"must contain a lower case letter",expression:/[a-z]/},{name:"custom",message:"The %s field is invalid.",description:"must match a Regular Expression",parameterRequired:!0}],t.prototype.errors=[],t.prototype.fields=[],t.prototype.showValidationErrors=!1,t.prototype.validate=function(t){return this.showValidationErrors&&this.removeAllValidationErrorMessages(),this.errors=[],this.fields.forEach(function(t){return function(e){var n;return n=document.getElementsByName(e.name),null!=n&&n.length&&(e.id=t._getAttributeValue(n,"id"),e.class=t._getAttributeValue(n,"className"),e.value=t._getAttributeValue(n,"value"),e.type=t._getAttributeValue(n,"type"),e.checked=t._getAttributeValue(n,"checked")),t._validateField(e)}}(this)),this.showValidationErrors&&this.createValidationErrorMessages(),t?t(this.errors):this.errors},t.prototype.getRule=function(e){return this._find(t.RULES,"name",e)},t.prototype.parseValidationMessage=function(t,e,n){return t?(t=t.replace("%s",e),n&&(t=t.replace("%s",n))):t="An error has occurred with the "+e+" field.",t},t.prototype.createValidationErrorMessages=function(){var t,e,n,r,i,o,s;for(o=this.errors,s=[],r=0,i=o.length;r<i;r++)e=o[r],t=document.getElementsByName(e.name),t.length>0&&(t=t[0]),t.className="validation-error",e.label=document.createElement("label"),e.label.className="validation-error error",e.label.setAttribute("for",e.name),e.label.innerHTML=e.message,n=document.createElement("div"),n.className="icon icon-error",e.label.insertBefore(n,e.label.firstChild),t.parentNode.appendChild(e.label,t.nextSibling),jQuery?s.push($(e.label).hide().slideDown("fast")):s.push(void 0);return s},t.prototype.removeAllValidationErrorMessages=function(){var t,e,n,r,i,o;for(e=Array.prototype.slice.call(document.getElementsByClassName("validation-error")),o=[],n=r=0,i=e.length;r<i;n=++r)t=e[n],null!=t&&void 0!==t?"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?o.push(t.className=t.className.replace(/\bvalidation-error\b/,"")):o.push(t.parentNode.removeChild(t)):o.push(void 0);return o},t.prototype._hooks={required:function(t){var e;return e=t.value,"checkbox"===t.type||"radio"===t.type?!0===t.checked:null!==e&&""!==e},matches:function(t,e){var n,r;return!!(n=document.getElementsByName(e))&&(r=n.length>0?n[0].value:n.value,t.value===r)},url:function(t){return this.getRule("url").expression.test(t.value.trim())},email:function(t){return this.getRule("email").expression.test(t.value.trim())},emails:function(t){var e,n;return n=t.value.split(","),e=this.getRule("email").expression,n.every(function(t){return e.test(t.trim())})},minLength:function(t,e){return!!this.getRule("numeric").expression.test(e)&&t.value.length>=parseInt(e,10)},maxLength:function(t,e){return!!this.getRule("numeric").expression.test(e)&&t.value.length<=parseInt(e,10)},exactLength:function(t,e){return!!this.getRule("numeric").expression.test(e)&&t.value.length===parseInt(e,10)},greaterThan:function(t,e){return!!this.getRule("decimal").expression.test(t.value)&&parseFloat(t.value)>parseFloat(e)},equals:function(t,e){return null!=e&&String(e).length&&String(t.value).trim()===String(e).trim()},lessThan:function(t,e){return!!this.getRule("decimal").expression.test(t.value)&&parseFloat(t.value)<parseFloat(e)},alpha:function(t){return this.getRule("alpha").expression.test(t.value)},alphaNumeric:function(t){return this.getRule("alphaNumeric").expression.test(t.value)},alphaDash:function(t){return this.getRule("alphaDash").expression.test(t.value)},numeric:function(t){return this.getRule("numeric").expression.test(t.value)},integer:function(t){return this.getRule("integer").expression.test(t.value)},decimal:function(t){return this.getRule("decimal").expression.test(t.value)},ip:function(t){return this.getRule("ip").expression.test(t.value)},base64:function(t){return this.getRule("base64").expression.test(t.value)},phone:function(t){return this.getRule("phone").expression.test(t.value)},cvc:function(t){return this.getRule("cvc").expression.test(t.value)&&t.value.length>=3&&t.value.length<=4},creditCard:function(t){var e,n,r,i,o,s;if(!this.getRule("creditCard").expression.test(t.value))return!1;for(i=0,o=0,e=!1,s=t.value.replace(/\D/g,""),r=s.length-1;r>=0;)n=s.charAt(r),o=parseInt(n,10),e&&(o*=2)>9&&(o-=9),i+=o,e=!e,r--;return i%10==0},fileType:function(t,e){var n,r;return n=t.value.substr(t.value.lastIndexOf(".")+1),r=e.split(",").map(function(t){return t.trim()}),n&&n.length&&r.indexOf(n.trim())>-1},hasNumber:function(t){return this.getRule("hasNumber").expression.test(t.value)},hasUpper:function(t){return this.getRule("hasUpper").expression.test(t.value)},hasLower:function(t){return this.getRule("hasLower").expression.test(t.value)},custom:function(t,e){var n,r;return n=e.match(/^\/(.*?)\/([gimy]*)$/),r=new RegExp(n[1],n[2]),r.test(t.value)}},t.prototype._getAttributeValue=function(t,e){return t.length?t[0][e]:t[e]},t.prototype._getRuleParameters=function(t){return/^(.+?)\[(.+)\]$/.exec(t)},t.prototype._find=function(t,e,n){var r;return r=null,"function"==typeof t.some&&t.length&&t.some(function(t){return!(!t.hasOwnProperty(e)||t[e]!==n)&&(r=t,!0)}),r},t.prototype._validateField=function(t){var e,n,r,i,o,s,a,u,l;if(l="string"==typeof t.rules?t.rules.split("|"):t.rules,-1!==t.rules.indexOf("required")||t.value&&""!==t.value&&void 0!==t.value){for(r=0,u=[];r<l.length;){if(o=l[r],s=null,n=!1,a=this._getRuleParameters(o),a&&(o=a[1],s=a[2]),"function"==typeof this._hooks[o]&&(this._hooks[o].apply(this,[t,s])||(n=!0)),n){i=this.parseValidationMessage(t.message||this.getRule(o).message,t.label,s),e={id:t.id,name:t.name,class:t.class,message:i,rule:o},this.errors.push(e);break}u.push(r++)}return u}},t}()});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_form",["require","underscore","backbone","../../validator"],function(t){var e,n,r;return r=t("underscore"),n=t("backbone").View,e=t("../../validator"),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.UPDATE_EVENT="update",n.prototype.values=null,n.prototype.definitions=null,n.prototype.initialize=function(t){return this.values=[]},n.prototype.render=function(){return this.$el.empty()},n.prototype.randomize=function(){var t,e,n;return e=this.$el.children("li"),t=function(t){return Math.floor(Math.random()*t)},n=$.map(e,function(){var n,r;return r=t(e.length),n=$(e[r]).clone(!0)[0],e.splice(r,1),n}),this.$el.children("li").each(function(t){return $(this).replaceWith($(n[t]))})},n.prototype.setLayout=function(){var t;return t=function(t,e){if(e)return(e.match(/(^|\s)layout-\S+/g)||[]).join(" ")},this.$el.removeClass(t).addClass("layout-"+this.model.get("properties").layout)},n.prototype.setValues=function(t){null==t&&(t=this.values),!r.isArray(t)||t.length},n.prototype.update=function(){return this.trigger(n.UPDATE_EVENT)},n.prototype.valid=function(){return!this.model.get("required")},n.prototype.validate=function(){var t,n,i,o,s,a;if(o=this.model.get("required"),i=this.model.get("properties"),r.isEmpty(this.values)&&!o)return null;if(o&&r.isEmpty(this.values))return this.definitions.validations.default;switch(this.model.get("type")){case"multiple_choice":case"image":if(i.multi){if(i.min&&this.values.length<i.min)return this.definitions.validations.selectMin.replace("%s",i.min);if(i.max&&this.values.length>i.max)return this.definitions.validations.selectMax.replace("%s",i.max)}break;case"essay":if(i.min&&this.values[0].length<Number(i.min))return this.definitions.validations.minLength.replace(/%s\s/,"").replace("%s",i.min);if(i.max&&this.values[0].length>Number(i.max))return this.definitions.validations.maxLength.replace(/%s\s/,"").replace("%s",i.max);break;case"scale":if(!$.isNumeric(this.values[0]))return this.definitions.validations.numeric.replace("%s",this.definitions.scaleMin);if(this.values[0]=Number(this.values[0]),this.values[0]<Number(i.min))return this.definitions.validations.greaterThan.replace("%s",this.definitions.scaleMin).replace("%s",Number(i.min)-1);if(this.values[0]>Number(i.max))return this.definitions.validations.lessThan.replace("%s",this.definitions.scaleMin).replace("%s",Number(i.max)+1);break;case"range":if(!$.isNumeric(this.values[0]))return this.definitions.validations.numeric.replace("%s",this.definitions.rangeMin);if(!$.isNumeric(this.values[1]))return this.definitions.validations.numeric.replace("%s",this.definitions.rangeMax);if(this.values[0]=Number(this.values[0]),this.values[1]=Number(this.values[1]),this.values[0]<Number(i.min))return this.definitions.validations.greaterThan.replace("%s",this.definitions.rangeMin).replace("%s",Number(i.min)-1);if(this.values[1]>Number(i.max))return this.definitions.validations.lessThan.replace("%s",this.definitions.rangeMax).replace("%s",Number(i.max)+1);if(this.values[0]>=this.values[1])return this.definitions.validations.greaterThan.replace("%s",this.definitions.rangeMax).replace("%s",this.values[0]);break;case"form":if(i.requireAll&&this.values.length<i.labels.length)return this.definitions.validations.allForm;if(i.validations&&(t=i.validations.map(function(t){return function(n){var i,o;return o=r.find(t.values,{label:n.label}),null!=t.definitions.validations[n.rule]&&(i=e.prototype.parseValidationMessage(t.definitions.validations[n.rule],n.label,n.option)),{label:n.label,rules:null==n.option||r.isEmpty(String(n.option))?n.rule:n.rule+"["+n.option+"]",value:o&&o.value?o.value:"",message:i}}}(this)),a=new e(t),(n=a.validate())&&n.length))return n.map(function(t){return function(t,e){return t.message}}());break;case"scoring":if(i.requireAll&&i.labels.length>this.values.length)return this.definitions.validations.allScore;if(i.requireUnique&&(s=r.chain(this.values).map("value").uniq().value(),s.length!==this.values.length))return this.definitions.validations.uniqueScore;break;case"date_time":if(!r.isDate(this.values[0])){if(i.date&&i.time)return this.definitions.validations.invalidDateTime;if(i.time)return this.definitions.validations.invalidTime;if(i.date)return this.definitions.validations.invalidDate}}return null},n}(n)}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("cleave",[],e):"object"==typeof exports?exports.Cleave=e():t.Cleave=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(e){"use strict";var r=function(t,e){var n=this,i=!1;if("string"==typeof t?(n.element=document.querySelector(t),i=document.querySelectorAll(t).length>1):void 0!==t.length&&t.length>0?(n.element=t[0],i=t.length>1):n.element=t,!n.element)throw new Error("[cleave.js] Please check the element");if(i)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch(t){}e.initValue=n.element.value,n.properties=r.DefaultProperties.assign({},e),n.init()};r.prototype={init:function(){var t=this,e=t.properties;if(!(e.numeral||e.phone||e.creditCard||e.time||e.date||0!==e.blocksLength||e.prefix))return void t.onInput(e.initValue);e.maxLength=r.Util.getMaxLength(e.blocks),t.isAndroid=r.Util.isAndroid(),t.lastInputValue="",t.isBackward="",t.onChangeListener=t.onChange.bind(t),t.onKeyDownListener=t.onKeyDown.bind(t),t.onFocusListener=t.onFocus.bind(t),t.onCutListener=t.onCut.bind(t),t.onCopyListener=t.onCopy.bind(t),t.initSwapHiddenInput(),t.element.addEventListener("input",t.onChangeListener),t.element.addEventListener("keydown",t.onKeyDownListener),t.element.addEventListener("focus",t.onFocusListener),t.element.addEventListener("cut",t.onCutListener),t.element.addEventListener("copy",t.onCopyListener),t.initPhoneFormatter(),t.initDateFormatter(),t.initTimeFormatter(),t.initNumeralFormatter(),(e.initValue||e.prefix&&!e.noImmediatePrefix)&&t.onInput(e.initValue)},initSwapHiddenInput:function(){var t=this;if(t.properties.swapHiddenInput){var e=t.element.cloneNode(!0);t.element.parentNode.insertBefore(e,t.element),t.elementSwapHidden=t.element,t.elementSwapHidden.type="hidden",t.element=e,t.element.id=""}},initNumeralFormatter:function(){var t=this,e=t.properties;e.numeral&&(e.numeralFormatter=new r.NumeralFormatter(e.numeralDecimalMark,e.numeralIntegerScale,e.numeralDecimalScale,e.numeralThousandsGroupStyle,e.numeralPositiveOnly,e.stripLeadingZeroes,e.prefix,e.signBeforePrefix,e.tailPrefix,e.delimiter))},initTimeFormatter:function(){var t=this,e=t.properties;e.time&&(e.timeFormatter=new r.TimeFormatter(e.timePattern,e.timeFormat),e.blocks=e.timeFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=r.Util.getMaxLength(e.blocks))},initDateFormatter:function(){var t=this,e=t.properties;e.date&&(e.dateFormatter=new r.DateFormatter(e.datePattern,e.dateMin,e.dateMax),e.blocks=e.dateFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=r.Util.getMaxLength(e.blocks))},initPhoneFormatter:function(){var t=this,e=t.properties;if(e.phone)try{e.phoneFormatter=new r.PhoneFormatter(new e.root.Cleave.AsYouTypeFormatter(e.phoneRegionCode),e.delimiter)}catch(t){throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(t){var e=this,n=t.which||t.keyCode;e.lastInputValue=e.element.value,e.isBackward=8===n},onChange:function(t){var e=this,n=e.properties,i=r.Util;e.isBackward=e.isBackward||"deleteContentBackward"===t.inputType;var o=i.getPostDelimiter(e.lastInputValue,n.delimiter,n.delimiters);e.isBackward&&o?n.postDelimiterBackspace=o:n.postDelimiterBackspace=!1,this.onInput(this.element.value)},onFocus:function(){var t=this,e=t.properties;t.lastInputValue=t.element.value,e.prefix&&e.noImmediatePrefix&&!t.element.value&&this.onInput(e.prefix),r.Util.fixPrefixCursor(t.element,e.prefix,e.delimiter,e.delimiters)},onCut:function(t){r.Util.checkFullSelection(this.element.value)&&(this.copyClipboardData(t),this.onInput(""))},onCopy:function(t){r.Util.checkFullSelection(this.element.value)&&this.copyClipboardData(t)},copyClipboardData:function(t){var e=this,n=e.properties,i=r.Util,o=e.element.value,s="";s=n.copyDelimiter?o:i.stripDelimiters(o,n.delimiter,n.delimiters);try{t.clipboardData?t.clipboardData.setData("Text",s):window.clipboardData.setData("Text",s),t.preventDefault()}catch(t){}},onInput:function(t){var e=this,n=e.properties,i=r.Util,o=i.getPostDelimiter(t,n.delimiter,n.delimiters);return n.numeral||!n.postDelimiterBackspace||o||(t=i.headStr(t,t.length-n.postDelimiterBackspace.length)),n.phone?(!n.prefix||n.noImmediatePrefix&&!t.length?n.result=n.phoneFormatter.format(t):n.result=n.prefix+n.phoneFormatter.format(t).slice(n.prefix.length),void e.updateValueState()):n.numeral?(n.prefix&&n.noImmediatePrefix&&0===t.length?n.result="":n.result=n.numeralFormatter.format(t),void e.updateValueState()):(n.date&&(t=n.dateFormatter.getValidatedDate(t)),n.time&&(t=n.timeFormatter.getValidatedTime(t)),t=i.stripDelimiters(t,n.delimiter,n.delimiters),t=i.getPrefixStrippedValue(t,n.prefix,n.prefixLength,n.result,n.delimiter,n.delimiters,n.noImmediatePrefix,n.tailPrefix,n.signBeforePrefix),t=n.numericOnly?i.strip(t,/[^\d]/g):t,t=n.uppercase?t.toUpperCase():t,t=n.lowercase?t.toLowerCase():t,n.prefix&&(n.tailPrefix?t+=n.prefix:t=n.prefix+t,0===n.blocksLength)?(n.result=t,void e.updateValueState()):(n.creditCard&&e.updateCreditCardPropsByValue(t),t=i.headStr(t,n.maxLength),n.result=i.getFormattedValue(t,n.blocks,n.blocksLength,n.delimiter,n.delimiters,n.delimiterLazyShow),void e.updateValueState()))},updateCreditCardPropsByValue:function(t){var e,n=this,i=n.properties,o=r.Util;o.headStr(i.result,4)!==o.headStr(t,4)&&(e=r.CreditCardDetector.getInfo(t,i.creditCardStrictMode),i.blocks=e.blocks,i.blocksLength=i.blocks.length,i.maxLength=o.getMaxLength(i.blocks),i.creditCardType!==e.type&&(i.creditCardType=e.type,i.onCreditCardTypeChanged.call(n,i.creditCardType)))},updateValueState:function(){var t=this,e=r.Util,n=t.properties;if(t.element){var i=t.element.selectionEnd,o=t.element.value,s=n.result;if(i=e.getNextCursorPosition(i,o,s,n.delimiter,n.delimiters),t.isAndroid)return void window.setTimeout(function(){t.element.value=s,e.setSelection(t.element,i,n.document,!1),t.callOnValueChanged()},1);t.element.value=s,n.swapHiddenInput&&(t.elementSwapHidden.value=t.getRawValue()),e.setSelection(t.element,i,n.document,!1),t.callOnValueChanged()}},callOnValueChanged:function(){var t=this,e=t.properties;e.onValueChanged.call(t,{target:{name:t.element.name,value:e.result,rawValue:t.getRawValue()}})},setPhoneRegionCode:function(t){var e=this;e.properties.phoneRegionCode=t,e.initPhoneFormatter(),e.onChange()},setRawValue:function(t){var e=this,n=e.properties;t=void 0!==t&&null!==t?t.toString():"",n.numeral&&(t=t.replace(".",n.numeralDecimalMark)),n.postDelimiterBackspace=!1,e.element.value=t,e.onInput(t)},getRawValue:function(){var t=this,e=t.properties,n=r.Util,i=t.element.value;return e.rawValueTrimPrefix&&(i=n.getPrefixStrippedValue(i,e.prefix,e.prefixLength,e.result,e.delimiter,e.delimiters,e.noImmediatePrefix,e.tailPrefix,e.signBeforePrefix)),i=e.numeral?e.numeralFormatter.getRawValue(i):n.stripDelimiters(i,e.delimiter,e.delimiters)},getISOFormatDate:function(){var t=this,e=t.properties;return e.date?e.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var t=this,e=t.properties;return e.time?e.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var t=this;t.element.removeEventListener("input",t.onChangeListener),t.element.removeEventListener("keydown",t.onKeyDownListener),t.element.removeEventListener("focus",t.onFocusListener),t.element.removeEventListener("cut",t.onCutListener),t.element.removeEventListener("copy",t.onCopyListener)},toString:function(){return"[Cleave Object]"}},r.NumeralFormatter=n(1),r.DateFormatter=n(2),r.TimeFormatter=n(3),r.PhoneFormatter=n(4),r.CreditCardDetector=n(5),r.Util=n(6),r.DefaultProperties=n(7),("object"==typeof e&&e?e:window).Cleave=r,t.exports=r}).call(e,function(){return this}())},function(t,e){"use strict";var n=function(t,e,r,i,o,s,a,u,l,c){var p=this;p.numeralDecimalMark=t||".",p.numeralIntegerScale=e>0?e:0,p.numeralDecimalScale=r>=0?r:2,p.numeralThousandsGroupStyle=i||n.groupStyle.thousand,p.numeralPositiveOnly=!!o,p.stripLeadingZeroes=!1!==s,p.prefix=a||""===a?a:"",p.signBeforePrefix=!!u,p.tailPrefix=!!l,p.delimiter=c||""===c?c:",",p.delimiterRE=c?new RegExp("\\"+c,"g"):""};n.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},n.prototype={getRawValue:function(t){return t.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(t){var e,r,i,o,s=this,a="";switch(t=t.replace(/[A-Za-z]/g,"").replace(s.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",s.numeralPositiveOnly?"":"-").replace("M",s.numeralDecimalMark),s.stripLeadingZeroes&&(t=t.replace(/^(-)?0+(?=\d)/,"$1")),r="-"===t.slice(0,1)?"-":"",i=void 0!==s.prefix?s.signBeforePrefix?r+s.prefix:s.prefix+r:r,o=t,t.indexOf(s.numeralDecimalMark)>=0&&(e=t.split(s.numeralDecimalMark),o=e[0],a=s.numeralDecimalMark+e[1].slice(0,s.numeralDecimalScale)),"-"===r&&(o=o.slice(1)),s.numeralIntegerScale>0&&(o=o.slice(0,s.numeralIntegerScale)),s.numeralThousandsGroupStyle){case n.groupStyle.lakh:o=o.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+s.delimiter);break;case n.groupStyle.wan:o=o.replace(/(\d)(?=(\d{4})+$)/g,"$1"+s.delimiter);break;case n.groupStyle.thousand:o=o.replace(/(\d)(?=(\d{3})+$)/g,"$1"+s.delimiter)}return s.tailPrefix?r+o.toString()+(s.numeralDecimalScale>0?a.toString():"")+s.prefix:i+o.toString()+(s.numeralDecimalScale>0?a.toString():"")}},t.exports=n},function(t,e){"use strict";var n=function(t,e,n){var r=this;r.date=[],r.blocks=[],r.datePattern=t,r.dateMin=e.split("-").reverse().map(function(t){return parseInt(t,10)}),2===r.dateMin.length&&r.dateMin.unshift(0),r.dateMax=n.split("-").reverse().map(function(t){return parseInt(t,10)}),2===r.dateMax.length&&r.dateMax.unshift(0),r.initBlocks()};n.prototype={initBlocks:function(){var t=this;t.datePattern.forEach(function(e){"Y"===e?t.blocks.push(4):t.blocks.push(2)})},getISOFormatDate:function(){var t=this,e=t.date;return e[2]?e[2]+"-"+t.addLeadingZero(e[1])+"-"+t.addLeadingZero(e[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(t){var e=this,n="";return t=t.replace(/[^\d]/g,""),e.blocks.forEach(function(r,i){if(t.length>0){var o=t.slice(0,r),s=o.slice(0,1),a=t.slice(r);switch(e.datePattern[i]){case"d":"00"===o?o="01":parseInt(s,10)>3?o="0"+s:parseInt(o,10)>31&&(o="31");break;case"m":"00"===o?o="01":parseInt(s,10)>1?o="0"+s:parseInt(o,10)>12&&(o="12")}n+=o,t=a}}),this.getFixedDateString(n)},getFixedDateString:function(t){var e,n,r,i=this,o=i.datePattern,s=[],a=0,u=0,l=0,c=0,p=0,f=0,h=!1;return 4===t.length&&"y"!==o[0].toLowerCase()&&"y"!==o[1].toLowerCase()&&(c="d"===o[0]?0:2,p=2-c,e=parseInt(t.slice(c,c+2),10),n=parseInt(t.slice(p,p+2),10),s=this.getFixedDate(e,n,0)),8===t.length&&(o.forEach(function(t,e){switch(t){case"d":a=e;break;case"m":u=e;break;default:l=e}}),f=2*l,c=a<=l?2*a:2*a+2,p=u<=l?2*u:2*u+2,e=parseInt(t.slice(c,c+2),10),n=parseInt(t.slice(p,p+2),10),r=parseInt(t.slice(f,f+4),10),h=4===t.slice(f,f+4).length,s=this.getFixedDate(e,n,r)),4!==t.length||"y"!==o[0]&&"y"!==o[1]||(p="m"===o[0]?0:2,f=2-p,n=parseInt(t.slice(p,p+2),10),r=parseInt(t.slice(f,f+2),10),h=2===t.slice(f,f+2).length,s=[0,n,r]),6!==t.length||"Y"!==o[0]&&"Y"!==o[1]||(p="m"===o[0]?0:4,f=2-.5*p,n=parseInt(t.slice(p,p+2),10),r=parseInt(t.slice(f,f+4),10),h=4===t.slice(f,f+4).length,s=[0,n,r]),s=i.getRangeFixedDate(s),i.date=s,0===s.length?t:o.reduce(function(t,e){switch(e){case"d":return t+(0===s[0]?"":i.addLeadingZero(s[0]));case"m":return t+(0===s[1]?"":i.addLeadingZero(s[1]));case"y":return t+(h?i.addLeadingZeroForYear(s[2],!1):"");case"Y":return t+(h?i.addLeadingZeroForYear(s[2],!0):"")}},"")},getRangeFixedDate:function(t){
var e=this,n=e.datePattern,r=e.dateMin||[],i=e.dateMax||[];return!t.length||r.length<3&&i.length<3?t:n.find(function(t){return"y"===t.toLowerCase()})&&0===t[2]?t:i.length&&(i[2]<t[2]||i[2]===t[2]&&(i[1]<t[1]||i[1]===t[1]&&i[0]<t[0]))?i:r.length&&(r[2]>t[2]||r[2]===t[2]&&(r[1]>t[1]||r[1]===t[1]&&r[0]>t[0]))?r:t},getFixedDate:function(t,e,n){return t=Math.min(t,31),e=Math.min(e,12),n=parseInt(n||0,10),(e<7&&e%2==0||e>8&&e%2==1)&&(t=Math.min(t,2===e?this.isLeapYear(n)?29:28:30)),[t,e,n]},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},addLeadingZero:function(t){return(t<10?"0":"")+t},addLeadingZeroForYear:function(t,e){return e?(t<10?"000":t<100?"00":t<1e3?"0":"")+t:(t<10?"0":"")+t}},t.exports=n},function(t,e){"use strict";var n=function(t,e){var n=this;n.time=[],n.blocks=[],n.timePattern=t,n.timeFormat=e,n.initBlocks()};n.prototype={initBlocks:function(){var t=this;t.timePattern.forEach(function(){t.blocks.push(2)})},getISOFormatTime:function(){var t=this,e=t.time;return e[2]?t.addLeadingZero(e[0])+":"+t.addLeadingZero(e[1])+":"+t.addLeadingZero(e[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){var t=this;return"12"===String(t.timeFormat)?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(t){var e=this,n="";t=t.replace(/[^\d]/g,"");var r=e.getTimeFormatOptions();return e.blocks.forEach(function(i,o){if(t.length>0){var s=t.slice(0,i),a=s.slice(0,1),u=t.slice(i);switch(e.timePattern[o]){case"h":parseInt(a,10)>r.maxHourFirstDigit?s="0"+a:parseInt(s,10)>r.maxHours&&(s=r.maxHours+"");break;case"m":case"s":parseInt(a,10)>r.maxMinutesFirstDigit?s="0"+a:parseInt(s,10)>r.maxMinutes&&(s=r.maxMinutes+"")}n+=s,t=u}}),this.getFixedTimeString(n)},getFixedTimeString:function(t){var e,n,r,i=this,o=i.timePattern,s=[],a=0,u=0,l=0,c=0,p=0,f=0;return 6===t.length&&(o.forEach(function(t,e){switch(t){case"s":a=2*e;break;case"m":u=2*e;break;case"h":l=2*e}}),f=l,p=u,c=a,e=parseInt(t.slice(c,c+2),10),n=parseInt(t.slice(p,p+2),10),r=parseInt(t.slice(f,f+2),10),s=this.getFixedTime(r,n,e)),4===t.length&&i.timePattern.indexOf("s")<0&&(o.forEach(function(t,e){switch(t){case"m":u=2*e;break;case"h":l=2*e}}),f=l,p=u,e=0,n=parseInt(t.slice(p,p+2),10),r=parseInt(t.slice(f,f+2),10),s=this.getFixedTime(r,n,e)),i.time=s,0===s.length?t:o.reduce(function(t,e){switch(e){case"s":return t+i.addLeadingZero(s[2]);case"m":return t+i.addLeadingZero(s[1]);case"h":return t+i.addLeadingZero(s[0])}},"")},getFixedTime:function(t,e,n){return n=Math.min(parseInt(n||0,10),60),e=Math.min(e,60),t=Math.min(t,60),[t,e,n]},addLeadingZero:function(t){return(t<10?"0":"")+t}},t.exports=n},function(t,e){"use strict";var n=function(t,e){var n=this;n.delimiter=e||""===e?e:" ",n.delimiterRE=e?new RegExp("\\"+e,"g"):"",n.formatter=t};n.prototype={setFormatter:function(t){this.formatter=t},format:function(t){var e=this;e.formatter.clear(),t=t.replace(/[^\d+]/g,""),t=t.replace(/^\+/,"B").replace(/\+/g,"").replace("B","+"),t=t.replace(e.delimiterRE,"");for(var n,r="",i=!1,o=0,s=t.length;o<s;o++)n=e.formatter.inputDigit(t.charAt(o)),/[\s()-]/g.test(n)?(r=n,i=!0):i||(r=n);return r=r.replace(/[()]/g,""),r=r.replace(/[\s-]/g,e.delimiter)}},t.exports=n},function(t,e){"use strict";var n={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(t){var e=t.reduce(function(t,e){return t+e},0);return t.concat(19-e)},getInfo:function(t,e){var r=n.blocks,i=n.re;e=!!e;for(var o in i)if(i[o].test(t)){var s=r[o];return{type:o,blocks:e?this.getStrictBlocks(s):s}}return{type:"unknown",blocks:e?this.getStrictBlocks(r.general):r.general}}};t.exports=n},function(t,e){"use strict";var n={noop:function(){},strip:function(t,e){return t.replace(e,"")},getPostDelimiter:function(t,e,n){if(0===n.length)return t.slice(-e.length)===e?e:"";var r="";return n.forEach(function(e){t.slice(-e.length)===e&&(r=e)}),r},getDelimiterREByDelimiter:function(t){return new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(t,e,n,r,i){return e.length===t?n.length:t+this.getPositionOffset(t,e,n,r,i)},getPositionOffset:function(t,e,n,r,i){var o,s,a;return o=this.stripDelimiters(e.slice(0,t),r,i),s=this.stripDelimiters(n.slice(0,t),r,i),a=o.length-s.length,0!==a?a/Math.abs(a):0},stripDelimiters:function(t,e,n){var r=this;if(0===n.length){var i=e?r.getDelimiterREByDelimiter(e):"";return t.replace(i,"")}return n.forEach(function(e){e.split("").forEach(function(e){t=t.replace(r.getDelimiterREByDelimiter(e),"")})}),t},headStr:function(t,e){return t.slice(0,e)},getMaxLength:function(t){return t.reduce(function(t,e){return t+e},0)},getPrefixStrippedValue:function(t,e,n,r,i,o,s,a,u){if(0===n)return t;if(t===e&&""!==t)return"";if(u&&"-"==t.slice(0,1)){var l="-"==r.slice(0,1)?r.slice(1):r;return"-"+this.getPrefixStrippedValue(t.slice(1),e,n,l,i,o,s,a,u)}if(r.slice(0,n)!==e&&!a)return s&&!r&&t?t:"";if(r.slice(-n)!==e&&a)return s&&!r&&t?t:"";var c=this.stripDelimiters(r,i,o);return t.slice(0,n)===e||a?t.slice(-n)!==e&&a?c.slice(0,-n-1):a?t.slice(0,-n):t.slice(n):c.slice(n)},getFirstDiffIndex:function(t,e){for(var n=0;t.charAt(n)===e.charAt(n);)if(""===t.charAt(n++))return-1;return n},getFormattedValue:function(t,e,n,r,i,o){var s="",a=i.length>0,u="";return 0===n?t:(e.forEach(function(e,l){if(t.length>0){var c=t.slice(0,e),p=t.slice(e);u=a?i[o?l-1:l]||u:r,o?(l>0&&(s+=u),s+=c):(s+=c,c.length===e&&l<n-1&&(s+=u)),t=p}}),s)},fixPrefixCursor:function(t,e,n,r){if(t){var i=t.value,o=n||r[0]||" ";if(t.setSelectionRange&&e&&!(e.length+o.length<=i.length)){var s=2*i.length;setTimeout(function(){t.setSelectionRange(s,s)},1)}}},checkFullSelection:function(t){try{return(window.getSelection()||document.getSelection()||{}).toString().length===t.length}catch(t){}return!1},setSelection:function(t,e,n){if(t===this.getActiveElement(n)&&!(t&&t.value.length<=e))if(t.createTextRange){var r=t.createTextRange();r.move("character",e),r.select()}else try{t.setSelectionRange(e,e)}catch(t){console.warn("The input element type does not support selection")}},getActiveElement:function(t){var e=t.activeElement;return e&&e.shadowRoot?this.getActiveElement(e.shadowRoot):e},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(t,e){return!!(this.isAndroid()&&t&&e)&&e===t.slice(0,-1)}};t.exports=n},function(t,e){(function(e){"use strict";var n={assign:function(t,n){return t=t||{},n=n||{},t.creditCard=!!n.creditCard,t.creditCardStrictMode=!!n.creditCardStrictMode,t.creditCardType="",t.onCreditCardTypeChanged=n.onCreditCardTypeChanged||function(){},t.phone=!!n.phone,t.phoneRegionCode=n.phoneRegionCode||"AU",t.phoneFormatter={},t.time=!!n.time,t.timePattern=n.timePattern||["h","m","s"],t.timeFormat=n.timeFormat||"24",t.timeFormatter={},t.date=!!n.date,t.datePattern=n.datePattern||["d","m","Y"],t.dateMin=n.dateMin||"",t.dateMax=n.dateMax||"",t.dateFormatter={},t.numeral=!!n.numeral,t.numeralIntegerScale=n.numeralIntegerScale>0?n.numeralIntegerScale:0,t.numeralDecimalScale=n.numeralDecimalScale>=0?n.numeralDecimalScale:2,t.numeralDecimalMark=n.numeralDecimalMark||".",t.numeralThousandsGroupStyle=n.numeralThousandsGroupStyle||"thousand",t.numeralPositiveOnly=!!n.numeralPositiveOnly,t.stripLeadingZeroes=!1!==n.stripLeadingZeroes,t.signBeforePrefix=!!n.signBeforePrefix,t.tailPrefix=!!n.tailPrefix,t.swapHiddenInput=!!n.swapHiddenInput,t.numericOnly=t.creditCard||t.date||!!n.numericOnly,t.uppercase=!!n.uppercase,t.lowercase=!!n.lowercase,t.prefix=t.creditCard||t.date?"":n.prefix||"",t.noImmediatePrefix=!!n.noImmediatePrefix,t.prefixLength=t.prefix.length,t.rawValueTrimPrefix=!!n.rawValueTrimPrefix,t.copyDelimiter=!!n.copyDelimiter,t.initValue=void 0!==n.initValue&&null!==n.initValue?n.initValue.toString():"",t.delimiter=n.delimiter||""===n.delimiter?n.delimiter:n.date?"/":n.time?":":n.numeral?",":(n.phone," "),t.delimiterLength=t.delimiter.length,t.delimiterLazyShow=!!n.delimiterLazyShow,t.delimiters=n.delimiters||[],t.blocks=n.blocks||[],t.blocksLength=t.blocks.length,t.root="object"==typeof e&&e?e:window,t.document=n.document||t.root.document,t.maxLength=0,t.backspace=!1,t.result="",t.onValueChanged=n.onValueChanged||function(){},t}};t.exports=n}).call(e,function(){return this}())}])}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/placeholder_supported",[],e):"object"==typeof module&&module.exports?module.exports=e():t.placeholderSupported=e()}(this,function(){return function(){return"placeholder"in document.createElement("input")}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/restrict_numeric",[],e):"object"==typeof module&&module.exports?module.exports=e():t.restrictNumeric=e()}(this,function(){return function(t){var e,n,r;return!(!t.metaKey&&!t.ctrlKey)||(0===t.which||(45===t.which||(37<=(e=t.which)&&e<=40||(96<=(n=t.which)&&n<=105||(t.which<33||(r=String.fromCharCode(t.which),/^\d+$/.test(r)?void 0:t.preventDefault()))))))}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/to_utc",[],e):"object"==typeof module&&module.exports?module.exports=e():t.toUTC=e()}(this,function(){return function(t){if(t||(t=new Date),"Invalid Date"!==t.toString())return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))}});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/date_time",["require","underscore","cleave","../question_form","sp/utilities/placeholder_supported","sp/utilities/restrict_numeric","sp/utilities/to_utc"],function(t){var e,n,r,i,o,s;return r=t("underscore"),e=t("cleave"),n=t("../question_form"),i=t("sp/utilities/placeholder_supported"),o=t("sp/utilities/restrict_numeric"),s=t("sp/utilities/to_utc"),function(t){function a(){return this.ampmChangeKeyupHandler=bind(this.ampmChangeKeyupHandler,this),this.minutesInputKeyupHandler=bind(this.minutesInputKeyupHandler,this),this.hoursInputKeyupHandler=bind(this.hoursInputKeyupHandler,this),this.dateInputKeyupHandler=bind(this.dateInputKeyupHandler,this),this.setCurrentTimeButtonClickHander=bind(this.setCurrentTimeButtonClickHander,this),a.__super__.constructor.apply(this,arguments)}return extend(a,t),a.prototype.tagName="ul",a.prototype.className="date-time-container",a.prototype.events={"click .set-current-time-button":"setCurrentTimeButtonClickHander"},a.prototype.$triggerBtn=null,a.prototype.$date=null,a.prototype.$hours=null,a.prototype.$minutes=null,a.prototype.$ampm=null,a.prototype.initialize=function(t){return this.values=[],this.model.get("properties")&&null!=this.model.get("properties").date&&null!=this.model.get("properties").time||(this.model.get("properties").date=!0),a.__super__.initialize.call(this,t)},a.prototype.render=function(){var t,e,n,r;return a.__super__.render.call(this),this.values.length&&(e=new Date(this.values[0]),r=e.getTimezoneOffset(),e.setMinutes(e.getMinutes()+r),this.values=[e]),this.model.get("properties").time&&!this.model.get("properties").date?(this.renderTimeInput(),n=this.definitions.currentTime||"Set Current Time"):this.model.get("properties").date&&!this.model.get("properties").time?(this.renderDateInput().css({width:"100%",float:"none"}),n=this.definitions.currentDate||"Set Current Date"):(this.renderDateInput(),this.renderTimeInput(),n=this.definitions.currentDatetime||"Set Current Date & Time"),t=$("<a>").text(n).attr({href:"#",class:"set-current-time-button"}),$("<li>").addClass("current-time").appendTo(this.el).append(t),this.el},a.prototype.renderDateInput=function(){var t,n;return n="MM / DD / YYYY",t=$("<li>").appendTo(this.el).addClass("date-inputs"),this.$date=$("<input>").attr({class:"date-input",type:"text",placeholder:n,"aria-labelledby":"question-title-"+this.model.get("_id")}).prop("required",this.model.get("required")||!1).appendTo(t).keyup(this.dateInputKeyupHandler),i()||t.prepend($("<label>").text(n).addClass("date-label")),new e(this.$date[0],{date:!0,datePattern:["m","d","Y"]}),t},a.prototype.renderTimeInput=function(){var t,e;return e=$("<li>").appendTo(this.el).addClass("time-inputs"),i()||e.append($("<label>").text("Hour : Minutes").addClass("time-label")),this.$hours=$("<input>").attr({class:"hours-input",type:"number",min:1,max:12,placeholder:"Hour","aria-labelledby":"question-title-"+this.model.get("_id")}).prop("required",this.model.get("required")||!1).appendTo(e).keydown(o).keyup(this.hoursInputKeyupHandler),e.append($("<div>").text(":").addClass("time-separator")),this.$minutes=$("<input>").attr({class:"minutes-input",type:"number",min:1,max:59,placeholder:"Minutes","aria-labelledby":"question-title-"+this.model.get("_id")}).prop("required",this.model.get("required")||!1).appendTo(e).keydown(o).keyup(this.minutesInputKeyupHandler),t=$("<input>").attr({title:"AM/PM",type:"checkbox","aria-labelledby":"question-title-"+this.model.get("_id")}).change(this.ampmChangeKeyupHandler),this.$ampm=$("<label>").addClass("ampm-switch").append(t).append($("<div>").addClass("toggle-button")).appendTo(e),e},a.prototype.update=function(){var t,e,r;return t=new Date(0,0,0),this.$date&&this.$date.length&&(r=this.$date.val().split("/"),t=new Date(r[2],r[0]-1,r[1],0,0,0)),this.$hours&&this.$hours.length&&(e=Number(this.$hours.val()),this.$ampm.find("input").prop("checked")&&e<12?t.setHours(e+12):t.setHours(e)),this.$minutes&&this.$minutes.length&&t.setMinutes(this.$minutes.val()),this.values[0]=s(t),this.trigger(n.UPDATE_EVENT,this)},a.prototype.setValues=function(t){var e,n,i;if(r.isArray(t)&&t[0]&&"Invalid Date"!==t[0].toString())return e=new Date(t[0]),this.model.get("properties").date&&this.$date&&this.$date.val(e.getMonth()+1+" / "+e.getDate()+" / "+e.getFullYear()),this.model.get("properties").time&&(this.$hours&&(n=e.getHours(),this.$ampm.find("input").prop("checked",n>12),n>12&&(n-=12),this.$hours.val(n)),this.$minutes&&(i=e.getMinutes(),i<10&&(i="0"+i),this.$minutes.val(i))),this.update()},a.prototype.setCurrentTimeButtonClickHander=function(t){return t.preventDefault(),this.setValues([new Date])},a.prototype.dateInputKeyupHandler=function(t){if(t.target.value)return this.update()},a.prototype.hoursInputKeyupHandler=function(t){if($.isNumeric(t.target.value))return t.target.value>12&&(t.target.value=12),this.update()},a.prototype.minutesInputKeyupHandler=function(t){if($.isNumeric(t.target.value)&&(t.target.value>59&&(t.target.value=59),$.isNumeric(this.$hours.val())))return this.update()},a.prototype.ampmChangeKeyupHandler=function(t){if($.isNumeric(this.$minutes.val())&&$.isNumeric(this.$hours.val()))return this.update()},a}(n)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/essay",["require","underscore","../question_form"],function(t){var e,n;return n=t("underscore"),e=t("../question_form"),function(t){function r(){return this.textareaKeyupHandler=bind(this.textareaKeyupHandler,this),this.textareaKeypressHandler=bind(this.textareaKeypressHandler,this),r.__super__.constructor.apply(this,arguments)}return extend(r,t),r.prototype.tagName="div",r.prototype.$textarea=null,r.prototype.initialize=function(t){return r.__super__.initialize.call(this,t)},r.prototype.render=function(){var t;return r.__super__.render.call(this),this.$textarea=$("<textarea>").appendTo(this.el).attr({name:this.model.get("_id"),id:this.model.get("_id"),maxlength:this.model.get("properties").max?this.model.get("properties").max:void 0,"aria-labelledby":"question-title-"+this.model.get("_id")}).prop("required",this.model.get("required")).change(this.textareaKeyupHandler).keyup(this.textareaKeyupHandler).keypress(this.textareaKeypressHandler),t=$("<ul>").addClass("essay-info"),this.$minText=$('<li title="You must have at least '+this.model.get("properties").min+' characters">').addClass("minimum").appendTo(t),this.$maxText=$('<li title="You can have no more than '+this.model.get("properties").max+' characters">').addClass("maximum").appendTo(t),this.setMaxText(this.model.get("properties").max),this.setMinText(this.model.get("properties").min),this.$el.append(t),this.el},r.prototype.setValues=function(t){if(null==t&&(t=this.values),n.isArray(t)||t.length&&(n.isString(t[0])||n.isNumber(t[0])))return this.$textarea.val(t[0]).trigger("keyup")},r.prototype.setMaxText=function(t){var e;if(null!=t&&(e=this.definitions.essayMax||"Characters Remaining",this.model.get("properties").max&&this.model.get("properties").max>0))return this.$maxText.html(e+": <span>"+t+"</span>")},r.prototype.setMinText=function(t){var e;if(null!=t&&(e=this.definitions.essayMin||"Characters Needed",this.model.get("properties").min&&this.model.get("properties").min>0))return this.$minText.html(e+": <span>"+t+"</span>")},r.prototype.textareaKeypressHandler=function(t){var e;if(e=t.target.value.length,null!=this.model.get("properties").max&&e>this.model.get("properties").max)return t.stopPropagation()},r.prototype.textareaKeyupHandler=function(t){var n,r,i,o,s;return n=$(t.target),s=n.val(),s&&s.length&&(s=s.trim()),o=s.length,r=this.model.get("properties").min-o,i=this.model.get("properties").max-o,this.setMinText(r<=0?0:r),this.setMaxText(i<=0?0:i),s&&s.length?this.values=[s]:this.values=[],this.trigger(e.UPDATE_EVENT,this)},r}(e)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/form",["require","underscore","../question_form"],function(t){var e,n;return n=t("underscore"),e=t("../question_form"),function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return extend(r,t),r.prototype.tagName="ul",r.prototype.initialize=function(t){return r.__super__.initialize.call(this,t)},r.prototype.render=function(){return r.__super__.render.call(this),this.$el.attr({role:"group","aria-labelledby":"question-title-"+this.model.get("_id")}),n.each(this.model.get("properties").labels,function(t){return function(r,i){var o,s;return s=t.model.get("_id")+"-"+i,o=$("<li>"),$("<label>").appendTo(o).attr({for:s}).html(n.escape(r)),$("<input>").appendTo(o).attr({type:"text",name:s,id:s}).prop("required",t.model.get("required")||!1).change(function(n){return t.getValues(),t.trigger(e.UPDATE_EVENT,t)}),t.$el.append(o)}}(this)),this.model.get("properties").random&&this.randomize(),this.el},r.prototype.setValues=function(t){if(null==t&&(t=this.values),n.isArray(t)||t.length)return t.forEach(function(t){return function(e,n){return t.$el.find("label").filter(function(){return $(this).text()===e.label}).siblings("input").first().val(e.value).trigger("change")}}(this))},r.prototype.getValues=function(){return this.values=[],n.each(this.model.get("properties").labels,function(t){return function(e,n){var r,i,o;if(i=t.model.get("_id")+"-"+n,r=t.$el.find("input#"+i),(o=r.val())&&o.length)return t.values.push({label:e,value:o})}}(this)),n.isEmpty(this.values)&&(this.values=null),this.values},r}(e)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/check_radio",["require","underscore","backbone"],function(t){var e,n;return n=t("underscore"),e=t("backbone").View,function(t){function e(){return this.inputChangeHandler=bind(this.inputChangeHandler,this),this.destroy=bind(this.destroy,this),this.enable=bind(this.enable,this),this.disable=bind(this.disable,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.tagName="label",e.prototype.label=null,e.prototype.type="checkbox",e.prototype.attr={},e.prototype.checked=!1,e.prototype.required=!1,e.prototype.small=!1,e.prototype.prependLabel=!1,e.prototype.initialize=function(t,e,r){return this.type=null!=t?t:"checkbox",this.label=e,this.attr=null!=r?r:{},n.isNumber(this.type)&&(this.type=1===this.type?"checkbox":"radio"),this.attr.type=this.type,null!=this.attr.checked&&(this.checked=this.attr.checked,delete this.attr.checked),null!=this.attr.required&&(this.required=!0,delete this.attr.required),null!=this.attr.small&&(this.small=this.attr.small,delete this.attr.small),null!=this.attr.prependLabel&&(this.prependLabel=this.attr.prependLabel,delete this.attr.prependLabel),!this.attr.id&&this.label&&(this.attr.id=n.slugify(this.label)),null==this.attr.value&&(this.attr.value=this.attr.id),this},e.prototype.render=function(t){var e,r,i;return null==t&&(t=!0),this.$el.empty().addClass(this.type).attr("for",this.attr.id),this.small&&this.$el.addClass("small"),r=$("<input>").attr(this.attr).change(this.inputChangeHandler),this.checked&&r.prop("checked",!0),this.required&&r.prop("required",!0),e=$("<div>").addClass(this.type+"-button"),i=$("<span>").addClass("label").attr("id","label-"+this.attr.id),i.html(t?n.escape(this.label):this.label),this.$el.append([r,e]),this.prependLabel?this.$el.prepend(i):this.$el.append(i),this.$el},e.prototype.disable=function(){return this.$el.find("input").attr("disable")},e.prototype.enable=function(){return this.$el.find("input").removeAttr("disable")},e.prototype.destroy=function(){return this.$el.remove()},e.prototype.inputChangeHandler=function(t){return this.trigger("click",t)},e}(e)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/multiple_choice",["require","underscore","../question_form","../../check_radio"],function(t){var e,n,r;return r=t("underscore"),n=t("../question_form"),e=t("../../check_radio"),function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return extend(i,t),i.prototype.tagName="ul",i.prototype.initialize=function(t){return i.__super__.initialize.call(this,t)},i.prototype.render=function(){var t;return i.__super__.render.call(this),"dropdown"===this.model.get("properties").layout?(t=this.getSelect(),r.each(this.model.get("properties").labels,function(e){return function(n){return t.find("select").append(e.getSelectOption(n))}}(this)),this.$el.html(t)):(this.$el.attr({role:"group","aria-labelledby":"question-title-"+this.model.get("_id")}),r.each(this.model.get("properties").labels,function(t){return function(e,n){return t.$el.append(t.getChoice(e,n))}}(this)),this.model.get("properties").random&&this.randomize(),this.model.get("properties").layout&&this.setLayout()),this.model.get("properties").other&&this.$el.append(this.getWriteInChoice()),this.el},i.prototype.getWriteInChoice=function(){var t,e,i,o;return e=this.getChoice(this.model.get("properties").other,"write-in-option").addClass("write-in"),i=$("<input>").attr({type:"text",name:this.model.get("_id")+"[write-in]",id:this.model.get("_id")+"[write-in]","aria-labelledby":"label-"+this.model.get("_id")+"[write-in-option]"}),t=e.find("input").addClass("write-in-checkbox").click(function(){return i.focus()}),o={label:this.model.get("properties").other,value:!1},i.keyup(function(e){return function(s){var a;return o.value=s.target.value,o.value.length?(t.prop("checked","checked").trigger("change"),i.val(o.value)):o.value=!0,a=r.find(e.values,{label:o.label}),a?a.value=o.value:e.values.push(o),e.trigger(n.UPDATE_EVENT,e)}}(this)),e.append(i)},i.prototype.getChoice=function(t,i){var o,s,a,u;return"dropdown"===this.model.get("properties").layout?this.getSelectOption(t):(t=r.escape(t),a=this.model.get("_id")+"["+i+"]",s=$("<li>").addClass("question-item"),u=this.model.get("properties").multi?"checkbox":"radio",o=new e(u,t,{name:this.model.get("_id")||"temporary",id:a,value:t,required:this.model.get("required")||!1}).render(!1),o.change(function(t){return function(e){return t.values=[],t.$el.find("input:checked").each(function(e,n){var i,o,s;return i=$(n),o=!0,i.hasClass("write-in-checkbox")&&(s=i.closest("li").find("input[type=text]").val(),s.length&&(o=s)),t.values.push({label:r.unescape(i.attr("value")),value:o})}),t.trigger(n.UPDATE_EVENT,t)}}(this)),s.prepend(o))},i.prototype.getSelect=function(t,e){var r,i,o;return o=""+this.model.get("_id"),r=$("<li>"),i=$("<select>").attr({id:o}).change(function(t){return function(e){return e.target.value&&e.target.value.length?t.values=[{label:e.target.value,value:!0}]:t.values=[],t.trigger(n.UPDATE_EVENT,t)}}(this)),i.append($("<option>").attr({value:""}).text("")),r.prepend(i)},i.prototype.getSelectOption=function(t){return $("<option>").attr({value:t}).text(t)},i.prototype.setValues=function(t){if(null==t&&(t=this.values),r.isArray(t)&&t.length)return"dropdown"===this.model.get("properties").layout?this.$el.find("select").val(t[0].label):t.forEach(function(t){return function(e){var n;if(n=t.$el.find(".label").filter(function(){return $(this).text()===e.label}).siblings("input").first().prop("checked",e.value).trigger("change"),n.length&&n[0].id.match(/write-in/)&&r.isString(e.value))return t.$el.find("li.write-in").find('input[type="text"]').val(e.value).trigger("keyup")}}(this))},i}(n)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/image",["require","underscore","./multiple_choice","../question_form","../../check_radio","transform_image"],function(t){var e,n,r,i,o;return i=t("underscore"),n=t("./multiple_choice"),r=t("../question_form"),e=t("../../check_radio"),o=t("transform_image"),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.SIZE_LARGE=[450,325],n.SIZE_MEDIUM=[200,150],n.SIZE_SMALL=[100,75],n.prototype.initialize=function(t){return n.__super__.initialize.call(this,t)},n.prototype.render=function(){var t;return this.$el.empty(),i.each(this.model.get("properties").labels,function(t){return function(e,n){return t.$el.append(t.getChoice(e,n))}}(this)),this.model.get("properties").random&&this.randomize(),this.model.get("properties").size&&(t=function(t,e){if(e)return(e.match(/(^|\s)image-size-\S+/g)||[]).join(" ")},this.$el.removeClass(t).addClass("image-size-"+this.model.get("properties").size)),this.$el.hasClass("hide-captions")&&this.$el.removeClass("hide-captions"),this.model.get("properties").hideCaptions&&this.$el.addClass("hide-captions"),this.el},n.prototype.getChoice=function(t,s){var a,u,l,c,p,f,h,d,g;return d=function(){switch(this.model.get("properties").size){case"large":return{w:n.SIZE_LARGE[0],h:n.SIZE_LARGE[1]};case"small":return{w:n.SIZE_SMALL[0],h:n.SIZE_SMALL[1]};default:return{w:n.SIZE_MEDIUM[0],h:n.SIZE_MEDIUM[1]}}}.call(this),h=o(t.image,{resize:{width:d.w,height:d.h,fit:"contain",dpr:2,background:{r:255,g:255,b:255,alpha:1}}}),l=$("<img>").attr({src:h,width:d.w,height:d.h,alt:this.model.get("properties").hideCaptions?$("<span>").html(t.label).text():""}),a=$("<figcaption>").text(t.label),u=$("<figure>").append([l,a]),f=this.model.get("_id")+"["+s+"]",p=$("<li>").addClass("clearfix"),g=this.model.get("properties").multi?"checkbox":"radio",c=new e(g,u,{name:this.model.get("_id")||"temporary",id:f,value:t.image,required:this.model.get("required")||!1}).render(!1).css({width:d.w+20}),c.change(function(t){return function(e){return t.$el.find("label").removeClass("checked"),t.values=[],t.$el.find("input:checked").each(function(e,n){var r,o;if(r=$(n),r.closest("label").addClass("checked"),o=i.find(t.model.get("properties").labels,{image:r.attr("value")}))return t.values.push({label:o.label,value:o.image})}),t.trigger(r.UPDATE_EVENT,t)}}(this)),p.prepend(c)},n}(n)}),function(t){"function"==typeof define&&define.amd?define("nouislider",[],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function e(t,e){return Math.round(t/e)*e}function n(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,i=p();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-r.clientTop,left:e.left+i.x-r.clientLeft}}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){u(t,e),setTimeout(function(){l(t,e)},n)}function o(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function a(t){var e=t.split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function p(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return{x:t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function h(t,e){return 100/(e-t)}function d(t,e){return 100*e/(t[1]-t[0])}function g(t,e){return d(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function m(t,e){return e*(t[1]-t[0])/100+t[0]}function v(t,e){for(var n=1;t>=e[n];)n+=1;return n}function y(t,e,n){if(n>=t.slice(-1)[0])return 100;var r,i,o,s,a=v(n,t);return r=t[a-1],i=t[a],o=e[a-1],s=e[a],o+g([r,i],n)/h(o,s)}function b(t,e,n){if(n>=100)return t.slice(-1)[0];var r,i,o,s,a=v(n,e);return r=t[a-1],i=t[a],o=e[a-1],s=e[a],m([r,i],(n-o)*h(o,s))}function _(t,n,r,i){if(100===i)return i;var o,s,a=v(i,t);return r?(o=t[a-1],s=t[a],i-o>(s-o)/2?s:o):n[a-1]?t[a-1]+e(i-t[a-1],n[a-1]):i}function w(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!r(i)||!r(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function x(t,e,n){if(!e)return!0;n.xSteps[t]=d([n.xVal[t],n.xVal[t+1]],e)/h(n.xPct[t],n.xPct[t+1])}function E(t,e,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push([t[i],i]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(t,e){return t[0][0]-e[0][0]}):o.sort(function(t,e){
return t[0]-e[0]}),i=0;i<o.length;i++)w(o[i][1],o[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)x(i,this.xNumSteps[i],this)}function k(t,e){if(!r(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function C(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new E(e,t.snap,t.dir,t.singleStep)}function S(t,e){if(e=s(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function T(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function A(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function D(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function q(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else{if(!1!==e)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function O(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function L(t,e){if(!r(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function j(t,e){if(!r(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function P(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(r&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:s}}function N(t,e){var n;if(!1!==e)if(!0===e)for(t.tooltips=[],n=0;n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function $(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function I(t,e){if(void 0!==e&&"string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function B(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function H(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:z};e={step:{r:!1,t:k},start:{r:!0,t:S},connect:{r:!0,t:q},direction:{r:!0,t:P},snap:{r:!1,t:T},animate:{r:!1,t:A},animationDuration:{r:!1,t:D},range:{r:!0,t:C},orientation:{r:!1,t:O},margin:{r:!1,t:L},limit:{r:!1,t:j},behaviour:{r:!0,t:R},format:{r:!1,t:$},tooltips:{r:!1,t:N},cssPrefix:{r:!1,t:I},cssClasses:{r:!1,t:B}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach(function(i){if(void 0===t[i]&&void 0===r[i]){if(e[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}e[i].t(n,void 0===t[i]?r[i]:t[i])}),n.pips=t.pips,n.style=n.ort?"top":"left",n}function F(e,r,h){function d(t,e,n){var r=t+e[0],i=t+e[1];return n?(r<0&&(i+=Math.abs(r)),i>100&&(r-=i-100),[o(r),o(i)]):[r,i]}function g(t,e){t.preventDefault();var n,r,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),i&&(n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY),e=e||p(),(o||s)&&(n=t.clientX+e.x,r=t.clientY+e.y),a.pageOffset=e,a.points=[n,r],a.cursor=o||s,a}function m(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=[r.cssClasses.handleLower,r.cssClasses.handleUpper];return t&&o.reverse(),u(i,r.cssClasses.handle),u(i,o[e]),u(n,r.cssClasses.origin),n.appendChild(i),n}function v(t,e){if(!r.tooltips[e])return!1;var n=document.createElement("div");return n.className=r.cssClasses.tooltip,t.firstChild.appendChild(n)}function y(t,e,n){if("range"===t||"steps"===t)return Y.xVal;if("count"===t){var r,i=100/(e-1),o=0;for(e=[];(r=o++*i)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return Y.fromStepping(n?Y.getStep(t):t)}):"values"===t?n?e.map(function(t){return Y.fromStepping(Y.getStep(Y.toStepping(t)))}):e:void 0}function b(e,n,r){function i(t,e){return(t+e).toFixed(7)/1}var o=Y.direction,s={},a=Y.xVal[0],u=Y.xVal[Y.xVal.length-1],l=!1,c=!1,p=0;return Y.direction=0,r=t(r.slice().sort(function(t,e){return t-e})),r[0]!==a&&(r.unshift(a),l=!0),r[r.length-1]!==u&&(r.push(u),c=!0),r.forEach(function(t,o){var a,u,f,h,d,g,m,v,y,b,_=t,w=r[o+1];if("steps"===n&&(a=Y.xNumSteps[o]),a||(a=w-_),!1!==_&&void 0!==w)for(u=_;u<=w;u=i(u,a)){for(h=Y.toStepping(u),d=h-p,v=d/e,y=Math.round(v),b=d/y,f=1;f<=y;f+=1)g=p+f*b,s[g.toFixed(5)]=["x",0];m=r.indexOf(u)>-1?1:"steps"===n?2:0,!o&&l&&(m=0),u===w&&c||(s[h.toFixed(5)]=[u,m]),p=h}}),Y.direction=o,s}function _(t,e,n){function i(t,e){var n=e===r.cssClasses.value,i=n?f:h,o=n?c:p;return e+" "+i[r.ort]+" "+o[t]}function o(t,e,n){return'class="'+i(n[1],e)+'" style="'+r.style+": "+t+'%"'}function s(t,i){Y.direction&&(t=100-t),i[1]=i[1]&&e?e(i[0],i[1]):i[1],l+="<div "+o(t,r.cssClasses.marker,i)+"></div>",i[1]&&(l+="<div "+o(t,r.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}var a=document.createElement("div"),l="",c=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],p=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],f=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return u(a,r.cssClasses.pips),u(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){s(e,t[e])}),a.innerHTML=l,a}function w(t){var e=t.mode,n=t.density||1,r=t.filter||!1,i=t.values||!1,o=t.stepped||!1,s=y(e,i,o),a=b(n,e,s),u=t.format||{to:Math.round};return W.appendChild(_(a,r,u))}function x(){var t=M.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||M[e]:t.height||M[e]}function E(t,e,n){var i;for(i=0;i<r.handles;i++)if(-1===X[i])return;void 0!==e&&1!==r.handles&&(e=Math.abs(e-r.dir)),Object.keys(G).forEach(function(r){var i=r.split(".")[0];t===i&&G[r].forEach(function(t){t.call(U,s(R()),e,s(k(Array.prototype.slice.call(K))),n||!1,X)})})}function k(t){return 1===t.length?t[0]:r.dir?t.reverse():t}function C(t,e,n,i){var o=function(e){return!W.hasAttribute("disabled")&&(!c(W,r.cssClasses.tap)&&(e=g(e,i.pageOffset),!(t===V.start&&void 0!==e.buttons&&e.buttons>1)&&((!i.hover||!e.buttons)&&(e.calcPoint=e.points[r.ort],void n(e,i)))))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!1),s.push([t,o])}),s}function S(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return T(t,e);var n,r,i=e.handles||z,o=!1,s=100*(t.calcPoint-e.start)/e.baseSize,a=i[0]===z[0]?0:1;if(n=d(s,e.positions,i.length>1),o=L(i[0],n[a],1===i.length),i.length>1){if(o=L(i[1],n[a?0:1],!1)||o)for(r=0;r<e.handles.length;r++)E("slide",r)}else o&&E("slide",a)}function T(t,e){var n=M.querySelector("."+r.cssClasses.active),i=e.handles[0]===z[0]?0:1;null!==n&&l(n,r.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(t){o.removeEventListener(t[0],t[1])}),l(W,r.cssClasses.drag),E("set",i),E("change",i),void 0!==e.handleNumber&&E("end",e.handleNumber)}function A(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&T(t,e)}function D(t,e){var n=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;u(e.handles[0].children[0],r.cssClasses.active)}t.preventDefault(),t.stopPropagation();var i=C(V.move,n,S,{start:t.calcPoint,baseSize:x(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[X[0],X[z.length-1]]}),o=C(V.end,n,T,{handles:e.handles,handleNumber:e.handleNumber}),s=C("mouseout",n,A,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(o,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,z.length>1&&u(W,r.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==e.handleNumber&&E("start",e.handleNumber)}function q(t){var e,o,s=t.calcPoint,a=0;if(t.stopPropagation(),z.forEach(function(t){a+=n(t)[r.style]}),e=s<a/2||1===z.length?0:1,z[e].hasAttribute("disabled")&&(e=e?0:1),s-=n(M)[r.style],o=100*s/x(),r.events.snap||i(W,r.cssClasses.tap,r.animationDuration),z[e].hasAttribute("disabled"))return!1;L(z[e],o),E("slide",e,!0),E("set",e,!0),E("change",e,!0),r.events.snap&&D(t,{handles:[z[e]]})}function O(t){var e=t.calcPoint-n(M)[r.style],i=Y.getStep(100*e/x()),o=Y.fromStepping(i);Object.keys(G).forEach(function(t){"hover"===t.split(".")[0]&&G[t].forEach(function(t){t.call(U,o)})})}function L(t,e,n){var i=t!==z[0]?1:0,s=X[0]+r.margin,a=X[1]-r.margin,c=X[0]+r.limit,p=X[1]-r.limit;return z.length>1&&(e=i?Math.max(e,s):Math.min(e,a)),!1!==n&&r.limit&&z.length>1&&(e=i?Math.min(e,c):Math.max(e,p)),e=Y.getStep(e),(e=o(e))!==X[i]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[r.style]=e+"%"}):t.style[r.style]=e+"%",t.previousSibling||(l(t,r.cssClasses.stacking),e>50&&u(t,r.cssClasses.stacking)),X[i]=e,K[i]=Y.fromStepping(e),E("update",i),!0)}function j(t,e){var n,i,o;for(r.limit&&(t+=1),n=0;n<t;n+=1)i=n%2,null!==(o=e[i])&&!1!==o&&("number"==typeof o&&(o=String(o)),(!1===(o=r.format.from(o))||isNaN(o)||!1===L(z[i],Y.toStepping(o),n===3-r.dir))&&E("update",i))}function P(t,e){var n,o,a=s(t);for(e=void 0===e||!!e,r.dir&&r.handles>1&&a.reverse(),r.animate&&-1!==X[0]&&i(W,r.cssClasses.tap,r.animationDuration),n=z.length>1?3:1,1===a.length&&(n=1),j(n,a),o=0;o<z.length;o++)null!==a[o]&&e&&E("set",o)}function R(){var t,e=[];for(t=0;t<r.handles;t+=1)e[t]=r.format.to(K[t]);return k(e)}function N(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&l(W,r.cssClasses[t]);for(;W.firstChild;)W.removeChild(W.firstChild);delete W.noUiSlider}function $(){return k(X.map(function(t,e){var n=Y.getApplicableStep(t),r=a(String(n[2])),i=K[e],o=100===t?null:n[2],s=Number((i-n[2]).toFixed(r));return[0===t?null:s>=n[1]?n[2]:n[0]||!1,o]}))}function I(t,e){G[t]=G[t]||[],G[t].push(e),"update"===t.split(".")[0]&&z.forEach(function(t,e){E("update",e)})}function B(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(G).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete G[t]})}function F(t,e){var n=R(),i=H({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?r.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?r.snap:t.snap});["margin","limit","range","animate"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),i.spectrum.direction=Y.direction,Y=i.spectrum,X=[-1,-1],P(t.start||n,e)}var M,z,U,V=f(),W=e,X=[-1,-1],Y=r.spectrum,K=[],G={};if(W.noUiSlider)throw new Error("Slider was already initialized.");return M=function(t,e,n){u(n,r.cssClasses.target),0===t?u(n,r.cssClasses.ltr):u(n,r.cssClasses.rtl),0===e?u(n,r.cssClasses.horizontal):u(n,r.cssClasses.vertical);var i=document.createElement("div");return u(i,r.cssClasses.base),n.appendChild(i),i}(r.dir,r.ort,W),z=function(t,e,n){var r,i=[];for(r=0;r<t;r+=1)i.push(n.appendChild(m(e,r)));return i}(r.handles,r.dir,M),function(t,e,n){switch(t){case 1:u(e,r.cssClasses.connect),u(n[0],r.cssClasses.background);break;case 3:u(n[1],r.cssClasses.background);case 2:u(n[0],r.cssClasses.connect);case 0:u(e,r.cssClasses.background)}}(r.connect,W,z),r.pips&&w(r.pips),r.tooltips&&function(){r.dir&&r.tooltips.reverse();var t=z.map(v);r.dir&&(t.reverse(),r.tooltips.reverse()),I("update",function(e,n,i){t[n]&&(t[n].innerHTML=!0===r.tooltips[n]?e[n]:r.tooltips[n].to(i[n]))})}(),U={destroy:N,steps:$,on:I,off:B,get:R,set:P,updateOptions:F,options:h,target:W,pips:w},function(t){if(t.fixed||z.forEach(function(t,e){C(V.start,t.children[0],D,{handles:[t],handleNumber:e})}),t.tap&&C(V.start,M,q,{handles:z}),t.hover&&C(V.move,M,O,{hover:!0}),t.drag){var e=[M.querySelector("."+r.cssClasses.connect)];u(e[0],r.cssClasses.draggable),t.fixed&&e.push(z[e[0]===z[0]?1:0].children[0]),e.forEach(function(t){C(V.start,t,D,{handles:z})})}}(r.events),U}function M(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=H(e,t),r=F(t,n,e);return r.set(n.start),t.noUiSlider=r,r}E.prototype.getMargin=function(t){return 2===this.xPct.length&&d(this.xVal,t)},E.prototype.toStepping=function(t){return t=y(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},E.prototype.fromStepping=function(t){return this.direction&&(t=100-t),b(this.xVal,this.xPct,t)},E.prototype.getStep=function(t){return this.direction&&(t=100-t),t=_(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},E.prototype.getApplicableStep=function(t){var e=v(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},E.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var z={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:M}});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/scale",["require","underscore","nouislider","../question_form","sp/utilities/restrict_numeric"],function(t){var e,n,r;return t("underscore"),n=t("nouislider"),e=t("../question_form"),r=t("sp/utilities/restrict_numeric"),function(t){function i(){return this.sliderSlideHandler=bind(this.sliderSlideHandler,this),this.minInputKeyupHandler=bind(this.minInputKeyupHandler,this),this.minInputChangeHandler=bind(this.minInputChangeHandler,this),i.__super__.constructor.apply(this,arguments)}return extend(i,t),i.prototype.tagName="ul",i.prototype.className="scale-container",i.prototype.$slider=null,i.prototype.range=!1,i.prototype.defaultMin=0,i.prototype.defaultMax=10,i.prototype.initialize=function(t){return i.__super__.initialize.call(this,t)},i.prototype.render=function(){var t,e;return i.__super__.render.call(this),this.range="range"===this.model.get("type"),null!=this.model.get("properties").min&&(this.defaultMin=Number(this.model.get("properties").min)),null!=this.model.get("properties").max&&(this.defaultMax=Number(this.model.get("properties").max)),this.defaultMin>=this.defaultMax&&(this.defaultMin=this.defaultMax-1),this.$slider=$("<div>").addClass("slider").empty().appendTo($("<li>").appendTo(this.el)),n.create(this.$slider[0],{step:1,connect:!!this.range||"lower",start:this.range?[this.defaultMin,this.defaultMax]:this.defaultMin,range:{min:this.defaultMin,max:this.defaultMax},cssPrefix:"sp-slider-"}),e=this.definitions.scaleMin||"Value",t=$("<label>").attr({for:"min-value["+this.model.get("_id")+"]",class:"min-value-label"}).text(e),this.$minInput=$("<input>").appendTo(this.$el).attr({type:"number",name:"min-value["+this.model.get("_id")+"]",id:"min-value["+this.model.get("_id")+"]",class:"min-value",min:this.defaultMin,max:this.defaultMax+1,"aria-labelledby":"question-title-"+this.model.get("_id")}).prop("required",this.model.get("required")||!1).val(this.values[0]),$("<li>").addClass("min-value-container").append([t,this.$minInput]).appendTo(this.el),this.initListeners(),this.$el},i.prototype.setMinValue=function(t){if($.isNumeric(t)||(t=this.model.get("properties").min),$.isNumeric(t))return this.values[0]=Number(t),this.$minInput.val(this.values[0])},i.prototype.setMaxValue=function(t){if($.isNumeric(t)||(t=this.model.get("properties").max),$.isNumeric(t))return this.values[1]=Number(t),this.$maxInput.val(this.values[1])},i.prototype.setValues=function(t,n){return null==t&&(t=[]),null==n&&(n=!0),t.length&&null!=t[0]&&this.setMinValue(t[0]),t.length>1&&null!=t[1]&&this.setMaxValue(t[1]),n&&this.$slider[0].noUiSlider.set(this.values[0]),this.trigger(e.UPDATE_EVENT,this)},i.prototype.minInputChangeHandler=function(t){return this.setValues([t.target.value])},i.prototype.minInputKeyupHandler=function(t){return this.setValues([t.target.value])},i.prototype.sliderSlideHandler=function(t,e){return this.setValues(t,!1)},i.prototype.initListeners=function(){return this.$minInput.keypress(r).keyup(this.minInputKeyupHandler).change(this.minInputChangeHandler),this.$slider[0].noUiSlider.on("slide",this.sliderSlideHandler)},i}(e)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/range",["require","underscore","./scale","../question_form","sp/utilities/restrict_numeric"],function(t){var e,n;return t("underscore"),e=t("./scale"),t("../question_form"),n=t("sp/utilities/restrict_numeric"),function(t){function e(){return this.maxInputChangeHandler=bind(this.maxInputChangeHandler,this),this.maxInputKeyupHandler=bind(this.maxInputKeyupHandler,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.range=!0,e.prototype.initialize=function(t){return e.__super__.initialize.call(this,t),this.range=!0},e.prototype.render=function(){var t,n,r;return n=this.definitions.rangeMin||"To",r=this.definitions.rangeMax||"From",this.$maxInput=$("<input>"),e.__super__.render.call(this),this.$el.find(".min-value-label").text(n),t=$("<label>").attr({for:"max-value["+this.model.get("_id")+"]",class:"max-value-label"}).text(r),this.$maxInput.appendTo(this.$el).attr({type:"number",id:"max-value["+this.model.get("_id")+"]",name:"max-value["+this.model.get("_id")+"]",class:"max-value",min:this.defaultMin+1,max:this.defaultMax}).prop("required",this.model.get("required")||!1),$("<li>").addClass("max-value-container").append([t,this.$maxInput]).appendTo(this.el),this.$el},e.prototype.maxInputKeyupHandler=function(t){return this.setValues([null,t.target.value])},e.prototype.maxInputChangeHandler=function(t){return this.setMaxValue(t.target.value)},e.prototype.initListeners=function(){return e.__super__.initListeners.call(this),this.$maxInput.keypress(n).keyup(this.maxInputKeyupHandler).change(this.maxInputChangeHandler)},e}(e)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/rating",["require","underscore","../question_form","../../check_radio","nouislider"],function(t){var e,n,r,i;return r=t("underscore"),n=t("../question_form"),e=t("../../check_radio"),i=t("nouislider"),function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,t),o.prototype.tagName="ul",o.slider=null,o.prototype.initialize=function(t){return o.__super__.initialize.call(this,t)},o.prototype.render=function(){var t;return o.__super__.render.call(this),t=this.model.get("properties").order?this.setOrder(this.model.get("properties").order):this.model.get("properties").labels,t&&(this.model.get("properties").layout&&"slider"===this.model.get("properties").layout?this.renderSlider(t):this.renderChoices(t),this.model.get("properties").layout&&this.setLayout()),this.$el.attr({role:"group","aria-labelledby":"question-title-"+this.model.get("_id")}),this.el},o.prototype.renderSlider=function(t){var e,o,s,a,u,l;if(l=r.map(t,function(t){return r.toNumber(t.value)}),l.length>1)return u=r.min(l),a=r.max(l),a===l[0]&&(t.reverse(),l.reverse()),s=r.every(l,function(t,e){return t===u+e}),a>u&&s?(e=$("<li>").addClass("slider-label-container").appendTo(this.$el),o=$("<ul>").addClass("slider-labels").appendTo(e),setTimeout(function(){var e;return e=o.width()/(t.length-1),r.each(t,function(t){return function(t,n){var r,i;return i=e*n,r=$("<li>").addClass("slider-label label").css({left:i}).appendTo(o),$("<span>").text(t.label).appendTo(r)}}())},200),this.slider=$("<li>").addClass("slider-container").appendTo(this.$el)[0],i.create(this.slider,{start:this.values&&this.values.length&&this.values[0].value?Number(this.values[0].value):0,step:1,connect:"lower",range:{min:u,max:a},cssPrefix:"sp-slider-"}),this.slider.noUiSlider.on("set",function(t){return function(e){var i;if(i=Number(e.pop()),i=r.find(t.model.get("properties").labels,{value:i}))return t.values=[i],t.trigger(n.UPDATE_EVENT,t)}}(this))):this.renderChoices(t)},o.prototype.renderChoices=function(t){return r.each(t,function(t){return function(i,o){var s,a,u;return u=t.model.get("_id")+"["+o+"]",a=$("<li>"),s=new e("radio",i.label,{name:t.model.get("_id"),id:u,value:i.value,"data-label":i.label,required:t.model.get("required")||!1}).render(),s.appendTo(a).change(function(e){var i,o;if(i=$(e.target),o=r.find(t.model.get("properties").labels,{label:String(i.data("label"))}))return t.values=[o],t.trigger(n.UPDATE_EVENT,t)}),t.$el.append(a)}}(this))},o.prototype.setOrder=function(t){return function(){switch(t){case"random":return r.shuffle(this.model.get("properties").labels);case"desc_value":return r.sortBy(this.model.get("properties").labels,function(t){return-Number(t.value)});case"asc_value":return r.sortBy(this.model.get("properties").labels,function(t){return Number(t.value)});case"desc_title":return r.sortBy(this.model.get("properties").labels,function(t){return t.label}).reverse();case"asc_title":return r.sortBy(this.model.get("properties").labels,function(t){return t.label});default:return this.model.get("properties").labels}}.call(this)},o.prototype.sort=function(t){var e;return e=this.$el.children("li"),e.detach().compare(function(t,e){})},o.prototype.setValues=function(t){if(t&&r.isArray(t)&&void 0!==t[0]&&null!==t[0]){if(!this.model.get("properties").layout||"slider"!==this.model.get("properties").layout)return this.$el.find("label.radio").each(function(e,n){var r;if(r=$(n),r.find(".label").text()===t[0].label)return r.find("input").prop("checked",!0).trigger("change")});if(this.slider&&this.slider.noUiSlider)return this.slider.noUiSlider.set(t[0].value)}},o}(n)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_forms/scoring",["require","underscore","../question_form","../../check_radio"],function(t){var e,n,r;return r=t("underscore"),n=t("../question_form"),e=t("../../check_radio"),function(t){function i(){return this.scoringResetButtonClickHandler=bind(this.scoringResetButtonClickHandler,this),this.radioChangeHandler=bind(this.radioChangeHandler,this),i.__super__.constructor.apply(this,arguments)}return extend(i,t),i.prototype.tagName="form",i.prototype.events={"click .scoring-reset-btn":"scoringResetButtonClickHandler"},i.prototype.initialize=function(t){return i.__super__.initialize.call(this,t)},i.prototype.render=function(){var t,n,o,s,a,u,l,c,p,f,h,d;return i.__super__.render.call(this),t=$("<fieldset>").attr("aria-labelledby","question-title-"+this.model.get("_id")).prependTo(this.el),s=$("<table>").prependTo(t),c=$("<thead>").appendTo(s),p=$("<tr>").append($("<td>").html("&nbsp;")).prependTo(c),h=this.model.get("properties").minLabel,f=this.model.get("properties").maxLabel,r.each(this.model.get("properties").values,function(t){return function(t,e){return $("<th>").text(t).appendTo(p)}}()),(h&&h.length||f&&f.length)&&(n=$("<tr>").addClass("score-labels").append($("<td>").html("&nbsp;")).prependTo(c),l=$("<th>").attr({colspan:this.model.get("properties").values.length}).appendTo(n),h&&h.length&&$("<div>").addClass("score-label score-label-min").text(h).appendTo(l),f&&f.length&&$("<div>").addClass("score-label score-label-max").text(f).appendTo(l)),u=$("<tfoot>").appendTo(s),d=this.definitions.scoringResetButton||"reset",o=$("<a>").attr({href:"#"}).addClass("scoring-reset-btn").text(d),p=$("<tr>").prependTo(u),$("<td>").attr({colspan:this.model.get("properties").values.length}).html("&nbsp;").appendTo(p),$("<td>").append(o).appendTo(p),a=$("<tbody>").appendTo(s),r.each(this.model.get("properties").labels,function(t){return function(n,i){return p=$("<tr>").attr({role:"group","aria-label":r.escape(n)}).appendTo(a),$("<td>").addClass("label").text(n).appendTo(p),r.each(t.model.get("properties").values,function(r,o){var s,a;return a=t.model.get("_id")+"["+i+"]["+o+"]",s=new e("radio",null,{name:n,id:a,value:r,"aria-label":r,required:t.model.get("required")}).render(),s.change(t.radioChangeHandler),$("<td>").append(s).appendTo(p)})}}(this)),this.el},i.prototype.radioChangeHandler=function(t){var e;return this.values=[],e=this.model.get("properties").requireUnique,$("input[type=radio]").prop("disabled",!1),this.$el.find("input:checked").each(function(t){return function(n,r){var i,o,s,a,u,l;if(i=$(r),o=i.closest("td"),s=o.closest("tr"),l=o.index(),u=s.index(),a=t.model.get("properties").labels[u],t.values.push({label:a,value:i.val()}),e&&l>0)return t.$el.find("tr").each(function(t,n){var r;if((r=$(n).find("td").eq(l).find("input[type=radio]").not(":checked"))&&r.length)return r.prop("disabled",e)})}}(this)),this.trigger(n.UPDATE_EVENT,this)},i.prototype.setValues=function(t){if(r.isArray(t))return t.forEach(function(t){return function(e,n){return t.$el.find('tr[ aria-label="'+r.escape(e.label)+'" ] td.label').siblings().each(function(t,n){var r;return r=$(n).find("input"),r.prop("checked",r.val()===e.value)})}}(this)),this.$el.find("input").last().trigger("change")},i.prototype.scoringResetButtonClickHandler=function(t){return t.preventDefault(),this.$el.find("input[type=radio]").attr("checked",!1).prop("disabled",!1),this.values=[],this.trigger(n.UPDATE_EVENT,this)},i}(n)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/questions/question_view",["require","jquery","underscore","backbone","../templates","./question_form","./question_forms/date_time","./question_forms/essay","./question_forms/form","./question_forms/image","./question_forms/multiple_choice","./question_forms/range","./question_forms/rating","./question_forms/scale","./question_forms/scoring"],function(t){var e,n,r,i,o,s,a,u,l,c,p,f,h,d;return e=t("jquery"),h=t("underscore"),f=t("backbone").View,d=t("../templates").question,a=t("./question_form"),n=t("./question_forms/date_time"),r=t("./question_forms/essay"),i=t("./question_forms/form"),o=t("./question_forms/image"),s=t("./question_forms/multiple_choice"),u=t("./question_forms/range"),l=t("./question_forms/rating"),c=t("./question_forms/scale"),p=t("./question_forms/scoring"),function(t){function f(){return this.formUpdateHandler=bind(this.formUpdateHandler,this),this.questionCommentsChangeHandler=bind(this.questionCommentsChangeHandler,this),f.__super__.constructor.apply(this,arguments)}return extend(f,t),f.NEXT_EVENT="next",f.PREV_EVENT="previous",f.SUBMIT_EVENT="submit",f.prototype.tagName="div",f.prototype.className="question clearfix",f.prototype.events={"click .next-button":"nextButtonHandler","click .previous-button":"previousButtonHandler","click .submit-button":"submitButtonHandler","change .question-comments textarea":"questionCommentsChangeHandler"},f.prototype.index=0,f.prototype.total=0,f.prototype.valid=!0,f.prototype.values=null,f.prototype.comments=null,f.prototype.inMotion=!1,f.prototype.animationSpeed=250,f.prototype.definitions=null,f.prototype.validationError=null,f.prototype.$validationError=null,f.prototype.answerHandler=function(){},f.prototype.initialize=function(t){return this.enablePreviousButton=t.enablePreviousButton,h.isFunction(e.easing.easeOutSine)||e.extend(e.easing,{easeOutSine:function(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n}}),f.__super__.initialize.call(this,t),[]},f.prototype.render=function(){var t,n,r,i,o,s,a;return this.model.get("required")?(this.valid=!1,this.definitions&&this.definitions.validations&&(this.validationError=this.definitions.validations.default)):this.valid=!0,o=this.model.toJSON(),o.index=this.index+1,o.total=this.total,o.definitions=this.definitions,o.enablePreviousButton=this.enablePreviousButton,o.submitWarningLinkUrl="https://surveyplanet.com/contact?sub=Survey Abuse",window.location.pathname&&window.location.pathname.length&&(s="Survey: "+window.location.href+"\nAdditional Details:\n",o.submitWarningLinkUrl+="&msg="+s),o.submitWarningLinkUrl=encodeURI(o.submitWarningLinkUrl),this.definitions&&this.definitions.submitWarning&&this.definitions.submitWarning.length?o.submitWarning=this.definitions.submitWarning:o.submitWarning="Never submit sensitive information such as \naccount numbers or passwords through SurveyPlanet.",this.definitions&&this.definitions.submitWarningLink&&this.definitions.submitWarningLink.length?o.submitWarningLink=this.definitions.submitWarningLink:o.submitWarningLink="Report Abuse",a=d(o),this.$el.empty().append(a).attr("id","question["+(this.index+1)+"]"),i=this.$el.find(".question-title"),i.find("a").attr({target:"_blank"}),r=this.$el.find(".question-subtitle"),r.find("a").attr({target:"_blank"}),this.model.get("required")&&(n=e("<span>").addClass("required").text("*"),t=i.find("p").last(),t.length?t.append(n):i.append(n)),this.comments&&this.$el.find(".question-comments textarea").val(this.comments),this.renderQuestionForm(),this.$el},f.prototype.renderQuestionForm=function(){var t,e,f;if(this.model.get("type")&&(t=this.$el.find(".question-form"),
this.$el.attr("class","question clearfix "+this.model.get("type").replace("_","-")+"-question"),e=function(){switch(this.model.get("type")){case"date_time":return n;case"essay":return r;case"form":return i;case"image":return o;case"multiple_choice":return s;case"range":return u;case"rating":return l;case"scale":return c;case"scoring":return p}}.call(this),f=new e({model:this.model}),f.definitions=this.definitions,f.on(a.UPDATE_EVENT,this.formUpdateHandler),t.html(f.render()),this.values&&this.values.length))return f.setValues(this.values),this.formUpdateHandler(f)},f.prototype.showCompleteMark=function(t){return null==t&&(t=this.valid),this.valid?(this.$el.addClass("valid").find(".complete-mark").attr({role:"alert"}),this.removeValidationError()):this.$el.removeClass("valid").find(".complete-mark").removeAttr("role")},f.prototype.removeValidationError=function(){if(this.$el.removeClass("invalid"),this.$validationError)return this.$validationError.clearQueue().slideUp(300,function(){return e(this).remove()}),this.$validationError=null},f.prototype.showValidationError=function(t,n){var r,i;return null==t&&(t=this.validationError),t?(n||(n=this.$el.find("hgroup")),h.isArray(t)&&(r=e("<ul>"),t.forEach(function(t){return e("<li>").text(t).appendTo(r)})),this.$validationError?this.$validationError.html(r||t).removeAttr("role").delay(200).attr("role","alert").animate({opacity:0},50).animate({opacity:1},50).animate({opacity:0},50).animate({opacity:1},50):(this.$el.addClass("invalid"),this.$validationError=e("<div>").addClass("error").attr("role","alert").html(r||t).hide().appendTo(n).delay(250).slideDown(300)),i=this.$el.offset().top-90,e("html, body").animate({scrollTop:i},100)):this.removeValidationError(),t&&t.length},f.prototype.out=function(t,n){var r,i,o;return h.isFunction(t)&&(n=t,t={}),t=h.defaults(t,{reverse:!1,animate:!0}),this.inMotion?n():(this.inMotion=!0,r=e("body"),o=r.outerWidth(),{opacity:0},i=t.reverse?o+50:-this.$el.outerWidth(),t.animate?this.$el.stop().animate({opacity:0,left:i},this.animationSpeed,function(e){return function(){if(e.inMotion=!1,t.destroyOnComplete&&e.destroy(),n)return n()}}(this)):(this.$el.stop().css({left:i,opacity:0}),this.inMotion=!1,n()))},f.prototype.in=function(t,e){return null==t&&(t={}),null==e&&(e=function(){}),this.center(t,e)},f.prototype.center=function(t,n){var r,i,o,s;return null==n&&(n=function(){}),h.isFunction(t)&&(n=t,t={}),t=h.defaults(t,{reverse:!1,animate:!0}),this.inMotion?n():(this.inMotion=!0,r=e("#survey-container"),r.offset()?(o=r.outerWidth(),i=Math.round(.5*o-.5*this.$el.outerWidth()+r.offset().left),s=t.reverse?-this.$el.outerWidth():o+50,t.animate?this.$el.stop().css({position:"absolute",left:s,opacity:0,display:"block"}).delay(250).animate({left:i,opacity:1},t.duration||400,"easeOutSine",function(t){return function(){return t.inMotion=!1,n()}}(this)):(this.$el.stop().css({position:"absolute",left:i,opacity:1,display:"block","z-index":this.index}),this.inMotion=!1,n())):n())},f.prototype.destroy=function(t){return null==t&&(t=!1),this.inMotion=!1,this.$el.unbind(),t?this.$el.fadeOut(function(t){return function(){return t.$el.remove()}}(this)):this.$el.remove()},f.prototype.questionCommentsChangeHandler=function(t){return this.comments=t.target.value,this.trigger(a.UPDATE_EVENT,this)},f.prototype.formUpdateHandler=function(t){return this.validationError=t.validate(),this.valid=!this.validationError||!this.validationError.length,this.values=t.values,this.showCompleteMark(),this.trigger(a.UPDATE_EVENT,this)},f.prototype.nextButtonHandler=h.debounce(function(t){return t.preventDefault(),this.valid?(e(t.target).prop("disabled",!0),this.trigger(f.NEXT_EVENT,t,this)):this.showValidationError()},500,{leading:!0,trailing:!1}),f.prototype.previousButtonHandler=h.debounce(function(t){return t.preventDefault(),this.trigger(f.PREV_EVENT,t,this)},500,{leading:!0,trailing:!1}),f.prototype.submitButtonHandler=h.debounce(function(t){return t.preventDefault(),this.valid?(e(t.target).prop("disabled",!0),this.trigger(f.SUBMIT_EVENT,t,this)):this.showValidationError()},500,{leading:!0,trailing:!1}),f}(f)}),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||l.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function e(t,e){if(this.options=e||l.defaults,this.links=t,this.rules=p.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function n(t){this.options=t||{}}function r(t){this.tokens=[],this.token=null,this.options=t||l.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(t){return t.replace(/&([#\w]+);/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function s(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(r,i),n):new RegExp(t,e)}}function a(){}function u(t){for(var e,n,r=1;r<arguments.length;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function l(e,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=u({},l.defaults,n||{});var s,a,c=n.highlight,p=0;try{s=t.lex(e,n)}catch(t){return o(t)}a=s.length;var f=function(t){if(t)return n.highlight=c,o(t);var e;try{e=r.parse(s,n)}catch(e){t=e}return n.highlight=c,t?o(t):o(null,e)};if(!c||c.length<3)return f();if(delete n.highlight,!a)return f();for(;p<s.length;p++)!function(t){"code"!==t.type?--a||f():c(t.text,t.lang,function(e,n){return e?f(e):null==n||n===t.text?--a||f():(t.text=n,t.escaped=!0,void(--a||f()))})}(s[p])}else try{return n&&(n=u({},l.defaults,n)),r.parse(t.lex(e,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(n||l.defaults).silent)return"<p>An error occured:</p><pre>"+i(t.message+"",!0)+"</pre>";throw t}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=s(c.item,"gm")(/bull/g,c.bullet)(),c.list=s(c.list)(/bull/g,c.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+c.def.source+")")(),c.blockquote=s(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",c.html=s(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=s(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=u({},c),c.gfm=u({},c.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),c.gfm.paragraph=s(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=u({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=c,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e,n){for(var r,i,o,s,a,u,l,p,f,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},p=0;p<u.align.length;p++)/^ *-+: *$/.test(u.align[p])?u.align[p]="right":/^ *:-+: *$/.test(u.align[p])?u.align[p]="center":/^ *:-+ *$/.test(u.align[p])?u.align[p]="left":u.align[p]=null;for(p=0;p<u.cells.length;p++)u.cells[p]=u.cells[p].split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),r=!1,f=o.length,p=0;p<f;p++)u=o[p],l=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(l-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&p!==f-1&&(a=c.bullet.exec(o[p+1])[0],s===a||s.length>1&&a.length>1||(t=o.slice(p+1).join("\n")+t,p=f-1)),i=r||/\n\n(?!\s*$)/.test(u),p!==f-1&&(r="\n"===u.charAt(u.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(u,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},p=0;p<u.align.length;p++)/^ *-+: *$/.test(u.align[p])?u.align[p]="right":/^ *:-+: *$/.test(u.align[p])?u.align[p]="center":/^ *:-+ *$/.test(u.align[p])?u.align[p]="left":u.align[p]=null;for(p=0;p<u.cells.length;p++)u.cells[p]=u.cells[p].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=s(p.link)("inside",p._inside)("href",p._href)(),p.reflink=s(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:s(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:s(p.br)("{2,}","*")(),text:s(p.gfm.text)("{2,}","*")()}),e.rules=p,e.output=function(t,n,r){return new e(n,r).output(t)},e.prototype.output=function(t){for(var e,n,r,o,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+n):(n=i(o[1]),r=n),s+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+=this.renderer.codespan(i(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),s+=this.renderer.text(i(this.smartypants(o[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),n=i(o[1]),r=n,s+=this.renderer.link(r,null,n);return s},e.prototype.outputLink=function(t,e){var n=i(e.href),r=e.title?i(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,i(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):t},e.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+i(e,!0)+'">'+(n?t:i(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:i(t,!0))+"\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(o(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+t+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},n.prototype.image=function(t,e,n){var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},n.prototype.text=function(t){return t},r.parse=function(t,e,n){return new r(e,n).parse(t)},r.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,l.options=l.setOptions=function(t){return u(l.defaults,t),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},l.Parser=r,l.parser=r.parse,l.Renderer=n,l.Lexer=t,l.lexer=t.lex,l.InlineLexer=e,l.inlineLexer=e.output,l.parse=l,"undefined"!=typeof module&&"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define("marked",[],function(){return l}):this.marked=l}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/markdown_to_html",["underscore","marked"],e):"object"==typeof module&&module.exports?module.exports=e(require("underscore"),require("marked")):t.markdownToHtml=e(t.underscore)}(this,function(t,e){return function(n,r,i){var o;return r=t.defaults(r,{gfm:!0,tables:!1,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0}),e.setOptions(r),n&&n.length&&(o=e(n)),i&&i.length&&o&&o.length&&(o=o.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/g,function(t,e){return i.indexOf("<"+e.toLowerCase()+">")>-1?"":t})),o&&o.length?o.trim():o}}),define("etc/definitions",["require"],function(t){return{logo:{dark:"https://public.surveyplanet.com/logos/surveyplanet-logo.svg",light:"https://public.surveyplanet.com/logos/surveyplanet-logo-light.svg",black:"https://public.surveyplanet.com/logos/surveyplanet-logo-black.svg",white:"https://public.surveyplanet.com/logos/surveyplanet-logo-white.svg"},audienceStatus:{complete:10,disqualify:20,duplicate:30,overquota:40},questionTypes:[{display:"Multiple Choice",type:"multiple_choice",pro:!1},{display:"Essay",type:"essay",pro:!1},{display:"Rating",type:"rating",pro:!1},{display:"Scale",type:"scale",pro:!1},{display:"True / False",type:"true_false",pro:!1},{display:"Form",type:"form",pro:!1},{display:"Scoring",type:"scoring",pro:!1},{display:"Range",type:"range",pro:!1},{display:"Date / Time",type:"date_time",pro:!1},{display:"Image Choice",type:"image",pro:!0}]}}),define("text",["module"],function(t){"use strict";var e,n,r,i,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,c=l&&location.protocol&&location.protocol.replace(/\:/,""),p=l&&location.hostname,f=l&&(location.port||void 0),h={},d=t.config&&t.config()||{};return e={version:"2.0.10",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(u);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){n=s[e];try{t=new ActiveXObject(n)}catch(t){}if(t){s=[n];break}}return t},parseName:function(t){var e,n,r,i=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),n=t.substring(o+1,t.length)):e=t,r=n||e,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:e=r),{moduleName:e,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,r,i){var o,s,a,u=e.xdRegExp.exec(t);return!u||(o=u[2],s=u[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==n||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==i))},finishLoad:function(t,n,r,i){r=n?e.strip(r):r,d.isBuild&&(h[t]=r),i(r)},load:function(t,n,r,i){if(i.isBuild&&!i.inlineText)return void r();d.isBuild=i.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=n.toUrl(s),u=d.useXhr||e.useXhr;if(0===a.indexOf("empty:"))return void r();!l||u(a,c,p,f)?e.get(a,function(n){e.finishLoad(t,o.strip,n,r)},function(t){r.error&&r.error(t)}):n([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,r)})},write:function(t,n,r,i){if(h.hasOwnProperty(n)){var o=e.jsEscape(h[n]);r.asModule(t+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,n,r,i,o){var s=e.parseName(n),a=s.ext?"."+s.ext:"",u=s.moduleName+a,l=r.toUrl(s.moduleName+a)+".js";e.load(u,r,function(n){var r=function(t){return i(l,t)};r.asModule=function(t,e){return i.asModule(t,l,e)},e.write(t,u,r,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),e.get=function(t,e,r){try{var i=n.readFileSync(t,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),e(i)}catch(t){r(t)}}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,n,r,i){var o,s=e.createXhr();if(s.open("GET",t,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,t),s.onreadystatechange=function(e){var i,o;4===s.readyState&&(i=s.status,i>399&&i<600?(o=new Error(t+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,t))},s.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var n,r,i=new java.io.File(t),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),a="";try{for(n=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=s.readLine());)n.append(o),n.append(r);a=String(n.toString())}finally{s.close()}e(a)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,i=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in r,e.get=function(t,e){var n,s,a,u={};o&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(a,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),u),s.close(),n.close(),e(u.value)}catch(t){throw new Error((a&&a.path||"")+": "+t)}}),e}),define("text!templates/welcome.html",[],function(){return'<header id="welcome-header">\n\t<a href="<%=branding.url || \'https://surveyplanet.com\'%>" target="_blank" class="logo">\n\t\t<img src="<%=branding.logo%>" alt="Survey Logo"/>\n\t</a>\n\t<h1><%-title%></h1>\n</header>\n<hgroup>\n\t<% if ( welcome && welcome.img ) { %>\n\t\t<div style="background-image: url(\'<%=_.escape(welcome.img)%>\');" id="welcome-image"></div>\n\t<% } %>\n\t<% var message = (welcome.msg && welcome.msg.length) ? welcome.msg : definitions.welcomeMessage %>\n\t<h2 id="welcome-message" class="<%= (welcome.alignment) ? "align-"+welcome.alignment : void 0 %>"><%= _.markdownToHtml( message, {\'sanitize\':true} ) %></h2>\n</hgroup>\n<footer id="welcome-footer" class="clearfix">\n\t<% if (email !== \'anonymous\') { %>\n\t\t<%\n\t\tvar required = email === \'required\'\n\t\tvar requiredLabel = required ? definitions.emailRequiredLabel : definitions.emailOptionalLabel\n\t\t%>\n\t\t<div id="welcome-form" class="clearfix">\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<label for="welcome-email"><%= definitions.emailLabel || "Email" %><span class="note <%=email%>"><%= requiredLabel || email %></span></label>\n\t\t\t\t\t<input type="email" id="welcome-email" name="welcome-email" <%= required ? \'required\' : void 0 %> />\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="#" id="begin-button" class="button accent"><%= definitions.startButton || \'Begin\' %></a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t<% } else { %>\n\t\t<nav class="question-nav">\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="#" id="begin-button" class="button accent" ><%= definitions.startButton || \'Begin\' %></a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t</nav>\n\t<% } %>\n\t\n\t<% if (typeof anonymous !== \'undefined\' && anonymous) { %>\n\t\t\n\t\t<div class="anonymous-message">\n\n\t\t\t<% if (definitions.anonymousMessage && definitions.anonymousMessage.length) { %>\n\t\t\t<div class="popup">\n\t\t\t\t<%= definitions.anonymousMessage %>\n\t\t\t</div>\n\t\t\t<% } %>\n\t\t\t\n\t\t\t<span class="anonymous-text"><%= definitions.anonymous || \'Anonymous\' %></span>\n\t\t\t<span class="icon icon-lock"></span>\n\t\t</div>\n\t<% } %>\n\t\n\t<nav id="welcome-footer-links" class="clearfix">\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<a href="https://surveyplanet.com/terms-of-service">Terms of Service</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a href="https://surveyplanet.com/privacy-notice">Privacy Notice</a>\n\t\t\t</li>\n\t\t</ul>\n\t</nav>\n\n</footer>\n'});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/welcome",["require","underscore","transform_image","sp/ui/questions/question_view","sp/utilities/markdown_to_html","etc/definitions","text!templates/welcome.html","sp/validator"],function(t){var e,n,r,i,o,s,a;return r=t("underscore"),a=t("transform_image"),e=t("sp/ui/questions/question_view"),o=t("sp/utilities/markdown_to_html"),i=t("etc/definitions").logo,s=t("text!templates/welcome.html"),n=t("sp/validator"),function(t){function e(){return this.windowResizeHandler=bind(this.windowResizeHandler,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.BEGIN_EVENT="begin",e.prototype.attributes={id:"survey-welcome"},e.prototype.events={"click #begin-button":"beginButtonClickHandler"},e.prototype.email=null,e.prototype.initialize=function(t){return e.__super__.initialize.call(this,t),this.email=t.email,r.isFunction(r.markdownToHtml)||r.mixin({markdownToHtml:o}),this.initListeners()},e.prototype.render=function(){var t;return t=this.model.toJSON(),t.definitions=this.definitions,t.branding.logo&&t.branding.logo?t.branding.logo=a(t.branding.logo,{resize:{height:70,dpr:2,fit:"inside"}}):t.branding.logo=i.light,s=r.template(s)(t),this.$el.append(s).hide(),this.email&&this.email.length&&!this.validate(this.email)&&(this.$el.find("#welcome-email").val(this.email),this.email=null),this.$el},e.prototype.validate=function(t){var e,r,i;return r={name:"welcome-email",rules:["email"],label:this.definitions.emailLabel||"Email",message:this.definitions.validations.email.replace("%s",this.definitions.emailLabel)},t&&t.length&&(delete r.name,r.value=t),"required"===this.model.get("email")&&r.rules.push("required"),i=new n(r),e=i.validate(),e&&e.length?e[0].message:null},e.prototype.submit=function(){var t;return t=$.trim(this.$el.find("input#welcome-email").val()),this.email=t&&t.length?t:null,"anonymous"===this.model.get("email")?this.valid=!0:(this.validationError=this.validate(),this.valid=!this.validationError||!this.validationError.length),window.scrollTo({top:0}),this.valid?($(window).off("resize"),this.trigger(e.BEGIN_EVENT,this)):this.showValidationError(this.validationError)},e.prototype.beginButtonClickHandler=r.debounce(function(t){return t.preventDefault(),this.submit()},500,{leading:!0,trailing:!1}),e.prototype.windowResizeHandler=function(t){return this.center({animate:!1})},e.prototype.initListeners=function(){return $(window).resize(this.windowResizeHandler)},e}(e)}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/strip_markdown",["./markdown_to_html","underscore"],e):"object"==typeof module&&module.exports?module.exports=e(require("./markdown_to_html"),require("underscore")):t.stripMarkdown=e(t.markdownToHtml,t.underscore)}(this,function(t,e){return function(n){if(n&&n.length)return e.unescape(t(n).replace(/(<([^>]+)>)/gi,"").replace(/\&nbsp;/gi," "))}}),define("text!templates/success.html",[],function(){
return'\n<header id="success-header">\n\t<a href="<%=branding.url || \'https://surveyplanet.com\'%>" target="_blank" class="logo">\n\t\t<img src="<%=branding.logo%>" alt="Survey Logo"/>\n\t</a>\n\t<h1><%=title%></h1>\n</header>\n\n<hgroup>\n\t\n\t<div id="success-image" \n\t\t<% if ( success.img && success.img.length ) { %> \n\t\t\tstyle="background-image: url(\'<%= _.escape(success.img) %>\');"\n\t\t\tclass="custom-image"<% } \n\t\t%> \n\t></div>\n\n\t<h2 id="success-message" class="<%= (success.alignment) ? "align-"+success.alignment : void 0 %>"><%= success.msg %></h2>\n\n</hgroup>\n'}),function(){function t(n,r){if(n=n||"",r=r||{},n instanceof t)return n;if(!(this instanceof t))return new t(n,r);var i=e(n);this._originalInput=n,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=I(100*this._a)/100,this._format=r.format||i.format,this._gradientType=r.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=i.ok,this._tc_id=N++}function e(t){var e={r:0,g:0,b:0},r=1,o=!1,a=!1;return"string"==typeof t&&(t=L(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=n(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=D(t.s),t.v=D(t.v),e=s(t.h,t.s,t.v),o=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=D(t.s),t.l=D(t.l),e=i(t.h,t.s,t.l),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=x(r),{ok:o,format:t.format||a,r:B(255,H(e.r,0)),g:B(255,H(e.g,0)),b:B(255,H(e.b,0)),a:r}}function n(t,e,n){return{r:255*E(t,255),g:255*E(e,255),b:255*E(n,255)}}function r(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var r,i,o=H(t,e,n),s=B(t,e,n),a=(o+s)/2;if(o==s)r=i=0;else{var u=o-s;switch(i=a>.5?u/(2-o-s):u/(o+s),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:a}}function i(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,s;if(t=E(t,360),e=E(e,100),n=E(n,100),0===e)i=o=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=r(u,a,t+1/3),o=r(u,a,t),s=r(u,a,t-1/3)}return{r:255*i,g:255*o,b:255*s}}function o(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var r,i,o=H(t,e,n),s=B(t,e,n),a=o,u=o-s;if(i=0===o?0:u/o,o==s)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:a}}function s(t,e,n){t=6*E(t,360),e=E(e,100),n=E(n,100);var r=$.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),u=r%6;return{r:255*[n,s,o,o,a,n][u],g:255*[a,n,n,s,o,o][u],b:255*[o,o,a,n,n,s][u]}}function a(t,e,n,r){var i=[A(I(t).toString(16)),A(I(e).toString(16)),A(I(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function u(t,e,n,r){return[A(q(r)),A(I(t).toString(16)),A(I(e).toString(16)),A(I(n).toString(16))].join("")}function l(e,n){n=0===n?0:n||10;var r=t(e).toHsl();return r.s-=n/100,r.s=k(r.s),t(r)}function c(e,n){n=0===n?0:n||10;var r=t(e).toHsl();return r.s+=n/100,r.s=k(r.s),t(r)}function p(e){return t(e).desaturate(100)}function f(e,n){n=0===n?0:n||10;var r=t(e).toHsl();return r.l+=n/100,r.l=k(r.l),t(r)}function h(e,n){n=0===n?0:n||10;var r=t(e).toRgb();return r.r=H(0,B(255,r.r-I(-n/100*255))),r.g=H(0,B(255,r.g-I(-n/100*255))),r.b=H(0,B(255,r.b-I(-n/100*255))),t(r)}function d(e,n){n=0===n?0:n||10;var r=t(e).toHsl();return r.l-=n/100,r.l=k(r.l),t(r)}function g(e,n){var r=t(e).toHsl(),i=(I(r.h)+n)%360;return r.h=i<0?360+i:i,t(r)}function m(e){var n=t(e).toHsl();return n.h=(n.h+180)%360,t(n)}function v(e){var n=t(e).toHsl(),r=n.h;return[t(e),t({h:(r+120)%360,s:n.s,l:n.l}),t({h:(r+240)%360,s:n.s,l:n.l})]}function y(e){var n=t(e).toHsl(),r=n.h;return[t(e),t({h:(r+90)%360,s:n.s,l:n.l}),t({h:(r+180)%360,s:n.s,l:n.l}),t({h:(r+270)%360,s:n.s,l:n.l})]}function b(e){var n=t(e).toHsl(),r=n.h;return[t(e),t({h:(r+72)%360,s:n.s,l:n.l}),t({h:(r+216)%360,s:n.s,l:n.l})]}function _(e,n,r){n=n||6,r=r||30;var i=t(e).toHsl(),o=360/r,s=[t(e)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,s.push(t(i));return s}function w(e,n){n=n||6;for(var r=t(e).toHsv(),i=r.h,o=r.s,s=r.v,a=[],u=1/n;n--;)a.push(t({h:i,s:o,v:s})),s=(s+u)%1;return a}function x(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function E(t,e){S(t)&&(t="100%");var n=T(t);return t=B(e,H(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),$.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function k(t){return B(1,H(0,t))}function C(t){return parseInt(t,16)}function S(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function T(t){return"string"==typeof t&&-1!=t.indexOf("%")}function A(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function q(t){return Math.round(255*parseFloat(t)).toString(16)}function O(t){return C(t)/255}function L(t){t=t.replace(P,"").replace(R,"").toLowerCase();var e=!1;if(M[t])t=M[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=U.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=U.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=U.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=U.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=U.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=U.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=U.hex8.exec(t))?{a:O(n[1]),r:C(n[2]),g:C(n[3]),b:C(n[4]),format:e?"name":"hex8"}:(n=U.hex6.exec(t))?{r:C(n[1]),g:C(n[2]),b:C(n[3]),format:e?"name":"hex"}:!!(n=U.hex3.exec(t))&&{r:C(n[1]+""+n[1]),g:C(n[2]+""+n[2]),b:C(n[3]+""+n[3]),format:e?"name":"hex"}}function j(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var P=/^\s+/,R=/\s+$/,N=0,$=Math,I=$.round,B=$.min,H=$.max,F=$.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,i,o,s=this.toRgb();return t=s.r/255,e=s.g/255,n=s.b/255,r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(t){return this._a=x(t),this._roundA=I(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=I(360*t.h),n=I(100*t.s),r=I(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r(this._r,this._g,this._b),e=I(360*t.h),n=I(100*t.s),i=I(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return a(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return u(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(100*E(this._r,255))+"%",g:I(100*E(this._g,255))+"%",b:I(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+I(100*E(this._r,255))+"%, "+I(100*E(this._g,255))+"%, "+I(100*E(this._b,255))+"%)":"rgba("+I(100*E(this._r,255))+"%, "+I(100*E(this._g,255))+"%, "+I(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[a(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var n="#"+u(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){r=t(e).toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return t(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(f,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(d,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},t.fromRatio=function(e,n){if("object"==typeof e){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]="a"===i?e[i]:D(e[i]));e=r}return t(e,n)},t.equals=function(e,n){return!(!e||!n)&&t(e).toRgbString()==t(n).toRgbString()},t.random=function(){return t.fromRatio({r:F(),g:F(),b:F()})},t.mix=function(e,n,r){r=0===r?0:r||50;var i,o=t(e).toRgb(),s=t(n).toRgb(),a=r/100,u=2*a-1,l=s.a-o.a;i=u*l==-1?u:(u+l)/(1+u*l),i=(i+1)/2;var c=1-i;return t({r:s.r*i+o.r*c,g:s.g*i+o.g*c,b:s.b*i+o.b*c,a:s.a*a+o.a*(1-a)})},t.readability=function(e,n){var r=t(e),i=t(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)},t.isReadable=function(e,n,r){var i,o,s=t.readability(e,n);switch(o=!1,i=j(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},t.mostReadable=function(e,n,r){var i,o,s,a,u=null,l=0;r=r||{},o=r.includeFallbackColors,s=r.level,a=r.size;for(var c=0;c<n.length;c++)(i=t.readability(e,n[c]))>l&&(l=i,u=t(n[c]));return t.isReadable(e,u,{level:s,size:a})||!o?u:(r.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],r))};var M=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=t.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(M),U=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define("tinycolor",[],function(){return t}):window.tinycolor=t}();var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/success",["require","underscore","sp/ui/questions/question_view","sp/utilities/markdown_to_html","sp/utilities/strip_markdown","text!templates/success.html","etc/definitions","tinycolor"],function(t){var e,n,r,i,o;return n=t("underscore"),e=t("sp/ui/questions/question_view"),t("sp/utilities/markdown_to_html"),t("sp/utilities/strip_markdown"),i=t("text!templates/success.html"),r=t("etc/definitions").logo,o=t("tinycolor"),function(t){function e(){return this.windowResizeHandler=bind(this.windowResizeHandler,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.id="survey-success",e.prototype.participantId=null,e.prototype.initialize=function(t){return e.__super__.initialize.call(this,t),t.participantId&&(this.participantId=t.participantId),this.initListeners()},e.prototype.render=function(){var t,e;return t=this.model.toJSON(),t.definitions=this.definitions,setTimeout(function(){var e,n;if(!t.branding.logo||!t.branding.logo.length)return e=$("#success-header").css("background-color"),n=o(e),n.getLuminance()>.5?$("#success-header img").attr("src",r.dark):$("#success-header img").attr("src",r.light)},0),t.success||(t.success={}),t.success.msg&&t.success.msg.length?(t.success.msg=n.markdownToHtml(t.success.msg,{sanitize:!0}),this.participantId&&this.participantId.length&&(t.success.msg=t.success.msg.replace("{{id}}",'<span id="success-message-participant-id">'+this.participantId+"</span>"))):t.success.msg=this.definitions.successMessage,e=n.template(i)(t),this.$el.attr({role:"alert",title:"survey complete"}).append(e).hide()},e.prototype.in=function(t){var n;return null==t&&(t=function(){}),this.model.get("success")&&this.model.get("success").img?(n=new Image,n.src=this.model.get("success").img,$(n).load(function(n){return function(){return e.__super__.in.call(n,t)}}(this)).error(function(n){return function(){return n.$el.find("#success-image").remove(),e.__super__.in.call(n,t)}}(this))):e.__super__.in.call(this,t)},e.prototype.windowResizeHandler=function(t){return this.center({animate:!1})},e.prototype.initListeners=function(){return $(window).resize(this.windowResizeHandler)},e}(e)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("models/question",["require","underscore","backbone"],function(t){var e;return t("underscore"),e=t("backbone").Model,function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.idAttribute="_id",e.prototype.urlRoot=function(){return GLOBALS.uris.api+"/question"},e.prototype.defaults={title:"",subtitle:"",required:!1,comments:null,branching:[],properties:{},meta:{}},e.prototype.initialize=function(){},e}(e)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/display_types/display_type",["require","underscore","backbone","models/question","sp/ui/questions/question_view"],function(t){var e,n,r,i;return i=t("underscore"),r=t("backbone").View,e=t("models/question"),n=t("sp/ui/questions/question_view"),function(t){function r(){return this.questionUpdateHandler=bind(this.questionUpdateHandler,this),r.__super__.constructor.apply(this,arguments)}return extend(r,t),r.prototype.tagName="main",r.prototype.id="survey-questions",r.prototype.currentIndex=0,r.prototype.participant=null,r.prototype.hasBranches=!1,r.prototype.initialize=function(t){return this.currentIndex=0,r.__super__.initialize.call(this,t)},r.prototype.initQuestion=function(t){var r,o;return o=new n({model:new e(t)}),o.definitions=this.model.get("language").definitions,r=this.model.get("display")||{},o.enablePreviousButton=i.get(r,["options","previous"]),(o.enablePreviousButton&&"multiple"===r.style||this.model.hasBranches())&&(o.enablePreviousButton=!1),o.on("previous",this.previousButtonClickHandler),o.on("next",this.nextButtonClickHandler),o.on("submit",this.submitButtonClickHandler),o.on("update",this.questionUpdateHandler),o.total=this.model.get("questions").length,o.index=i.findIndex(this.model.get("questions"),function(e){return e._id===t._id}),i.isArray(this.participant.get("answers"))&&this.participant.get("answers")[o.index]&&this.participant.get("answers")[o.index].question===o.model.get("_id")&&(o.values=this.participant.get("answers")[o.index].values,o.comments=this.participant.get("answers")[o.index].comments),this.$el.append(o.render()),o},r.prototype.recordAnswer=function(t){var e;return!!(t instanceof n&&t.valid)&&(e=this.participant.get("answers")||[],e[t.index]={index:t.index,question:t.model.get("_id"),values:t.values,comments:t.comments},this.participant.set("answers",e),!0)},r.prototype.questionUpdateHandler=function(t){},r.prototype.previousButtonClickHandler=function(t){},r.prototype.nextButtonClickHandler=function(t){},r.prototype.submitButtonClickHandler=function(t){},r}(r)}),function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";var r=t("../main");"function"==typeof define&&define.amd?define("perfect-scrollbar",r):(window.PerfectScrollbar=r,void 0===window.Ps&&(window.Ps=r))},{"../main":7}],2:[function(t,e,n){"use strict";function r(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}function i(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}n.add=function(t,e){t.classList?t.classList.add(e):r(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):i(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";function r(t,e){return window.getComputedStyle(t)[e]}function i(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}function o(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}var s={};s.e=function(t,e){var n=document.createElement(t);return n.className=e,n},s.appendTo=function(t,e){return e.appendChild(t),t},s.css=function(t,e,n){return"object"==typeof e?o(t,e):void 0===n?r(t,e):i(t,e,n)},s.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},s.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},s.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return s.matches(t,e)})},e.exports=s},{}],4:[function(t,e,n){"use strict";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter(function(r){return!(!n||r===e)||(this.element.removeEventListener(t,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return void 0===e&&(e=new r(t),this.eventElements.push(e)),e},i.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},i.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},i.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},i.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)},e.exports=i},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var r=t("./class"),i=t("./dom"),o=n.toInt=function(t){return parseInt(t,10)||0},s=n.clone=function(t){if(null===t)return null;if(t.constructor===Array)return t.map(s);if("object"==typeof t){var e={};for(var n in t)e[n]=s(t[n]);return e}return t};n.extend=function(t,e){var n=s(t);for(var r in e)n[r]=s(e[r]);return n},n.isEditable=function(t){return i.matches(t,"input,[contenteditable]")||i.matches(t,"select,[contenteditable]")||i.matches(t,"textarea,[contenteditable]")||i.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var i=e[n];0===i.indexOf("ps-")&&r.remove(t,i)}},n.outerWidth=function(t){return o(i.css(t,"width"))+o(i.css(t,"paddingLeft"))+o(i.css(t,"paddingRight"))+o(i.css(t,"borderLeftWidth"))+o(i.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),void 0!==e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},n.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),void 0!==e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var r=t("./plugin/destroy"),i=t("./plugin/initialize"),o=t("./plugin/update");e.exports={initialize:i,update:o,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,n){"use strict";var r=t("../lib/helper"),i=t("../lib/dom"),o=t("./instances");e.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),i.remove(e.scrollbarX),i.remove(e.scrollbarY),i.remove(e.scrollbarXRail),i.remove(e.scrollbarYRail),r.removePsClasses(t),o.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";function r(t,e){function n(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",function(r){var o=i.toInt(e.scrollbarYHeight/2),u=e.railYRatio*(r.pageY-window.pageYOffset-n(e.scrollbarYRail).top-o),l=e.railYRatio*(e.railYHeight-e.scrollbarYHeight),c=u/l;c<0?c=0:c>1&&(c=1),a(t,"top",(e.contentHeight-e.containerHeight)*c),s(t),r.stopPropagation()}),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",function(r){var o=i.toInt(e.scrollbarXWidth/2),u=e.railXRatio*(r.pageX-window.pageXOffset-n(e.scrollbarXRail).left-o),l=e.railXRatio*(e.railXWidth-e.scrollbarXWidth),c=u/l;c<0?c=0:c>1&&(c=1),a(t,"left",(e.contentWidth-e.containerWidth)*c-e.negativeScrollAdjustment),s(t),r.stopPropagation()})}var i=t("../../lib/helper"),o=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){r(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,n){"use strict";function r(t,e){function n(n){var i=r+n*e.railXRatio,s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=i<0?0:i>s?s:i;var a=o.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;l(t,"left",a)}var r=null,i=null,a=function(e){n(e.pageX-i),u(t),e.stopPropagation(),e.preventDefault()},c=function(){o.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",a)};e.event.bind(e.scrollbarX,"mousedown",function(n){i=n.pageX,r=o.toInt(s.css(e.scrollbarX,"left"))*e.railXRatio,o.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",a),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}function i(t,e){function n(n){var i=r+n*e.railYRatio,s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=i<0?0:i>s?s:i;var a=o.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));l(t,"top",a)}var r=null,i=null,a=function(e){n(e.pageY-i),u(t),e.stopPropagation(),e.preventDefault()},c=function(){o.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",a)};e.event.bind(e.scrollbarY,"mousedown",function(n){i=n.pageY,r=o.toInt(s.css(e.scrollbarY,"top"))*e.railYRatio,o.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",a),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()})}var o=t("../../lib/helper"),s=t("../../lib/dom"),a=t("../instances"),u=t("../update-geometry"),l=t("../update-scroll");e.exports=function(t){var e=a.get(t);r(t,e),i(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,"mouseenter",function(){r=!0}),e.event.bind(t,"mouseleave",function(){r=!1});var s=!1;e.event.bind(e.ownerDocument,"keydown",function(l){if(!l.isDefaultPrevented||!l.isDefaultPrevented()){var c=o.matches(e.scrollbarX,":focus")||o.matches(e.scrollbarY,":focus");if(r||c){var p=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(p){if("IFRAME"===p.tagName)p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(i.isEditable(p))return}var f=0,h=0;switch(l.which){case 37:f=-30;break;case 38:h=30;break;case 39:f=30;break;case 40:h=-30;break;case 33:h=90;break;case 32:h=l.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=l.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:h=l.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}u(t,"top",t.scrollTop-h),u(t,"left",t.scrollLeft+f),a(t),s=n(f,h),s&&l.preventDefault()}}})}var i=t("../../lib/helper"),o=t("../../lib/dom"),s=t("../instances"),a=t("../update-geometry"),u=t("../update-scroll");e.exports=function(t){r(t,s.get(t))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,n){"use strict";function r(t,e){function n(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function r(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),[e,n]}function i(e,n){var r=t.querySelector("textarea:hover, .ps-child:hover");if(r){if("TEXTAREA"!==r.tagName&&!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&n>0||r.scrollTop===i&&n<0))return!0;var o=r.scrollLeft-r.clientWidth;if(o>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===o&&e>0))return!0}return!1}function a(a){var l=r(a),c=l[0],p=l[1];i(c,p)||(u=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(p?s(t,"top",t.scrollTop-p*e.settings.wheelSpeed):s(t,"top",t.scrollTop+c*e.settings.wheelSpeed),u=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(c?s(t,"left",t.scrollLeft+c*e.settings.wheelSpeed):s(t,"left",t.scrollLeft-p*e.settings.wheelSpeed),u=!0):(s(t,"top",t.scrollTop-p*e.settings.wheelSpeed),s(t,"left",t.scrollLeft+c*e.settings.wheelSpeed)),o(t),(u=u||n(c,p))&&(a.stopPropagation(),a.preventDefault()))}var u=!1
;void 0!==window.onwheel?e.event.bind(t,"wheel",a):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",a)}var i=t("../instances"),o=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){r(t,i.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,n){"use strict";function r(t,e){e.event.bind(t,"scroll",function(){o(t)})}var i=t("../instances"),o=t("../update-geometry");e.exports=function(t){r(t,i.get(t))}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function r(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function r(){l||(l=setInterval(function(){if(!o.get(t))return void clearInterval(l);a(t,"top",t.scrollTop+c.top),a(t,"left",t.scrollLeft+c.left),s(t)},50))}function u(){l&&(clearInterval(l),l=null),i.stopScrolling(t)}var l=null,c={top:0,left:0},p=!1;e.event.bind(e.ownerDocument,"selectionchange",function(){t.contains(n())?p=!0:(p=!1,u())}),e.event.bind(window,"mouseup",function(){p&&(p=!1,u())}),e.event.bind(window,"mousemove",function(e){if(p){var n={x:e.pageX,y:e.pageY},o={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<o.left+3?(c.left=-5,i.startScrolling(t,"x")):n.x>o.right-3?(c.left=5,i.startScrolling(t,"x")):c.left=0,n.y<o.top+3?(c.top=o.top+3-n.y<5?-5:-20,i.startScrolling(t,"y")):n.y>o.bottom-3?(c.top=n.y-o.bottom+3<5?5:20,i.startScrolling(t,"y")):c.top=0,0===c.top&&0===c.left?u():r()}})}var i=t("../../lib/helper"),o=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){r(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,n){"use strict";function r(t,e,n,r){function i(n,r){var i=t.scrollTop,o=t.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return!e.settings.swipePropagation}else if(s>a&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!e.settings.swipePropagation;return!0}function u(e,n){a(t,"top",t.scrollTop-n),a(t,"left",t.scrollLeft-e),s(t)}function l(){_=!0}function c(){_=!1}function p(t){return t.targetTouches?t.targetTouches[0]:t}function f(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function h(t){if(f(t)){w=!0;var e=p(t);m.pageX=e.pageX,m.pageY=e.pageY,v=(new Date).getTime(),null!==b&&clearInterval(b),t.stopPropagation()}}function d(t){if(!w&&e.settings.swipePropagation&&h(t),!_&&w&&f(t)){var n=p(t),r={pageX:n.pageX,pageY:n.pageY},o=r.pageX-m.pageX,s=r.pageY-m.pageY;u(o,s),m=r;var a=(new Date).getTime(),l=a-v;l>0&&(y.x=o/l,y.y=s/l,v=a),i(o,s)&&(t.stopPropagation(),t.preventDefault())}}function g(){!_&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return o.get(t)?Math.abs(y.x)<.01&&Math.abs(y.y)<.01?void clearInterval(b):(u(30*y.x,30*y.y),y.x*=.8,void(y.y*=.8)):void clearInterval(b)},10))}var m={},v=0,y={},b=null,_=!1,w=!1;n&&(e.event.bind(window,"touchstart",l),e.event.bind(window,"touchend",c),e.event.bind(t,"touchstart",h),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",g)),r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",l),e.event.bind(window,"pointerup",c),e.event.bind(t,"pointerdown",h),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",g)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",l),e.event.bind(window,"MSPointerUp",c),e.event.bind(t,"MSPointerDown",h),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",g)))}var i=t("../../lib/helper"),o=t("../instances"),s=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){if(i.env.supportsTouch||i.env.supportsIePointer){r(t,o.get(t),i.env.supportsTouch,i.env.supportsIePointer)}}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,n){"use strict";var r=t("../lib/helper"),i=t("../lib/class"),o=t("./instances"),s=t("./update-geometry"),a={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},u=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},i.add(t,"ps-container");var n=o.add(t);n.settings=r.extend(n.settings,e),i.add(t,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(e){a[e](t)}),u(t),s(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function r(t){function e(){u.add(t,"ps-focus")}function n(){u.remove(t,"ps-focus")}var r=this;r.settings=a.clone(l),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===c.css(t,"direction"),r.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.event=new p,r.ownerDocument=t.ownerDocument||document,r.scrollbarXRail=c.appendTo(c.e("div","ps-scrollbar-x-rail"),t),r.scrollbarX=c.appendTo(c.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",e),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=a.toInt(c.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:a.toInt(c.css(r.scrollbarXRail,"top")),r.railBorderXWidth=a.toInt(c.css(r.scrollbarXRail,"borderLeftWidth"))+a.toInt(c.css(r.scrollbarXRail,"borderRightWidth")),c.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=a.toInt(c.css(r.scrollbarXRail,"marginLeft"))+a.toInt(c.css(r.scrollbarXRail,"marginRight")),c.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=c.appendTo(c.e("div","ps-scrollbar-y-rail"),t),r.scrollbarY=c.appendTo(c.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",e),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=a.toInt(c.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:a.toInt(c.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?a.outerWidth(r.scrollbarY):null,r.railBorderYWidth=a.toInt(c.css(r.scrollbarYRail,"borderTopWidth"))+a.toInt(c.css(r.scrollbarYRail,"borderBottomWidth")),c.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=a.toInt(c.css(r.scrollbarYRail,"marginTop"))+a.toInt(c.css(r.scrollbarYRail,"marginBottom")),c.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function i(t){return t.getAttribute("data-ps-id")}function o(t,e){t.setAttribute("data-ps-id",e)}function s(t){t.removeAttribute("data-ps-id")}var a=t("../lib/helper"),u=t("../lib/class"),l=t("./default-setting"),c=t("../lib/dom"),p=t("../lib/event-manager"),f=t("../lib/guid"),h={};n.add=function(t){var e=f();return o(t,e),h[e]=new r(t),h[e]},n.remove=function(t){delete h[i(t)],s(t)},n.get=function(t){return h[i(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function i(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,a.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,a.css(e.scrollbarYRail,r),a.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),a.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var o=t("../lib/helper"),s=t("../lib/class"),a=t("../lib/dom"),u=t("./instances"),l=t("./update-scroll");e.exports=function(t){var e=u.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var n;t.contains(e.scrollbarXRail)||(n=a.queryChildren(t,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(t){a.remove(t)}),a.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||(n=a.queryChildren(t,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(t){a.remove(t)}),a.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=r(e,o.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=o.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=r(e,o.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=o.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),i(t,e),e.scrollbarXActive?s.add(t,"ps-active-x"):(s.remove(t,"ps-active-x"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,l(t,"left",0)),e.scrollbarYActive?s.add(t,"ps-active-y"):(s.remove(t,"ps-active-y"),e.scrollbarYHeight=0,e.scrollbarYTop=0,l(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,n){"use strict";var r,i,o=t("./instances"),s=document.createEvent("Event"),a=document.createEvent("Event"),u=document.createEvent("Event"),l=document.createEvent("Event"),c=document.createEvent("Event"),p=document.createEvent("Event"),f=document.createEvent("Event"),h=document.createEvent("Event"),d=document.createEvent("Event"),g=document.createEvent("Event");s.initEvent("ps-scroll-up",!0,!0),a.initEvent("ps-scroll-down",!0,!0),u.initEvent("ps-scroll-left",!0,!0),l.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),p.initEvent("ps-scroll-x",!0,!0),f.initEvent("ps-x-reach-start",!0,!0),h.initEvent("ps-x-reach-end",!0,!0),d.initEvent("ps-y-reach-start",!0,!0),g.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,n){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===e&&n<=0&&(t.scrollTop=n=0,t.dispatchEvent(d)),"left"===e&&n<=0&&(t.scrollLeft=n=0,t.dispatchEvent(f));var m=o.get(t);"top"===e&&n>=m.contentHeight-m.containerHeight&&(n=m.contentHeight-m.containerHeight,n-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(g)),"left"===e&&n>=m.contentWidth-m.containerWidth&&(n=m.contentWidth-m.containerWidth,n-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(h)),r||(r=t.scrollTop),i||(i=t.scrollLeft),"top"===e&&n<r&&t.dispatchEvent(s),"top"===e&&n>r&&t.dispatchEvent(a),"left"===e&&n<i&&t.dispatchEvent(u),"left"===e&&n>i&&t.dispatchEvent(l),"top"===e&&(t.scrollTop=r=n,t.dispatchEvent(c)),"left"===e&&(t.scrollLeft=i=n,t.dispatchEvent(p))}},{"./instances":18}],21:[function(t,e,n){"use strict";var r=t("../lib/helper"),i=t("../lib/dom"),o=t("./instances"),s=t("./update-geometry"),a=t("./update-scroll");e.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,i.css(e.scrollbarXRail,"display","block"),i.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=r.toInt(i.css(e.scrollbarXRail,"marginLeft"))+r.toInt(i.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=r.toInt(i.css(e.scrollbarYRail,"marginTop"))+r.toInt(i.css(e.scrollbarYRail,"marginBottom")),i.css(e.scrollbarXRail,"display","none"),i.css(e.scrollbarYRail,"display","none"),s(t),a(t,"top",t.scrollTop),a(t,"left",t.scrollLeft),i.css(e.scrollbarXRail,"display",""),i.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]);var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/components/question_nav",["require","underscore","backbone","perfect-scrollbar","sp/utilities/strip_markdown","etc/definitions"],function(t){var e,n,r,i,o;return r=t("underscore"),n=t("backbone").View,e=t("perfect-scrollbar"),o=t("sp/utilities/strip_markdown"),i=t("etc/definitions").questionTypes,function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.prototype.tagName="nav",n.prototype.id="question-nav",n.prototype.events={"click .question-nav-item":"itemClickHandler"},n.prototype.initialize=function(t){return n.__super__.initialize.call(this,t)},n.prototype.render=function(){var t;return t=$("<ul>").appendTo(this.el),this.model.get("questions").forEach(function(e,n){var s,a;return s=$("<li>").addClass("question-nav-item").data("index",n).appendTo(t),a=r.chain(i).find({type:e.type}).result("display").value(),$("<div>").addClass("question-nav-item-index").html("<span><abbr>Q</abbr>"+(n+1)+"</span>").appendTo(s),$("<div>").addClass("question-nav-item-title").text(o(e.title)).append($("<span>").text(a)).appendTo(s)}),this.selectQuestionItem(0),this.$el.delay(1e3).animate({left:0,opacity:1}),e.initialize(this.el),this.$el.attr({"aria-label":"question list"}).css({left:-(this.$el.outerWidth()+10),opacity:0}),this.$el},n.prototype.selectQuestionItem=function(t){return this.$el.find("li").removeClass("selected"),this.$el.find("li:nth-child("+(t+1)+")").addClass("selected")},n.prototype.destroy=function(t){return null==t&&(t=function(){}),this.$el.animate({left:-(this.$el.outerWidth()+10),opacity:0},"fast",function(e){return function(){return e.$el.unbind(),e.$el.remove(),t()}}(this))},n.prototype.itemClickHandler=function(t){var e,n;return e=$(t.target).closest("li"),n=e.data("index"),this.selectQuestionItem(n),this.trigger("select",n)},n}(n)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/display_types/multiple",["require","underscore","./display_type","views/components/question_nav"],function(t){var e,n,r;return r=t("underscore"),e=t("./display_type"),n=t("views/components/question_nav"),function(t){function e(){return this.windowScrollHandler=bind(this.windowScrollHandler,this),this.questionNavItemClickHandler=bind(this.questionNavItemClickHandler,this),this.submitButtonClickHandler=bind(this.submitButtonClickHandler,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.questionNav=null,e.prototype.questionViews=null,e.prototype.initialize=function(t){return e.__super__.initialize.call(this,t),this.initListeners()},e.prototype.render=function(){return e.__super__.render.call(this),this.questionNav=new n({model:this.model}),this.questionNav.on("select",this.questionNavItemClickHandler),$("#survey-container").append(this.questionNav.render()),this.questionViews=[],this.model.get("questions").forEach(function(t){return function(e,n){return e=t.initQuestion(e),t.questionViews.push(e),e.$el.hide().fadeIn()}}(this)),this.el},e.prototype.submitButtonClickHandler=function(t){var e;return t.preventDefault(),e=r.find(this.questionViews,function(t){return!t.valid}),e?($(t.target).prop("disabled",!1),e.showValidationError()):($(t.target).prop("disabled",!0),this.questionViews.forEach(function(t){return function(e){return t.recordAnswer(e),e.destroy()}}(this)),this.questionNav?this.questionNav.destroy(function(t){return function(){return t.scrollTo(0),t.trigger("complete")}}(this)):this.trigger("complete"))},e.prototype.scrollTo=function(t){return this.destroyListeners(),$("html, body").stop().delay(100).animate({scrollTop:t},500,function(t){return function(){return t.initListeners()}}(this))},e.prototype.questionNavItemClickHandler=function(t){var e,n;if(e=this.$el.find(".question:nth-child("+(t+1)+")"),e.length)return n=e.offset().top-$("#survey-header").outerHeight(),this.scrollTo(n)},e.prototype.windowScrollHandler=function(t){var e,n,i,o;if(i=100,this.questionNav&&(n=$(window).scrollTop(),o=$("#survey-header").outerHeight(),e=r.find(this.questionViews,function(t){return function(t){var e;if((e=t.$el.position().top-n)+i>o&&o>e-i)return t}}())))return this.questionNav.selectQuestionItem(e.index)},e.prototype.questionUpdateHandler=function(t){return this.recordAnswer(t)},e.prototype.initListeners=function(){return $(window).scroll(this.windowScrollHandler)},e.prototype.destroyListeners=function(){return $(window).off("scroll",this.windowScrollHandler)},e}(e)}),define("etc/branching_filter",["require","underscore","models/survey"],function(t){var e,n;return n=t("underscore"),e=t("models/survey"),function(){function t(t){window.DEBUG=!1,this.model=t.model,this.model.get("questions").forEach(function(t,e){return t.index=e})}return t.prototype.model=null,t.prototype.currentQuestion=null,t.prototype.filter=function(t,e){if(this.currentQuestion=t,this.hasBrachingOptions(t)&&("essay"===t.type&&e&&!e.values&&(e.values=[""]),e))return this.triggerBranchingResults(t.branches,e)},t.prototype.triggerBranchingResults=function(t,r){var i;return i=[],t.forEach(function(t){return function(o){if(t.validateBranchingCondition(o,r.values))return o.results.forEach(function(r){var o;if(window.DEBUG&&console.log("BRANCH (triggerBranchingResults)\naction:\t "+r.action+"\nproperty:\t"+r.property+"\nvalue:\t"+r.value),o=[],"skip"===r.action?o=function(){switch(r.property){case"number":return this.model.get("questions").filter(function(t,e){return t.index+1===Number(r.value)});case"title":return this.model.get("questions").filter(function(t){return t.title.trim()===r.value.trim()});case"subtitle":return this.model.get("questions").filter(function(t){return t.subtitle.trim()===r.value.trim()});case"type":return this.model.get("questions").filter(function(t){return t.type===r.value});case"tag":return this.model.get("questions").filter(function(t){return t.meta&&n.isArray(t.meta.tags)&&-1!==t.meta.tags.indexOf(r.value)});case"required":return this.model.get("questions").filter(function(t){return t.required})}}.call(t):"go"===r.action?t.model.get("questions").some(function(e,n){return window.DEBUG&&console.log("ACTION (GO)\nindex: "+e.index+"\n_id: "+e._id+"\ntitle: "+e.title+"\nsubtitle: "+e.subtitle+"\nrequired: "+e.required),!(e.index<=t.currentQuestion.index)&&("number"===r.property?!(e.index+1<Number(r.value))||(o.push(e),!1):"title"===r.property&&null!=e.title?null!=e.title&&e.title.trim()===r.value.trim()||(o.push(e),!1):"subtitle"===r.property?null!=e.subtitle&&e.subtitle.trim()===r.value.trim()||(o.push(e),!1):"type"===r.property?null!=e.type&&e.type===r.value||(o.push(e),!1):"required"!==r.property||(!!e.required||(o.push(e),!1)))}):"end"===r.action?("custom"===r.property&&r.value&&(t.model.get("success").msg=r.value),o=t.model.get("questions")):"disqualify"===r.action&&(t.model.trigger(e.DISQUALIFY_EVENT),"custom"===r.property&&r.value&&(t.model.get("success").msg=r.value),o=t.model.get("questions")),o&&o.length)return i=i.concat(o)})}}(this)),i.forEach(function(t){return function(e,r){if(e._id!==t.currentQuestion._id&&(t.model.set("questions",n.without(t.model.get("questions"),e)),window.DEBUG))return console.log("BRANCH (removing):\n\tindex:\t"+e.index+"\n\tid:\t"+e._id+"\n\ttitle:\t"+e.title+"\n\ttotalRemaining:\t"+t.model.get("questions").length)}}(this))},t.prototype.validateBranchingCondition=function(t,e){var r;return r="any"===t.quantifier?n.some:n.every,window.DEBUG&&console.log("BRANCH (quantifier): "+t.quantifier+" "),r(t.conditions,function(t){return function(r){var i,o,s,a,u;return s=r.response,o=r.operator,u=r.value,"time"!==s&&"date"!==s&&"datetime"!==s||(u=new Date(u).getTime()),e=t.prepAnswerForValidation(s,e),window.DEBUG&&console.log("BRANCH (condition): "+s+"  "+o+"  "+u+" "),i=-1===o.indexOf("not")?n.some:n.every,a=i(e,function(t){var e;if(window.DEBUG&&console.log("BRANCH (value): "+JSON.stringify(t)+" "),null==t)return!1;switch(o){case"is":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label.toString()===s.toString()&&t.value.toString()===u.toString():t.toString()===u.toString();case"is not":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label.toString()!==s.toString()||t.value.toString()!==u.toString():t.toString()!==u.toString();case"begins with":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label===s&&RegExp("^("+u+").*","mi").test(t.value.trim()):RegExp("^("+u+").*","mi").test(t.trim());case"does not begin with":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label!==s||RegExp("^(?!"+u+").*","mi").test(t.value.trim()):RegExp("^(?!"+u+").*","mi").test(t.trim());case"ends with":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label===s&&RegExp(".*("+u+")$","mi").test(t.value.trim()):RegExp(".*("+u+")$","mi").test(t.trim());case"does not end with":if(!t.hasOwnProperty("label")||!t.hasOwnProperty("value"))return!RegExp(".*("+u+")$","mi").test(t.trim());if(t.label===s)return!RegExp(".*("+u+")$","mi").test(t.value.trim());break;case"contains":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label===s&&RegExp("("+u+")","mi").test(t.value.trim()):RegExp("("+u+")","mi").test(t);case"does not contain":return t.hasOwnProperty("label")&&t.hasOwnProperty("value")?t.label!==s||RegExp("^((?!"+u+").)*$","mi").test(t.value.trim()):RegExp("^((?!"+u+").)*$","mi").test(t);case"is greater than":return e=t.hasOwnProperty("value")?t.value:t,t.hasOwnProperty("value")&&t.hasOwnProperty("label")&&"response"!==s?t.label===s&&Number(e)>Number(u):Number(e)>Number(u);case"is greater than or equal to":return e=t.hasOwnProperty("value")?t.value:t,t.hasOwnProperty("value")&&t.hasOwnProperty("label")&&"response"!==s?t.label===s&&Number(e)>=Number(u):Number(e)>=Number(u);case"is less than":return e=t.hasOwnProperty("value")?t.value:t,t.hasOwnProperty("value")&&t.hasOwnProperty("label")&&"response"!==s?t.label===s&&Number(e)<Number(u):Number(e)<Number(u);case"is less than or equal to":return e=t.hasOwnProperty("value")?t.value:t,t.hasOwnProperty("value")&&t.hasOwnProperty("label")&&"response"!==s?t.label===s&&Number(e)<=Number(u):Number(e)<=Number(u);case"is equal to":return e=t.hasOwnProperty("value")?t.value:t,t.hasOwnProperty("value")&&t.hasOwnProperty("label")&&"response"!==s?t.label===s&&Number(e)===Number(u):Number(e)===Number(u);case"is blank":return null==(t=t.hasOwnProperty("value")?t.value:t)||!t.length;case"is not blank":return null!=(t=t.hasOwnProperty("value")?t.value:t)&&t.length;default:return!1}}),window.DEBUG&&console.log("BRANCH (valid): ",a),a}}(this))},t.prototype.prepAnswerForValidation=function(t,e){var r;switch(e=n.cloneDeep(e),n.every(e,function(t){return t.hasOwnProperty("value")&&/\.(gif|jpg|jpeg|png)$/i.test(t.value)})&&n.each(e,function(t){return t.value=!0}),t){case"total":return n.isArray(e)&&e.length&&n.isPlainObject(e[0])&&(e=n.map(e,"value")),r=n.reduce(e,function(t,e){return Number(t)+Number(e)}),[r];case"average":return n.isArray(e)&&e.length&&n.isPlainObject(e[0])&&(e=n.map(e,"value")),r=n.reduce(e,function(t,e){return Number(t)+Number(e)}),[r/e.length];case"date":case"time":case"datetime":if(n.isArray(e)&&e.length&&e[0]&&n.isFunction(e[0].getTime))return[e[0].getTime()];break;default:return e}},t.prototype.hasBrachingOptions=function(t){return t.branches&&n.every(t.branches,function(t){return t.conditions&&t.conditions.length&&t.results&&t.results.length})},t}()});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/components/progress_bar",["require","underscore","backbone"],function(t){var e;return t("underscore"),e=t("backbone").View,function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.id="progress-bar",e.prototype.total=0,e.prototype.value=0,e.prototype.$value=null,e.prototype.$progress=null,e.prototype.initialize=function(t){return this.total=t.total||0,this.value=t.value||0,this.render(),this.progress()},e.prototype.render=function(){var t;return t=$("<div>").addClass("progress-counter"),this.$value=$("<span>").addClass("progress-value").text("0%").appendTo(t),this.$progress=$("<div>").addClass("progress").append(t),this.$el.append(this.$progress),$("body").append(this.$el),this.$el},e.prototype.progress=function(){return this.setValue(this.value+1)},e.prototype.setValue=function(t,e){var n;return null!=e&&(this.total=e),null!=t&&(this.value=t),n=Math.ceil(this.value/this.total*100),this.$progress.css("width",n+"%"),n>=100&&this.$el.addClass("done"),this.$value.html(n+"<span>%</span>")},e.prototype.destroy=function(t){return this.$el.fadeOut(function(e){return function(){return e.$el.remove(),t()}}(this))},e}(e)});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/display_types/single",["require","underscore","models/survey","./display_type","etc/branching_filter","views/components/progress_bar","etc/definitions"],function(t){var e,n,r,i,o;return t("underscore"),i=t("models/survey"),n=t("./display_type"),e=t("etc/branching_filter"),r=t("views/components/progress_bar"),o=t("etc/definitions").audienceStatus,function(t){function n(){return this.participantDisqualifiedHandler=bind(this.participantDisqualifiedHandler,this),this.windowResizeHandler=bind(this.windowResizeHandler,this),this.submitButtonClickHandler=bind(this.submitButtonClickHandler,this),this.previousButtonClickHandler=bind(this.previousButtonClickHandler,this),this.nextButtonClickHandler=bind(this.nextButtonClickHandler,this),n.__super__.constructor.apply(this,arguments)}return extend(n,t),n.prototype.className="single",n.prototype.progressBar=null,n.prototype.branchingFilter=null,n.prototype.$html=null,n.prototype.initialize=function(t){return n.__super__.initialize.call(this,t)},n.prototype.render=function(){return this.initListeners(),this.$html=$("html"),this.hasBranches&&(this.participant.set("answers",[]),this.branchingFilter=new e({model:this.model})),this.currentQuestion=this.initQuestion(this.model.get("questions")[0]),setTimeout(function(t){return function(){return t.currentQuestion.in({animate:!0})}}(this),100),this.progressBar=new r({total:this.model.get("questions").length}),this.el},n.prototype.next=function(t){var e,n;if(this.recordAnswer(t))return n=t.index+1,this.branchingFilter&&(e=this.participant.get("answers")[t.index],this.branchingFilter.filter(t.model.toJSON(),e)),t.out({destroyOnComplete:!0},function(t){return function(){return t.$html.scrollTop(0)}}(this)),this.model.get("questions")[n]?(this.currentQuestion=this.initQuestion(this.model.get("questions")[n]),this.currentQuestion.in({animate:!0}),this.progressBar.setValue(this.currentQuestion.index+1,this.model.get("questions").length)):this.progressBar.destroy(function(t){return function(){return t.trigger("complete")}}(this))},n.prototype.previous=function(t){var e,n;if(this.recordAnswer(t),e=t.index-1,n=this.model.get("questions")[e],t.out({destroyOnComplete:!0,reverse:!0,animate:!0},function(t){return function(){return t.$html.scrollTop(0)}}(this)),n)return this.currentQuestion=this.initQuestion(n),this.currentQuestion.in({animate:!0,reverse:!0}),this.progressBar.setValue(this.currentQuestion.index+1,this.model.get("questions").length)},n.prototype.nextButtonClickHandler=function(t,e){return t.preventDefault(),this.next(e)},n.prototype.previousButtonClickHandler=function(t,e){return t.preventDefault(),this.previous(e)},n.prototype.submitButtonClickHandler=function(t,e){return t.preventDefault(),this.next(e)},n.prototype.windowResizeHandler=function(t){if(this.currentQuestion)return this.currentQuestion.center({animate:!1})},n.prototype.participantDisqualifiedHandler=function(){var t;if(this.participant&&(this.participant.disqualified=!0,(t=this.participant.get("audience"))&&t.session&&t.session.length))return t.status=o.disqualify},n.prototype.questionUpdateHandler=function(t){},n.prototype.initListeners=function(){return $(window).resize(this.windowResizeHandler),this.model.once(i.DISQUALIFY_EVENT,this.participantDisqualifiedHandler)},n}(n)});var extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/components/loader",["require","underscore","backbone"],function(t){var e;return t("underscore"),e=t("backbone").View,function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.el="#loader",e.prototype.id="loader",e.prototype.initialize=function(){},e.prototype.loading=function(){return this.$el.hadClass("in")},e.prototype.show=function(){return this.$el.addClass("in").fadeIn()},e.prototype.hide=function(){return this.$el.addClass("out").fadeOut()},e.prototype.destroy=function(t){return this.$el.fadeOut(function(e){return function(){return e.$el.off().remove(),t()}}(this))},e}(e)}),define("text!templates/theme.css",[],function(){
return"<% var black = \"#1b1c1c\";var white = \"#ffffff\";%> <% if ( typeof background !== 'undefined' && !_.isEmpty(background) ){%> <% var bgColor = _.tinycolor(background.color);%> <% if ( bgColor.isValid() ){%> body{background-color:<%= bgColor.toRgbString() %>;}.ajax-loader li{background-color:<%= bgColor.isLight() ? black :white %>;}#progress-bar:hover{background-color:<%= bgColor.darken().toRgbString() %>;}<%}%> <% if ( !_.isEmpty(background.image) && background.image.url && background.image.url.length){%> body{position:relative;}body:before{content:'';display:block;position:fixed;z-index:-1;left:0;right:0;top:0;bottom:0;opacity:<%= (background.image.opacity > 0) ? background.image.opacity/100 :1 %>;background-image:url(<%- background.image.url %>);<% if ( background.image.cover ){%> background-repeat:no-repeat;background-position:center center;background-attachment:fixed;background-size:cover;<%}%>}<%}%> <%}%> <% if ( typeof header !== 'undefined' && !_.isEmpty(header) ){%> <% if ( _.tinycolor(header.color).isValid() ){var headerColor = _.tinycolor(header.color).toRgbString();}%> <% if ( header.image && header.image.url && header.image.url.length){var headerImage = header.image.url;}%> <% if ( headerColor ){%> #survey-header,#welcome-header,#success-header{background-color:<%= headerColor %>;}<%}%> <% if (headerImage){%> #survey-header:before{content:'';display:block;position:absolute;z-index:-1;left:0;right:0;top:0;bottom:0;opacity:<%= (header.image && header.image.opacity > 0) ? header.image.opacity/100 :1 %>;background-image:url(<%- headerImage %>);<% if ( header.image && header.image.cover ){%> background-repeat:no-repeat;background-position:center center;background-size:cover;<%}%>}#welcome-header:before{content:'';display:block;position:absolute;z-index:0;left:0;right:0;top:0;bottom:0;opacity:<%= (header.image && header.image.opacity > 0) ? header.image.opacity/100 :1 %>;background-image:url(<%- headerImage %>);<% if ( header.image && header.image.cover ){%> background-repeat:no-repeat;background-position:center center;background-size:cover;<%}%>}#success-header:before{content:'';display:block;position:absolute;z-index:0;left:0;right:0;top:0;bottom:0;opacity:<%= (header.image && header.image.opacity > 0) ? header.image.opacity/100 :1 %>;background-image:url(<%- headerImage %>);<% if ( header.image && header.image.cover ){%> background-repeat:no-repeat;background-position:center center;background-size:cover;<%}%>}#welcome-header *,#success-header *{position:relative;z-index:1;}<%}%> <%}%> <% if ( typeof surveyTitle !== 'undefined' && !_.isEmpty(surveyTitle) ){%> <% if ( _.tinycolor(surveyTitle.color).isValid() ){var surveyTitleColor = _.tinycolor(surveyTitle.color).toRgbString();}%> #survey-title{<% if ( surveyTitleColor){%> color:<%=surveyTitleColor%>;<%}%> <% if ( surveyTitle.size ){%> font-size:<%-surveyTitle.size%>px;<%}%> <% if ( surveyTitle.font ){%> font-family:<%-surveyTitle.font%>;<%}%>}#welcome-header{<% if ( surveyTitleColor){%> color:<%=surveyTitleColor%>;<%}%> <% if ( surveyTitle.size ){%> font-size:<%-surveyTitle.size%>px;<%}%> <% if ( surveyTitle.font ){%> font-family:<%-surveyTitle.font%>;<%}%>}#success-header{<% if ( surveyTitleColor){%> color:<%=surveyTitleColor%>;<%}%> <% if ( surveyTitle.size ){%> font-size:<%-surveyTitle.size%>px;<%}%> <% if ( surveyTitle.font ){%> font-family:<%-surveyTitle.font%>;<%}%>}<%}%> <% if ( typeof buttons !== 'undefined' && !_.isEmpty(buttons) && !_.isEmpty(buttons.color) ){%> .button,.button.accent{background-color:<%= _.tinycolor(buttons.color).toRgbString() %>;}.button:hover,.button.accent:hover{<% var btnHoverColor = _.tinycolor(buttons.color);%> <% if ( btnHoverColor.isLight() ){%> background-color:<%= btnHoverColor.darken().toRgbString() %>;<%}else{%> background-color:<%= btnHoverColor.lighten().toRgbString() %>;<%}%>}<%}%> <% if ( typeof buttonLabels !== 'undefined' && !_.isEmpty(buttonLabels) ){%> .button,.button.accent{<% if ( !_.isEmpty(buttonLabels.color) ){%> color:<%= _.tinycolor(buttonLabels.color).toRgbString() %>;<%}%> <% if ( buttonLabels.font ){%> font-family:<%-buttonLabels.font%>;<%}%> <% if ( buttonLabels.size ){%> font-size:<%-buttonLabels.size%>px;<%}%>}<%}%> <% if ( typeof questions !== 'undefined' && !_.isEmpty(questions) ){%> <% if ( _.tinycolor(questions.color).isValid() ){var color = _.tinycolor(questions.color);var questionColor = color.toRgbString();var questionColorDark = color.darken().toRgbString();}%> .question{<% if ( questionColor ){%> background-color:<%= questionColor %>;<%}%> box-shadow:none;}<% if ( !_.isEmpty(questions.image) && questions.image.url && questions.image.url.length){%> .question:before{content:'';display:block;position:absolute;z-index:0;left:0;right:0;top:0;bottom:0;opacity:<%= (questions.image && questions.image.opacity > 0) ? questions.image.opacity/100 :1 %>;background-image:url(<%- questions.image.url %>);<% if ( questions.image && questions.image.cover ){%> background-repeat:no-repeat;background-position:center center;background-size:cover;<%}%>}.question-form,.question-comments,#survey-welcome hgroup,#survey-success hgroup{position:relative;z-index:1;}<%}%> <% if ( questionColor ){%> #survey-welcome .anonymous-message{<% if ( color.isLight() ){%> color:<%= black %>;<%}else{%> color:<%= white %>;<%}%>}.question.image-question label{background-color:<%=questionColor%>;}#question-nav{background-color:<%=questionColor%>;}.sp-slider-handle{background-color:<%=questionColor%>;}label.ampm-switch .toggle-button{background-color:<%=questionColor%>;border-color:<%=questionColorDark%>;}label.ampm-switch .toggle-button:before{color:<%=questionColorDark%>;}.question-nav-item:hover{background-color:<%=questionColorDark%>;}.question-nav-item.selected{background-color:<%=questionColorDark%>;}<%}%> <%}%> <% if ( typeof questionTitle !== 'undefined' && !_.isEmpty(questionTitle) ){%> <% if ( _.tinycolor(questionTitle.color).isValid() ){var questionTitleColor = _.tinycolor(questionTitle.color).toRgbString();}%> .question-title{<% if ( questionTitleColor ){%> color:<%= questionTitleColor %>;<%}%> <% if ( questionTitle.font ){%> font-family:<%-questionTitle.font%>;<%}%> <% if ( questionTitle.size ){%> font-size:<%-questionTitle.size%>px;<%}%>}#welcome-message,#welcome-message p{<% if ( questionTitleColor ){%> color:<%= questionTitleColor %>;<%}%> <% if ( questionTitle.font ){%> font-family:<%-questionTitle.font%>;<%}%> <% if ( questionTitle.size ){%> font-size:<%-questionTitle.size%>px;<%}%>}#success-message{<% if ( questionTitleColor ){%> color:<%= questionTitleColor %>;<%}%> <% if ( questionTitle.font ){%> font-family:<%-questionTitle.font%>;<%}%> <% if ( questionTitle.size ){%> font-size:<%-questionTitle.size%>px;<%}%>}.question-nav-item-title{<% if ( questionTitleColor ){%> color:<%= questionTitleColor %>;<%}%> <% if ( questionTitle.font ){%> font-family:<%-questionTitle.font%>;<%}%>}<%}%> <% if ( typeof questionSubtitle !== 'undefined' && !_.isEmpty(questionSubtitle) ){%> <% if ( _.tinycolor(questionSubtitle.color).isValid() ){var subtitleColor = _.tinycolor(questionSubtitle.color).toRgbString();}%> .question-subtitle{<% if ( subtitleColor ){%> color:<%= subtitleColor %>;<%}%> <% if ( questionSubtitle.font ){%> font-family:<%-questionSubtitle.font%>;<%}%> <% if ( questionSubtitle.size ){%> font-size:<%-questionSubtitle.size%>px;<%}%>}.question-nav-item-title span{<% if ( subtitleColor ){%> color:<%= subtitleColor %>;<%}%> <% if ( questionSubtitle.font ){%> font-family:<%-questionSubtitle.font%>;<%}%>}<%}%> <% if ( typeof formLabels !== 'undefined' && !_.isEmpty(formLabels) ){%> <% if ( _.tinycolor(formLabels.color).isValid() ){var formLabelColor = _.tinycolor(formLabels.color).toRgbString();}%> label,.label{<% if ( formLabelColor ){%> color:<%=formLabelColor%>;<%}%> <% if ( formLabels.font ){%> font-family:<%-formLabels.font%>;<%}%> <% if ( formLabels.size ){%> font-size:<%-formLabels.size%>px;<%}%>}.question.scoring-question th,.question.scoring-question td{<% if ( formLabelColor ){%> color:<%=formLabelColor%>;<%}%> <% if ( formLabels.font ){%> font-family:<%-formLabels.font%>;<%}%> <% if ( formLabels.size ){%> font-size:<%-formLabels.size%>px;<%}%>}.question.essay-question ul.essay-info li{<% if ( formLabelColor ){%> color:<%=formLabelColor%>;<%}%> <% if ( formLabels.font ){%> font-family:<%-formLabels.font%>;<%}%> <% if ( formLabels.size ){%> font-size:<%-formLabels.size%>px;<%}%>}<% if ( formLabelColor ){%> label.ampm-switch .toggle-button{color:<%=formLabelColor%>;}.question.image-question label figcaption{color:<%=formLabelColor%>;}<%}%> <%}%> <% if ( typeof inputs !== 'undefined' && !_.isEmpty(inputs) && _.tinycolor(inputs.color).isValid() ){%> <% var color = _.tinycolor(inputs.color);var inputColor = color.toRgbString();var inputColorDark = color.darken().toRgbString();var inputTextColor = color.isLight() ? black :white;%> textarea,input,select{background-color:<%= inputColor %>;color:<%= inputTextColor %>;}select::-ms-value,select:focus::-ms-value{color:<%= inputTextColor %>;}.placeholder,option.placeholder{color:<%=inputColorDark%>;}::-webkit-input-placeholder{color:<%=inputColorDark%>;}::-moz-placeholder{color:<%=inputColorDark%>;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:<%=inputColorDark%>;}label.radio .radio-button:before,label.checkbox .checkbox-button:before,label.radio input[type=radio]:checked + .radio-button:before{background-color:<%= inputColor %>;}<%}%> <% if ( typeof lines !== 'undefined' && !_.isEmpty(lines) && _.tinycolor(lines.color).isValid() ){%> <% var lineColor = _.tinycolor(lines.color).toRgbString();%> .question footer{border-color:<%= lineColor %>;}textarea,input,select{border-color:<%= lineColor %>;box-shadow:none;}label.radio .radio-button:before,label.checkbox .checkbox-button:before,label.radio input[type=radio]:checked + .radio-button:before,label.checkbox input[type=radio]:checked + .radio-button:before{border-color:<%= lineColor %>;}.question .sp-slider-background{background-color:<%=lineColor%>;}.question.image-question label{border-color:<%= lineColor %>;}.question-nav-item{border-top-color:<%= lineColor %>;}<%}%> <% if ( typeof accents !== 'undefined' && !_.isEmpty(accents) && _.tinycolor(accents.color).isValid() ){%> <% var color = _.tinycolor(accents.color);var accentColor = color.toRgbString();var accentColorDark = color.darken().toRgbString();var contrastColor = color.isLight() ? black :white;%> #progress-bar .progress{background-color:<%= accentColor %>;}.question-form a{color:<%= accentColor %> !important;}.question-form a:hover{color:<%= accentColorDark %> !important;}textarea:focus,input:focus,select:focus{border-color:<%= accentColor %>;}label.radio:hover input[type=radio] + .radio-button:before,label.checkbox:hover input[type=checkbox] + .checkbox-button:before{border-color:<%= accentColor %>;}label.checkbox input[type=checkbox]:checked + .checkbox-button:before{border-color:<%= accentColor %>;background-color:<%= accentColor %>;}label.radio .radio-button:after,label.checkbox .radio-button:after{background-color:<%= accentColor %>;}label.radio .checkbox-button:after,label.checkbox .checkbox-button:after{border-color:<%= contrastColor %>;}.complete-mark:after{border-color:<%= accentColor %>;}.question-title .required{color:<%= accentColor %>;}.question.essay-question ul.essay-info li span{color:<%=accentColor%>;}.question .sp-slider-connect{background-color:<%= accentColor %>;}.question .sp-slider-handle{border-color:rgba(0,0,0,0.1);box-shadow:0 1px 1px rgba(0,0,0,.25)}.question .sp-slider-handle:after{background-color:<%=accentColor%>;}.question .sp-slider-handle:hover{border-color:<%=accentColor%>;}.question .sp-slider-handle:active{border-color:<%=accentColor%>;background-color:<%=accentColorDark%>;}.question.scale-question input,.question.range-question input{color:<%=accentColor%>;}label.ampm-switch{background-color:<%=accentColor%>;}.question.image-question label.checked{border-color:<%=accentColor%>;}.question.image-question label.checked figcaption{color:<%=accentColor%>;}#survey-welcome .optional,#survey-welcome .required{background-color:<%= accentColor %>;<% if ( color.isLight() ){%> color:<%= black %>;<%}else{%> color:<%= white %>;<%}%>}.question-nav-item-index{color:<%=accentColor%>;}.question-nav-item.selected{border-right-color:<%=accentColor%>;}<%}%>"}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/escape",[],e):"object"==typeof module&&module.exports?module.exports=e():t.ensureProtocol=e()}(this,function(){return function(t,e){var n,r,i,o;return null==e&&(e={}),n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e.characterMap&&(n=e.characterMap),i=Object.keys(n),r=i.map(function(t){return n[t]}),new RegExp("&(?:"+r.map(function(t){return t.replace(/(&|;)/g,"")}).join("|")+");","g"),o=new RegExp("["+i.join("")+"]","g"),"[object String]"===Object.prototype.toString.call(t)&&t.length?i.some(function(e){return t.indexOf(e)>=0})?t.replace(o,function(t){return n[t]}):t:""}}),function(){function t(t,e,n){return t.call.apply(t.bind,arguments)}function e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function n(r,i,o){return n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e,n.apply(null,arguments)}function r(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function i(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function o(t,e,n){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function a(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,s=0;s<r.length;s+=1)if(e[i]===r[s]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,s=0;s<n.length;s+=1)if(r[i]===n[s]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function l(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function c(t){return t.m.location.hostname||t.a.location.hostname}function p(t,e,n){function r(){l&&s&&a&&(l(u),l=null)}e=i(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,a=!0,u=null,l=n||null;rt?(e.onload=function(){s=!0,r()},e.onerror=function(){s=!0,u=Error("Stylesheet failed to load"),r()}):setTimeout(function(){s=!0,r()},0),o(t,"head",e)}function f(t,e,n,r){var o=t.c.getElementsByTagName("head")[0];if(o){var s=i(t,"script",{src:e}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&o.removeChild(s))},o.appendChild(s),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},r||5e3),s}return null}function h(){this.a=0,this.c=null}function d(t){return t.a++,function(){t.a--,m(t)}}function g(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function y(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function b(t){return x(t)+" "+t.f+"00 300px "+_(t.c)}function _(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function w(t){return t.a+t.f}function x(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function k(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new v("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function C(t){t.g&&a(t.f,[t.a.c("wf","loading")]),T(t,"loading")}function S(t){if(t.g){var e=u(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),a(t.f,n,r)}T(t,"inactive")}function T(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,w(n)):t.h[e]())}function A(){this.c={}}function D(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}function q(t,e){this.c=t,this.f=e,this.a=i(this.c,"span",{"aria-hidden":"true"},this.f)}function O(t){o(t.c,"body",t.a)}function L(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(t.c)+";font-style:"+x(t)+";font-weight:"+t.f+"00;"}function j(t,e,n,r,i,o){this.g=t,this.f=e,this.a=r,this.c=n,this.j=i||3e3,this.h=o||void 0}function P(t,e,n,r,i,o,s){this.v=t,this.B=e,this.c=n,this.a=r,this.s=s||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new q(this.c,this.s),this.h=new q(this.c,this.s),this.j=new q(this.c,this.s),this.o=new q(this.c,this.s),t=new y(this.a.c+",serif",w(this.a)),t=L(t),this.g.a.style.cssText=t,t=new y(this.a.c+",sans-serif",w(this.a)),t=L(t),this.h.a.style.cssText=t,t=new y("serif",w(this.a)),t=L(t),this.j.a.style.cssText=t,t=new y("sans-serif",w(this.a)),t=L(t),this.o.a.style.cssText=t,O(this.g),O(this.h),O(this.j),O(this.o)}function R(){if(null===ot){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ot=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return ot}function N(t,e,n){for(var r in it)if(it.hasOwnProperty(r)&&e===t.f[it[r]]&&n===t.f[it[r]])return!0;return!1}function $(t){var e,n=t.g.a.offsetWidth,r=t.h.a.offsetWidth;(e=n===t.f.serif&&r===t.f["sans-serif"])||(e=R()&&N(t,n,r)),e?nt()-t.A>=t.w?R()&&N(t,n,r)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?B(t,t.v):B(t,t.B):I(t):B(t,t.v)}function I(t){setTimeout(n(function(){$(this)},t),50)}function B(t,e){setTimeout(n(function(){s(this.g.a),s(this.h.a),s(this.j.a),s(this.o.a),e(this.a)},t),0)}function H(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}function F(t){0==--t.f&&t.j&&(t.o?(t=t.a,t.g&&a(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):S(t.a))}function M(t){this.j=t,this.a=new A,this.h=0,this.f=this.g=!0}function z(t,e,r,i,o){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,u=i||null||{};if(0===r.length&&s)S(e.a);else{e.f+=r.length,s&&(e.j=s);var l,c=[];for(l=0;l<r.length;l++){var p=r[l],f=u[p.c],h=e.a,d=p;h.g&&a(h.f,[h.a.c("wf",d.c,w(d).toString(),"loading")]),T(h,"fontloading",d),h=null,null===st&&(st=!!window.FontFace&&(!(d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(d[1],10))),h=st?new j(n(e.g,e),n(e.h,e),e.c,p,e.s,f):new P(n(e.g,e),n(e.h,e),e.c,p,e.s,t,f),c.push(h)}for(l=0;l<c.length;l++)c[l].start()}},0)}function U(t,e,n){var r=[],i=n.timeout;C(e);var r=D(t.a,n,t.c),o=new H(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load(function(e,n,r){z(t,o,e,n,r)})}function V(t,e){this.c=t,this.a=e}function W(t,e,n){var r=l(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),r+"//"+t+"/"+e+".js"+(n?"?v="+n:"")}function X(t,e){this.c=t,this.a=e}function Y(t,e,n){this.c=t||e+at,this.a=[],this.f=[],this.g=n||""}function K(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}function G(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Z(t){this.f=t,this.a=[],this.c={}}function Q(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var s,a=r[1];if(s=[],a)for(var a=a.split(","),u=a.length,l=0;l<u;l++){var c;if(c=a[l],c.match(/^[\w-]+$/)){var p=pt.exec(c.toLowerCase());if(null==p)c="";else{if(c=p[2],c=null==c||""==c?"n":ct[c],null==(p=p[1])||""==p)p="4";else var f=lt[p],p=f||(isNaN(p)?"4":p.substr(0,1));c=[c,p].join("")}}else c="";c&&s.push(c)}0<s.length&&(o=s),3==r.length&&(r=r[2],s=[],r=r?r.split(","):s,0<r.length&&(r=ut[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=ut[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new y(i,o[r]))}}function J(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.a=e}function et(t,e){this.c=t,this.f=e,this.a=[]}var nt=Date.now||function(){return+new Date},rt=!!window.FontFace;v.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},j.prototype.start=function(){function t(){nt()-r>=n.j?n.f(n.a):e.fonts.load(b(n.a),n.h).then(function(e){1<=e.length?n.g(n.a):setTimeout(t,25)},function(){n.f(n.a)})}var e=this.c.m.document,n=this,r=nt();t()};var it={D:"serif",C:"sans-serif"},ot=null;P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=nt(),$(this)};var st=null;H.prototype.g=function(t){var e=this.a;e.g&&a(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),T(e,"fontactive",t),this.o=!0,F(this)},H.prototype.h=function(t){var e=this.a;if(e.g){var n=u(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,w(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),a(e.f,r,i)}T(e,"fontinactive",t),F(this)},M.prototype.load=function(t){this.c=new r(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,U(this,new k(this.c,t),t)},V.prototype.load=function(t){function e(){if(i["__mti_fntLst"+n]){var r,o=i["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var u=o[a].fontfamily;void 0!=o[a].fontStyle&&void 0!=o[a].fontWeight?(r=o[a].fontStyle+o[a].fontWeight,s.push(new y(u,r))):s.push(new y(u))}t(s)}else setTimeout(function(){e()},50)}var n=this.a.projectId,r=this.a.version;if(n){var i=this.c.m;f(this.c,W(this,n,r),function(n){n?t([]):e()}).id="__MonotypeAPIScript__"+n}else t([])},X.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},s=new h;for(e=0,n=r.length;e<n;e++)p(this.c,r[e],d(s));var a=[];for(e=0,n=i.length;e<n;e++)if(r=i[e].split(":"),r[1])for(var u=r[1].split(","),l=0;l<u.length;l+=1)a.push(new y(r[0],u[l]));else a.push(new y(r[0]));g(s,function(){t(a,o)})};var at="//fonts.googleapis.com/css",ut={latin:"BESbswy",cyrillic:"",greek:"",khmer:"",Hanuman:""},lt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ct={i:"i",italic:"i",n:"n",normal:"n"},pt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ft={Arimo:!0,Cousine:!0,Tinos:!0};J.prototype.load=function(t){var e=new h,n=this.c,r=new Y(this.a.api,l(n),this.a.text),i=this.a.families;K(r,i);var o=new Z(i);Q(o),p(n,G(r),d(e)),g(e,function(){t(o.a,o.c,ft)})},tt.prototype.load=function(t){var e=this.a.id,n=this.c.m;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],s=e[i+1],a=0;a<s.length;a++)r.push(new y(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(r)}},2e3):t([])},et.prototype.load=function(t){var e=this.f.id,n=this.c.m,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var s=n.fonts[i];r.a.push(new y(s.name,E("font-weight:"+s.weight+";font-style:"+s.style)))}t(r.a)},f(this.c,l(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+c(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var ht=new M(window);ht.a.c.custom=function(t,e){return new X(e,t)},ht.a.c.fontdeck=function(t,e){return new et(e,t)},ht.a.c.monotype=function(t,e){return new V(e,t)},ht.a.c.typekit=function(t,e){return new tt(e,t)},ht.a.c.google=function(t,e){return new J(e,t)};var dt={load:n(ht.load,ht)};"function"==typeof define&&define.amd?define("web_font_loader",[],function(){return dt}):"undefined"!=typeof module&&module.exports?module.exports=dt:(window.WebFont=dt,window.WebFontConfig&&ht.load(window.WebFontConfig))}(),define("views/components/theme_builder",["require","underscore","tinycolor","text!templates/theme.css","etc/definitions","sp/utilities/escape","web_font_loader"],function(t){var e,n,r,i,o,s;return n=t("underscore"),s=t("tinycolor"),o=t("text!templates/theme.css"),i=t("etc/definitions").logo,r=t("sp/utilities/escape"),e=t("web_font_loader"),function(){function t(t){null!=t&&(this.theme=t.theme)}return t.THEME_ID="theme-styles",t.CUSTOM_THEME_ID="custom-theme-styles",t.prototype.theme=null,t.prototype.render=function(t){return this.removeTheme(),n.isEmpty(this.theme)?(this.setHeaderLogo(),t()):this.theme.link&&this.theme.link.length?this.loadLinkedStyles(t):n.isEmpty(this.theme.styles)?t():(this.loadStyles(),t())},t.prototype.loadStyles=function(){var e;return this.loadThemeFonts(),n.mixin({tinycolor:s}),e=n.template(o)(this.theme.styles).replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\/\*(\*(?!\/)|[^*])*\*\//gm,""),$("<style>").attr({type:"text/css",id:t.THEME_ID}).text(e).appendTo("head"),this.loadCustomStyles(),this.setHeaderLogo()},t.prototype.loadLinkedStyles=function(e){var n,r;return r=!1,n=$("<link>").attr({href:this.theme.link,id:t.THEME_ID,rel:"stylesheet",type:"text/css"}),n.load(function(t){return function(){if(!r)return r=!0,t.loadCustomStyles(),setTimeout(function(){return t.setHeaderLogo(),e()},0)}}(this)),n.appendTo("head")},t.prototype.loadCustomStyles=function(){var e;if(this.theme&&this.theme.styles&&this.theme.styles.custom&&this.theme.styles.custom.length)return e=r(this.theme.styles.custom),$("<style>").attr({type:"text/css",id:t.CUSTOM_THEME_ID}).text(e).appendTo("head")},t.prototype.setHeaderLogo=function(){var t,e,n,r,o,a,u,l,c,p;return t=$("#survey-header"),n=t.find("#header-logo"),e=n.find("img"),l=e.attr("src"),l!==i.light&&l!==i.dark&&l!==i.white&&l!==i.black||(p=.44,c=.13,u=i.dark,r=t.css("background-color"),a=s(r),o=a.getLuminance(),u=o<.5?i.light:i.dark,p-c<o&&o<p+c&&(u=i.white),e.attr("src",u),$("#welcome-header img").attr("src",u)),n.animate({opacity:1})},t.prototype.removeTheme=function(){return $("head").find("#"+t.THEME_ID).remove(),$("head").find("#"+t.CUSTOM_THEME_ID).remove()},t.prototype.loadThemeFonts=function(){var t,r,i;if(n.isEmpty(this.theme.styles)||(r=n.chain(this.theme.styles).map("font").reject(function(t){return n.isUndefined(t)||n.isNull(t)}).uniq().value()),r&&r.length){if(t=r.join("%7C").replace(/\s{1}/g,"+"),i='link[href="https://fonts.googleapis.com/css?family='+t+'"]',$(i).length)return;return e.load({google:{families:r}})}},t}()}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/parse_url",[],e):"object"==typeof module&&module.exports?module.exports=e():t.parseUrl=e()}(this,function(){return function(t){var e;return t=t||location,e=document.createElement("a"),e.href=t,{protocol:e.protocol.replace(":",""),hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host}}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/get_hostname",["./parse_url"],e):"object"==typeof module&&module.exports?module.exports=e(require("./parse_url")):t.getHostname=e(t.parseUrl)}(this,function(t){return function(e){return t(e).hostname}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/get_iframe_url",[],e):"object"==typeof module&&module.exports?module.exports=e():t.getIframeUrl=e()}(this,function(){return function(){return parent!==window?document.referrer:null}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/preload_image",[],e):"object"==typeof module&&module.exports?module.exports=e():t.preloadImage=e()}(this,function(){return function(t){var e;return e=function(t){var e;return e=new Image,e.src=t,e},t instanceof Array?t.map(e):e(t)}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/is_object_id",[],e):"object"==typeof module&&module.exports?module.exports=e():t.isObjectId=e()}(this,function(){return function(t){return/^[0-9a-fA-F]{24}$/.test(t)}}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/get_query_string_parameters",[],e):"object"==typeof module&&module.exports?module.exports=e():t.getQueryStringParameters=e()}(this,function(){return function(t){return t||(t=document.location.search),t&&(t=t.match(/(\?.*)/))&&t.length?(t=t[1],t.replace(/(^\?)/,"").split("&").map(function(t){return t=t.split("="),this[t[0]]=t[1],this}.bind({}))[0]):{}}});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("sp/ui/alert",["require","backbone"],function(t){var e;return e=t("backbone").View,function(t){function e(){return this.closeButtonClickHandler=bind(this.closeButtonClickHandler,this),this.destroy=bind(this.destroy,this),this.hide=bind(this.hide,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.events={"click .close_button":"closeButtonClickHandler"},e.prototype.id="alert",e.prototype.headline=null,e.prototype.subhead=null,e.prototype.message=null,e.prototype.type="success",e.prototype.fadeInTime=.6,e.prototype.hideDelayTime=6,e.prototype.initialize=function(t,e,n){if(this.headline=t,this.message=e,n)return this.type=n},e.prototype.render=function(){var t,e;return $("#alert").remove(),e=$("<div>").addClass("icon-wrapper").append(this.getDisplayIcon()),t=$("<span>").addClass("icon icon-x close_button"),this.$el.attr("role","alert").addClass(this.type),this.$el.append(e),this.$el.append($("<h3>").html(this.headline)),this.subhead&&this.subhead.length&&this.$el.append($("<h4>").html(this.subhead)),this.message&&this.message.length&&this.$el.append($("<p>").addClass("alert-message").html(this.message)),this.$el.append(t),$("body").append(this.$el),this.$el.fadeIn(1e3*this.fadeInTime,this.hide)},e.prototype.setHeadline=function(t){if(null==t&&(t=this.headline),this.headline=t,this.headline)return this.$el.find("<h3>").html(this.headline)},e.prototype.setSubhead=function(t){if(null==t&&(t=this.subhead),this.subhead=t,this.subhead)return this.$el.find("<h4>").html(this.subhead)},e.prototype.setMessage=function(t){if(null==t&&(t=this.message),this.message=t,this.message)return this.$el.find("p.alert-message").html(this.message)},e.prototype.getDisplayIcon=function(){var t,e;return t=$("<span>").addClass("icon"),e=function(){switch(this.type){case"error":return"x";case"warning":return"exclamation";case"success":return"check";case"info":return"info";default:return this.type}}.call(this),t.addClass("icon-"+e)},e.prototype.hide=function(){if(this.hideDelayTime>0&&this.$el)return this.$el.delay(1e3*this.hideDelayTime).slideUp(100,function(t){
return function(){return t.destroy(),t.$el=null}}(this))},e.prototype.destroy=function(){if(this.$el)return this.$el.off(),this.$el.remove()},e.prototype.closeButtonClickHandler=function(t){return t.preventDefault(),this.destroy()},e}(e)}),function(t,e){"function"==typeof define&&define.amd?define("sp/session",[],e):"object"==typeof module&&module.exports?module.exports=e():t.session=e()}(this,function(){return{available:function(){var t;t="test";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}},set:function(t,e){if(t){e&&"object"==typeof e&&e.constructor===Object&&(e=JSON.stringify(e));try{return sessionStorage.setItem(t,e)}catch(t){}}},get:function(t,e){var n;try{n=sessionStorage.getItem(t)}catch(t){t,n=null}n||(n=e);try{n=JSON.parse(n)}catch(t){}return n},remove:function(t){return sessionStorage.removeItem(t)}}}),function(t,e){"function"==typeof define&&define.amd?define("sp/locals",[],e):"object"==typeof module&&module.exports?module.exports=e():t.locals=e()}(this,function(){return{available:function(){var t;t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}},set:function(t,e){e=JSON.stringify(e);try{return localStorage.setItem(t,e)}catch(t){}},get:function(t,e){var n;try{n=localStorage.getItem(t)}catch(t){t,n=null}n||(n=e);try{n=JSON.parse(n)}catch(t){}return n},remove:function(t){return localStorage.removeItem(t)}}}),define("etc/participant_cache",["require","sp/locals","underscore"],function(t){var e,n,r,i,o,s;return i=t("sp/locals"),o=t("underscore"),s=o.reject,n=o.find,r=o.findIndex,e=o.clone,function(){function t(){}return t.CACHE_NAME="participants",t.CACHE_SURVEY_COMPLETED_NAME="completed",t.set=function(n){var r,o;if(n)return n="function"==typeof n.toJSON?n.toJSON():e(n),r=i.get(t.CACHE_NAME,[]),o=s(r,{survey:n.survey}),o.push(n),i.set(t.CACHE_NAME,o),n},t.get=function(e,r){var i;if(null==r&&(r="survey"),(i=t.getAll())&&i.length)return n(i,function(t){return t[r]===e})},t.remove=function(e){var n,o;if((n=t.getAll())&&n.length)return o=r(participants,{survey:e}),o>=0&&participants.splice(o,1),i.set(t.CACHE_NAME,participants)},t.getAll=function(){return i.get(t.CACHE_NAME,[])},t.clear=function(){return i.remove(t.CACHE_NAME)},t.markComplete=function(e,n){var r;return r={},r._id=n,r.survey=e,r[t.CACHE_SURVEY_COMPLETED_NAME]=!0,t.set(r),r},t.setSession=function(e,n){var r;if(e&&e.length&&n&&n.length&&(r=t.get(e)))return r.session=n,t.set(r),r},t.getSession=function(e){var n;return n=t.get(e)||{},n.session},t}()});var bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;define("views/survey_view",["require","backbone","underscore","jquery","transform_image","raven","models/survey","models/participant","views/welcome","views/success","views/display_types/multiple","views/display_types/single","views/components/loader","views/components/theme_builder","sp/utilities/markdown_to_html","sp/utilities/get_hostname","sp/utilities/get_iframe_url","sp/utilities/preload_image","sp/utilities/is_object_id","sp/utilities/get_query_string_parameters","sp/ui/questions/question_forms/image","sp/ui/alert","sp/session","etc/participant_cache","etc/definitions"],function(t){var e,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,v,y,b,_,w,x;return h=t("backbone").View,g=t("underscore"),e=t("jquery"),x=t("transform_image"),u=t("raven"),p=t("models/survey"),s=t("models/participant"),d=t("views/welcome"),c=t("views/success"),o=t("views/display_types/multiple"),l=t("views/display_types/single"),i=t("views/components/loader"),f=t("views/components/theme_builder"),b=t("sp/utilities/markdown_to_html"),t("sp/utilities/get_hostname"),t("sp/utilities/get_iframe_url"),_=t("sp/utilities/preload_image"),y=t("sp/utilities/is_object_id"),v=t("sp/utilities/get_query_string_parameters"),r=t("sp/ui/questions/question_forms/image"),n=t("sp/ui/alert"),w=t("sp/session"),a=t("etc/participant_cache"),m=t("etc/definitions"),function(t){function h(){return this.windowMessageHandler=bind(this.windowMessageHandler,this),this.ajaxErrorHandler=bind(this.ajaxErrorHandler,this),this.visibilityChangeHandler=bind(this.visibilityChangeHandler,this),this.windowUnloadHandler=bind(this.windowUnloadHandler,this),this.surveyCompleteHandler=bind(this.surveyCompleteHandler,this),this.surveyBeginHandler=bind(this.surveyBeginHandler,this),h.__super__.constructor.apply(this,arguments)}return extend(h,t),h.READY_EVENT="ready",h.ERROR_EVENT="error",h.BEGIN_EVENT="begin",h.SUCCESS_EVENT="success",h.UNAVAILABLE_EVENT="unavailable",h.FORBIDDEN_EVENT="forbidden",h.prototype.el="#survey-container",h.prototype.pro=!1,h.prototype.preview=!1,h.prototype.sessionToken=null,h.prototype.disqualified=!1,h.prototype.totalQuestions=0,h.prototype.participant=null,h.prototype.loader=null,h.prototype.unsupportedBrowser=!1,h.prototype.bounceCaptured=!1,h.prototype.onWelcomeScreen=!1,h.prototype.initialize=function(t){var n;return h.__super__.initialize.call(this),n=t.data,u.setUserContext({id:g.get(n,["user","_id"]),email:g.get(n,["user","email"])}),u.setExtraContext(n),e.ajaxSetup({cache:!1,crossDomain:!1,dataType:"json"}),g.mixin({markdownToHtml:b}),n.language&&n.language.definitions&&(n.definitions=n.language.definitions),n.user&&(this.pro=n.user.license&&n.user.license.active||n.user.customer&&n.user.customer.status),this.preview=n.preview,this.sessionToken=n.session,this.loader=new i,this.model=new p(n),this.initListeners(),this.initParticipant(),this.preloadImages()},h.prototype.render=function(){return this.unsupportedBrowser=e("html").is(".ie9"),this.unsupportedBrowser&&this.renderBrowserWarning(),y(this.model.get("_id"))?this.participant.get(a.CACHE_SURVEY_COMPLETED_NAME)&&this.model.get("preventDuplicates")?this.trigger(h.FORBIDDEN_EVENT):this.model.get("active")||this.preview?(this.trigger(h.READY_EVENT),e("body").addClass(this.model.get("display").style),this.setHeaderLogo(),this.renderTheme(function(t){return function(){return t.loader.hide(),e("#survey-header").css({opacity:1}),t.renderWelcome()}}(this))):this.trigger(h.UNAVAILABLE_EVENT):this.trigger(h.UNAVAILABLE_EVENT)},h.prototype.initParticipant=function(){var t;if(this.preview||(t=a.get(this.model.get("_id"))),this.participant=new s(t),this.participant.set("survey",this.model.get("_id")),this.participant.set("referer",document.referrer),this.participant.set("userAgent",navigator.userAgent),!this.participant.get("session")||!this.participant.get("session").length)return this.participant.set("session",this.sessionToken)},h.prototype.preloadImages=function(){var t;return t=[],this.model.get("welcome")&&this.model.get("welcome").img&&this.model.get("welcome").img.length&&t.push(this.model.get("welcome").img),this.model.get("success")&&this.model.get("success").img&&this.model.get("success").img.length&&t.push(this.model.get("success").img),this.model.get("questions").forEach(function(e){var n;if("image"===e.type)return n=function(){switch(e.properties.size){case"large":return{w:r.SIZE_LARGE[0],h:r.SIZE_LARGE[1]};case"small":return{w:r.SIZE_SMALL[0],h:r.SIZE_SMALL[1]};default:return{w:r.SIZE_MEDIUM[0],h:r.SIZE_MEDIUM[1]}}}(),e.properties.labels.forEach(function(e){var r;if(e.image&&(r=x(e.image,{resize:{width:n.w,height:n.h,fit:"contain"}}))&&r.length)return t.push(r)})}),_(t)},h.prototype.setHeaderLogo=function(){var t,n,r,i;return r=m.logo.light,n=e("#header-logo"),t=n.find("img"),this.model.get("branding")?(this.model.get("branding").logo&&this.model.get("branding").logo.length?(i=x(this.model.get("branding").logo,{resize:{height:70,dpr:2,fit:"inside"}}),t.attr({src:i,alt:"Survey Logo"})):t.attr({src:r,alt:"SurveyPlanet Logo"}),this.model.get("branding").url&&this.model.get("branding").url.length?n.attr("href",this.model.get("branding").url):void 0):t.attr({src:r,alt:"SurveyPlanet Logo"})},h.prototype.renderTheme=function(t){var e;return null==t&&(t=function(){}),e=new f,e.theme=this.model.get("theme"),e.render(t)},h.prototype.renderWelcome=function(){var t;return this.onWelcomeScreen=!0,t=new d({model:this.model}),t.definitions=this.model.get("definitions")||{},t.email=this.participant.get("email"),t.on(d.BEGIN_EVENT,this.surveyBeginHandler),this.$el.append(t.render()),t.in({animate:!0},function(t){return function(){return t.trigger(h.BEGIN_EVENT)}}(this))},h.prototype.renderBrowserWarning=function(){var t;return t=new n,t.type="warning",t.hideDelayTime=0,t.headline="Unsupported Browser",t.message='Please note that SurveyPlanet no longer supports old versions of Internet Explorer.\nWe recommend upgrading to \n<a href="https://www.microsoft.com/en-us/windows/microsoft-edge">Microsoft Edge</a>, \n<a href="https://chrome.google.com/">Google Chrome</a>, or \n<a href="https://mozilla.org/firefox/">Firefox</a>.\n<br><br>\nIf you\'re using a recent version of IE make sure you turn off\n<a target="_blank" href="https://support.microsoft.com/en-us/help/17472/windows-internet-explorer-11-fix-site-display-problems-compatibility-v"\n>Compatibility View</a>.',t.render()},h.prototype.initQuestions=function(){var t;return this.onWelcomeScreen=!1,t=function(){switch(this.model.get("display").style){case"multiple":return new o;case"single":default:return new l}}.call(this),t.model=this.model,t.participant=this.participant,t.hasBranches=g.some(this.model.get("questions"),function(t){return null!=t.branches&&t.branches.length}),t.on("complete",this.surveyCompleteHandler),this.$el.append(t.render())},h.prototype.getSuccessRedirect=function(t,n,r){var i,o,s;return null==r&&(r=!1),i={},r&&(i=v()),s=v(t||"")||{},o=g.assign(s,n,i),g.isEmpty(o)||(t=t.split(/[?#]/)[0],t+="?",t+=e.param(o)),t},h.prototype.renderSuccess=function(){var t,e,n,r,i;return this.trigger(h.SUCCESS_EVENT),this.preview||this.destroyListeners(),this.loader.hide(),t=this.model.get("success"),r={sid:this.model.get("_id"),pid:this.participant.get("_id")},i=this.getSuccessRedirect(GLOBALS.uris.front+"/success",r),this.pro||this.preview?(n=function(t){return function(){var e,n;return e=t.preview?(new Date).getTime().toString(36):t.participant.get("_id"),n=new c({model:t.model,participantId:e}),n.definitions=t.model.get("definitions")||{},t.$el.append(n.render()),n.in({animate:!0})}}(this),t&&t.url&&t.url.length?(i=this.getSuccessRedirect(t.url,r,!0),g.toNumber(t.delay)>0?(n(),e=1e3*t.delay+500,setTimeout(function(t){return function(){return window.location.href=i}}(),e)):window.location.href=i):n()):(w.set("success-msg",t.msg),window.location.href=i)},h.prototype.captureBounce=function(){var t,e,n,r,i,o;if(!this.bounceCaptured&&!this.preview&&Object.prototype.hasOwnProperty.call(window,"URLSearchParams")&&"function"==typeof navigator.sendBeacon&&(t=a.get(this.model.get("_id")))&&t.session&&t.session.length)return n="session="+t.session+"&survey="+t.survey,this.onWelcomeScreen?o="welcome":(e=g.last(t.answers),r=e&&null!=e.index?e.index+1:0,(i=g.get(this.model.get("questions"),[r]))&&i._id&&i._id.length&&(o=i._id)),o&&o.length&&(n+="&question="+o),this.bounceCaptured=!0,navigator.sendBeacon(GLOBALS.uris.api+"/insights/bounce",new URLSearchParams(n))},h.prototype.cacheParticipant=function(){if(this.participant)return a.set(this.participant)},h.prototype.saveParticipant=function(){var t;return this.loader.show(),this.preview||this.participant.disqualified?this.renderSuccess():(this.participant.get("time").end=new Date,t=this.participant.toJSON(),delete t._id,e.ajax({url:"/success",type:"POST",dataType:"json",data:t}).done(function(t){return function(e){var n;if(200===e.status)return n=e.data||{},a.markComplete(n.survey,n._id),t.bounceCaptured=!1,t.participant=new s(n),t.renderSuccess()}}(this)).fail(function(t){return function(e){return t.cacheParticipant()}}(this)))},h.prototype.destroyListeners=function(){return e(window).off("beforeunload",this.windowUnloadHandler),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),e(window).off("message",this.windowMessageHandler)},h.prototype.initListeners=function(){return e(document).ajaxError(this.ajaxErrorHandler),e(window).on("beforeunload",this.windowUnloadHandler),document.addEventListener("visibilitychange",this.visibilityChangeHandler),e(window).on("message",this.windowMessageHandler)},h.prototype.surveyBeginHandler=function(t){if(t instanceof d)return this.participant.set("email",t.email),g.isDate(this.participant.get("time").start)||(this.participant.get("time").start=new Date),t.out({animate:!0,destroyOnComplete:!0},function(){return e("body").scrollTop(0)}),this.initQuestions()},h.prototype.surveyCompleteHandler=function(t){return this.saveParticipant()},h.prototype.windowUnloadHandler=function(t){return this.cacheParticipant(),this.captureBounce()},h.prototype.visibilityChangeHandler=function(t){if("hidden"===document.visibilityState)return this.cacheParticipant(),this.captureBounce()},h.prototype.ajaxErrorHandler=function(t,e,r,i){var o,s;if(this.loader.hide(),u.captureMessage(i||e.statusText,{extra:{type:r.type,url:r.url,status:e.status,error:i||e.statusText,response:e.responseText&&e.responseText.length?e.responseText.substring(0,100):void 0}}),this.trigger(h.ERROR_EVENT,e.status),this.destroyListeners(),200!==e.status){switch(s="<a href='https://surveyplanet.com/contact' target='_blank'>contact us</a>",o=new n,o.hideDelayTime=0,o.type="error",e.status){case 413:o.headline="Request Too Large",o.message="Sorry, we're unable to complete this request because \nit is too large. Refresh the page and try to pare \ndown some of your responses or "+s+", we're \nhappy to help.";break;case 404:o.headline="Not Found",o.message="Sorry, we're unable to find this survey; \ncheck the survey url and try it again. If you're sure \nit's correct please "+s+", \nwe're happy to help.";break;case 400:o.headline="Invalid Request",o.message="Required parameters are missing or invalid. If you \nfeel you've received this message in error please\n"+s+", we're happy to help.";break;default:o.headline="Unexpected Error",o.message="Please refresh the page and try again; if that \ndoesn't help "+s+", we're happy to help."}return o.render()}},h.prototype.windowMessageHandler=function(t){var e;if(e=t.originalEvent.data||{},g.isString(e))try{e=JSON.parse(e)}catch(t){}if(this.preview&&e&&e.hasOwnProperty("theme"))return this.model.set("theme",e.theme||{}),this.renderTheme()},h}(h)}),function(t,e){"function"==typeof define&&define.amd?define("sp/utilities/get_query_string_parameter",[],e):"object"==typeof module&&module.exports?module.exports=e():t.getQueryStringParameter=e()}(this,function(){return function(t,e){var n,r;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\\\?&]"+t+"=([^&#]*)"),r=n.exec(e||location.search),null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}}),define("root/app",["require","jquery","underscore","views/survey_view","sp/ui/alert","raven","etc/participant_cache","sp/locals","sp/utilities/get_query_string_parameter"],function(t){var e,n,r,i,o,s,a;return e=t("jquery"),s=t("underscore"),o=t("views/survey_view"),n=t("sp/ui/alert"),i=t("raven"),r=t("etc/participant_cache"),t("sp/locals"),a=t("sp/utilities/get_query_string_parameter"),function(){function t(t){this.surveyId=t||GLOBALS.surveyId,this.init()}return t.MAX_REQUESTS=5,t.surveyView=null,t.prototype.dataFetchCount=0,t.prototype.errRetryMill=800,t.prototype.surveyId=null,t.prototype.session=null,t.prototype.init=function(){return this.getData(function(t){return function(e){var n;return t.surveyView=new o({version:GLOBALS.version,env:GLOBALS.env,data:e}),n=s.get(e,["language","code"]),t.surveyView.on(o.UNAVAILABLE_EVENT,function(){return t.surveyView.destroyListeners(),window.location.href="/unavailable?lang="+n}),t.surveyView.on(o.FORBIDDEN_EVENT,function(){return t.surveyView.destroyListeners(),window.location.href="/completed?lang="+n}),t.surveyView.render()}}(this))},t.prototype.getData=function(o){var s,u,l,c,p;return p=GLOBALS.uris.api+"/survey/data/"+this.surveyId,l={},c=r.getSession(this.surveyId),u=a("preview"),u&&u.length&&(l.preview=u),s={url:p,data:l,dataType:"json",beforeSend:function(t){if(c&&c.length)return t.setRequestHeader("x-session",c)}},e.ajax(s).done(function(t){return o(t.data)}).fail(function(e){return function(r){var s;return++e.dataFetchCount<t.MAX_REQUESTS?setTimeout(function(){return e.errRetryMill/=.5,e.getData(o)},e.errRetryMill):(i.captureException(r),s=new n,s.hideDelayTime=0,s.type="error",s.headline="Unexpected Error",s.message="Please refresh the page and try again; if that \ndoesn't help <a href='https://surveyplanet.com/contact' \ntarget='_blank'>contact us</a>, we're happy to help.",s.render())}}(this))},t}()}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}),define("polyfills/object-entries",function(){}),require.config({baseUrl:"/javascript/libs",enforceDefine:!1,waitSeconds:120,paths:{root:"..",collections:"../collections",etc:"../etc",models:"../models",views:"../views",templates:"../../templates",underscore:"lodash",cloudinary:"cloudinary/cloudinary-core-shrinkwrap",text:"require_plugins/text",propertyParser:"require_plugins/propertyParser"}}),define("../main",["require","jquery","raven","root/app","polyfills/object-entries"],function(t){var e,n,r;return window.DEBUG=!1,e=t("jquery"),r=t("raven"),n=t("root/app"),t("polyfills/object-entries"),r.config(GLOBALS.publicKeys.sentry,{environment:GLOBALS.env,release:GLOBALS.version,logger:"javascript"}).install(),e(document).ready(function(){return new n(GLOBALS.surveyId)})}),function(t){"function"==typeof define&&define.amd?define("jquery.xdomainrequest",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){if(t.support.cors||!t.ajaxTransport||!window.XDomainRequest)return t;var e=/^(https?:)?\/\//i,n=/^get|post$/i,r=new RegExp("^(//|"+location.protocol+")","i");return t.ajaxTransport("* text html xml json",function(i,o,s){if(i.crossDomain&&i.async&&n.test(i.type)&&e.test(i.url)&&r.test(i.url)){var a=null;return{send:function(e,n){var r="",s=(o.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(o.timeout)&&(a.timeout=o.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,r={code:200,message:"success"},i={text:a.responseText};try{if("html"===s||/text\/html/i.test(a.contentType))i.html=a.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(a.contentType))try{i.json=t.parseJSON(a.responseText)}catch(t){r.code=500,r.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(a.contentType)){var o=new ActiveXObject("Microsoft.XMLDOM");o.async=!1;try{o.loadXML(a.responseText)}catch(t){o=void 0}if(!o||!o.documentElement||o.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+a.responseText;i.xml=o}}catch(t){throw t}finally{n(r.code,r.message,i,e)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},o.data&&(r="string"===t.type(o.data)?o.data:t.param(o.data)),a.open(i.type,i.url),a.send(r)},abort:function(){a&&a.abort()}}}}),t}),require(["../main"]);
//# sourceMappingURL=main.js.map